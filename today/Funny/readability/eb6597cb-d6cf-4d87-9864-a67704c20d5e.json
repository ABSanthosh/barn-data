{
  "id": "eb6597cb-d6cf-4d87-9864-a67704c20d5e",
  "title": "Space for Queries",
  "link": "https://thedailywtf.com/articles/space-for-queries",
  "description": "Maria was hired as a consultant by a large financial institution. The institution had a large pile of ETL scripts, reports, analytics dashboards, and the like, which needed to be supported. The challenge is that everyone who wasn't a developer had built the system. Due to the vagaries of internal billing, hiring IT staff to do the work would have put it under a charge code which would have drained the wrong budget, so they just did their best. The quality of the system wasn't particularly good, and it required a lot of manual support to actually ensure that it kept working. It was several hundred tables, with no referential integrity constraints on them, no validation rules, no concept of normalization (or de-normalization- it was strictly abnormalied tables) and mostly stringly typed data. It all sat in an MS SQL Server, and required daily manual runs of stored procedures to actually function. Maria spent a lot of time exploring the data, trying to understand the various scripts, stored procedures, manual processes, and just the layout of the data. As part of this, she ran SELECT queries directly from the SQL Server Management Studio (SSMS), based on the various ETL and reporting jobs. One reporting step queried the \"BusinessValue\" column from a table. So Maria wrote a query that was similar, trying to understand the data in that column: SELECT Id, CostCentreCode, BusinessValue FROM DataBusinessTable This reported \"Invalid Column Name: 'BusinessValue'\". Maria re-read the query she was copying. She opened the definition of the table in the SSMS UI. There was a column clearly labeled \"BusinessValue\". She read it carefully, ensuring that there wasn't a typo or spelling error, either in her query or the table definition. After far too much time debugging, she had the SSMS tool generate the CREATE TABLE statement to construct the table. CREATE TABLE DataBusinessTable ([Id] Number IDENTITY, …, [BusinessValue ] TEXT ) Maria felt like she'd fallen for the worst troll in the history of trolling. The column name had a space at the end. According to Maria, this has since been \"fixed\" in SQL Server- you can now run queries which omit trailing whitespace from names, but at the time she was working on this project, that's clearly not how things worked. The fact that this trailing whitespace problem was common enough that the database engine added a feature to avoid it is in fact, the real WTF. [Advertisement] Otter - Provision your servers automatically without ever needing to log-in to a command prompt. Get started today!",
  "author": "Remy Porter",
  "published": "Wed, 25 Sep 2024 06:30:00 GMT",
  "source": "http://syndication.thedailywtf.com/TheDailyWtf",
  "categories": [
    "Feature Articles"
  ],
  "byline": "Remy Porter",
  "length": 2829,
  "excerpt": "Maria was hired as a consultant by a large financial institution. The institution had a large pile of ETL scripts, reports, analytics dashboards, and the like, which needed to be supported. The challenge is that everyone who wasn't a developer had built the system. Due to the vagaries of internal billing, hiring IT staff to do the work would have put it under a charge code which would have drained the wrong budget, so they just did their best. The quality of the system wasn't particularly good, and it required a lot of manual support to actually ensure that it kept working. It was several hundred tables, with no referential integrity constraints on them, no validation rules, no concept of normalization (or de-normalization- it was strictly abnormalied tables) and mostly stringly typed data. It all sat in an MS SQL Server, and required daily manual runs of stored procedures to actually function.",
  "siteName": "The Daily WTF",
  "favicon": "",
  "text": "by in Feature Articles on 2024-09-25 Edit Remy PorterComputers were a mistake, which is why I'm trying to shoot them into space. Editor-in-Chief for TDWTF. Maria was hired as a consultant by a large financial institution. The institution had a large pile of ETL scripts, reports, analytics dashboards, and the like, which needed to be supported. The challenge is that everyone who wasn't a developer had built the system. Due to the vagaries of internal billing, hiring IT staff to do the work would have put it under a charge code which would have drained the wrong budget, so they just did their best. The quality of the system wasn't particularly good, and it required a lot of manual support to actually ensure that it kept working. It was several hundred tables, with no referential integrity constraints on them, no validation rules, no concept of normalization (or de-normalization- it was strictly abnormalied tables) and mostly stringly typed data. It all sat in an MS SQL Server, and required daily manual runs of stored procedures to actually function. Maria spent a lot of time exploring the data, trying to understand the various scripts, stored procedures, manual processes, and just the layout of the data. As part of this, she ran SELECT queries directly from the SQL Server Management Studio (SSMS), based on the various ETL and reporting jobs. One reporting step queried the \"BusinessValue\" column from a table. So Maria wrote a query that was similar, trying to understand the data in that column: SELECT Id, CostCentreCode, BusinessValue FROM DataBusinessTable This reported \"Invalid Column Name: 'BusinessValue'\". Maria re-read the query she was copying. She opened the definition of the table in the SSMS UI. There was a column clearly labeled \"BusinessValue\". She read it carefully, ensuring that there wasn't a typo or spelling error, either in her query or the table definition. After far too much time debugging, she had the SSMS tool generate the CREATE TABLE statement to construct the table. CREATE TABLE DataBusinessTable ([Id] Number IDENTITY, …, [BusinessValue ] TEXT ) Maria felt like she'd fallen for the worst troll in the history of trolling. The column name had a space at the end. According to Maria, this has since been \"fixed\" in SQL Server- you can now run queries which omit trailing whitespace from names, but at the time she was working on this project, that's clearly not how things worked. The fact that this trailing whitespace problem was common enough that the database engine added a feature to avoid it is in fact, the real WTF. [Advertisement] Otter - Provision your servers automatically without ever needing to log-in to a command prompt. Get started today!",
  "image": "https://s3.amazonaws.com/remy.jetpackshark.com/remy-thumb.jpg",
  "html": "\u003cdiv id=\"readability-page-1\" class=\"page\"\u003e\u003cdiv itemscope=\"\" itemtype=\"http://schema.org/Article\" id=\"article-page\"\u003e\n\n        \n        \u003cp\u003e\u003cspan\u003eby \n            in \u003ca itemprop=\"articleSection\" href=\"https://thedailywtf.com/series/feature-articles\"\u003eFeature Articles\u003c/a\u003e\n            on \u003cspan itemprop=\"datePublished\" content=\"2024-09-25\"\u003e2024-09-25\u003c/span\u003e\n            \u003ca href=\"https://thedailywtf.com/admin/article/edit/10745\" rel=\"nofollow\"\u003eEdit\u003c/a\u003e\n        \u003c/span\u003e\u003c/p\u003e\n        \u003cdiv itemprop=\"author\" itemscope=\"\" itemtype=\"http://schema.org/Person\"\u003e\n            \u003cp\u003e\u003cimg itemprop=\"image\" src=\"https://s3.amazonaws.com/remy.jetpackshark.com/remy-thumb.jpg\"/\u003e\n            \u003ca itemprop=\"name\" href=\"https://thedailywtf.com/authors/remy-porter\"\u003eRemy Porter\u003c/a\u003e\u003c/p\u003e\u003cp itemprop=\"description\"\u003eComputers were a mistake, which is why I\u0026#39;m trying to shoot them into space. Editor-in-Chief for TDWTF.\u003c/p\u003e\n        \u003c/div\u003e\n        \u003cdiv itemprop=\"articleBody\"\u003e\n            \u003cp\u003e\u003cstrong\u003eMaria\u003c/strong\u003e was hired as a consultant by a large financial institution. The institution had a large pile of ETL scripts, reports, analytics dashboards, and the like, which needed to be supported. The challenge is that everyone \u003cem\u003ewho wasn\u0026#39;t\u003c/em\u003e a developer had built the system. Due to the vagaries of internal billing, hiring IT staff to do the work would have put it under a charge code which would have drained the wrong budget, so they just did their best.\u003c/p\u003e\n\u003cp\u003eThe quality of the system wasn\u0026#39;t particularly good, and it required a lot of manual support to actually ensure that it kept working. It was several hundred tables, with no referential integrity constraints on them, no validation rules, no concept of normalization (or de-normalization- it was strictly abnormalied tables) and mostly stringly typed data. It all sat in an MS SQL Server, and required daily manual runs of stored procedures to actually function.\u003c/p\u003e\n\u003cp\u003eMaria spent a lot of time exploring the data, trying to understand the various scripts, stored procedures, manual processes, and just the layout of the data. As part of this, she ran SELECT queries directly from the SQL Server Management Studio (SSMS), based on the various ETL and reporting jobs.\u003c/p\u003e\n\u003cp\u003eOne reporting step queried the \u0026#34;BusinessValue\u0026#34; column from a table. So Maria wrote a query that was similar, trying to understand the data in that column:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan\u003eSELECT\u003c/span\u003e Id, CostCentreCode, BusinessValue \u003cspan\u003eFROM\u003c/span\u003e DataBusinessTable\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis reported \u0026#34;Invalid Column Name: \u0026#39;BusinessValue\u0026#39;\u0026#34;.\u003c/p\u003e\n\u003cp\u003eMaria re-read the query she was copying. She opened the definition of the table in the SSMS UI. There was a column clearly labeled \u0026#34;BusinessValue\u0026#34;. She read it carefully, ensuring that there wasn\u0026#39;t a typo or spelling error, either in her query or the table definition.\u003c/p\u003e\n\u003cp\u003eAfter far too much time debugging, she had the SSMS tool generate the \u003ccode\u003eCREATE TABLE\u003c/code\u003e statement to construct the table.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan\u003eCREATE\u003c/span\u003e \u003cspan\u003eTABLE\u003c/span\u003e DataBusinessTable\n([Id] Number \u003cspan\u003eIDENTITY\u003c/span\u003e,\n …,\n  [BusinessValue ] TEXT\n)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eMaria felt like she\u0026#39;d fallen for the worst troll in the history of trolling. The column name \u003cem\u003ehad a space at the end\u003c/em\u003e.\u003c/p\u003e\n\u003cp\u003eAccording to Maria, this has since been \u0026#34;fixed\u0026#34; in SQL Server- you can now run queries which omit trailing whitespace from names, but at the time she was working on this project, that\u0026#39;s clearly not how things worked.\u003c/p\u003e\n\u003cp\u003eThe fact that this trailing whitespace problem was common enough that the database engine added a feature to avoid it is in fact, the real WTF.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://thedailywtf.com/images/inedo/otter-icon.png\"/\u003e [Advertisement] \n\t\u003ca href=\"https://inedo.com/otter?utm_source=tdwtf\u0026amp;utm_medium=Footerad\u0026amp;utm_term=2018\u0026amp;utm_content=Provision\u0026amp;utm_campaign=Otter_Footer\"\u003eOtter\u003c/a\u003e - Provision your servers automatically without ever needing to log-in to a command prompt. \u003ca href=\"https://inedo.com/otter/download?utm_source=tdwtf\u0026amp;utm_medium=Footerad\u0026amp;utm_term=2018\u0026amp;utm_content=Provision\u0026amp;utm_campaign=Otter_Footer\"\u003eGet started today!\u003c/a\u003e \n\u003c/p\u003e\n\n\n        \u003c/div\u003e\n\n        \n    \u003c/div\u003e\u003c/div\u003e",
  "readingTime": "4 min read",
  "publishedTime": "2024-09-25T06:30:00Z",
  "modifiedTime": null
}

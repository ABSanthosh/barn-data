{
  "id": "4ae3ab09-ab45-4a3a-923a-f7005dad515b",
  "title": "CodeSOD: No Limits on Repetition",
  "link": "https://thedailywtf.com/articles/no-limits-on-repetition",
  "description": "Just because you get fired doesn't mean that your pull requests are automatically closed. Dallin was in the middle of reviewing a PR by Steve when the email came out announcing that Steve no longer worked at the company. Let's take a look at that PR, and maybe we can see why. $originalUndrawn = DecimalHelper::toDecimal($party-\u003elimit)-\u003esub(DecimalHelper::toDecimal($party-\u003edrawn)); This is the original code, which represents operations on investments. An investment is represented by a note, and belongs to one or more partys. The amount that can be drawn is set by a limit, which can belong to either the party or the note. What our developer was tasked with doing was allow a note to have no limit. This means changing all the places where the note's limit is checked. So this is what they submitted: if ($note-\u003elimit == null) { $originalUndrawn = DecimalHelper::toDecimal($party-\u003elimit)-\u003esub(DecimalHelper::toDecimal($party-\u003edrawn)); } else { $originalUndrawn = DecimalHelper::toDecimal($party-\u003elimit)-\u003esub(DecimalHelper::toDecimal($party-\u003edrawn)); } You'll note here that the note limit isn't part of calculating the party limits, so both branches do the same thing. And then there's the deeper question of \"is a null really the best way to represent this?\" especially given that elsewhere in the code they have an \"unlimited\" flag that disables limit checking. Now, Steve wasn't let go only for their code- they were just a miserable co-worker who liked to pick fights in pull request comments. So the real highlight of Steve's dismissal was that Dallin got to have a meaningful discussion about the best way to make this change with the rest of the team, and Steve didn't have a chance to disrupt it. [Advertisement] Keep the plebs out of prod. Restrict NuGet feed privileges with ProGet. Learn more.",
  "author": "Remy Porter",
  "published": "Mon, 03 Feb 2025 06:30:00 GMT",
  "source": "http://syndication.thedailywtf.com/TheDailyWtf",
  "categories": [
    "CodeSOD"
  ],
  "byline": "Remy Porter",
  "length": 2198,
  "excerpt": "Just because you get fired doesn't mean that your pull requests are automatically closed. Dallin was in the middle of reviewing a PR by Steve when the email came out announcing that Steve no longer worked at the company. Let's take a look at that PR, and maybe we can see why.",
  "siteName": "The Daily WTF",
  "favicon": "",
  "text": "by in CodeSOD on 2025-02-03 Edit Remy PorterComputers were a mistake, which is why I'm trying to shoot them into space. Editor-in-Chief for TDWTF. Just because you get fired doesn't mean that your pull requests are automatically closed. Dallin was in the middle of reviewing a PR by Steve when the email came out announcing that Steve no longer worked at the company. Let's take a look at that PR, and maybe we can see why. $originalUndrawn = DecimalHelper::toDecimal($party-\u003elimit)-\u003esub(DecimalHelper::toDecimal($party-\u003edrawn)); This is the original code, which represents operations on investments. An investment is represented by a note, and belongs to one or more partys. The amount that can be drawn is set by a limit, which can belong to either the party or the note. What our developer was tasked with doing was allow a note to have no limit. This means changing all the places where the note's limit is checked. So this is what they submitted: if ($note-\u003elimit == null) { $originalUndrawn = DecimalHelper::toDecimal($party-\u003elimit)-\u003esub(DecimalHelper::toDecimal($party-\u003edrawn)); } else { $originalUndrawn = DecimalHelper::toDecimal($party-\u003elimit)-\u003esub(DecimalHelper::toDecimal($party-\u003edrawn)); } You'll note here that the note limit isn't part of calculating the party limits, so both branches do the same thing. And then there's the deeper question of \"is a null really the best way to represent this?\" especially given that elsewhere in the code they have an \"unlimited\" flag that disables limit checking. Now, Steve wasn't let go only for their code- they were just a miserable co-worker who liked to pick fights in pull request comments. So the real highlight of Steve's dismissal was that Dallin got to have a meaningful discussion about the best way to make this change with the rest of the team, and Steve didn't have a chance to disrupt it. [Advertisement] Keep the plebs out of prod. Restrict NuGet feed privileges with ProGet. Learn more.",
  "image": "https://s3.amazonaws.com/remy.jetpackshark.com/remy-thumb.jpg",
  "html": "\u003cdiv id=\"readability-page-1\" class=\"page\"\u003e\u003cdiv itemscope=\"\" itemtype=\"http://schema.org/Article\" id=\"article-page\"\u003e\n\n        \n        \u003cp\u003e\u003cspan\u003eby \n            in \u003ca itemprop=\"articleSection\" href=\"https://thedailywtf.com/series/code-sod\"\u003eCodeSOD\u003c/a\u003e\n            on \u003cspan itemprop=\"datePublished\" content=\"2025-02-03\"\u003e2025-02-03\u003c/span\u003e\n            \u003ca href=\"https://thedailywtf.com/admin/article/edit/10840\" rel=\"nofollow\"\u003eEdit\u003c/a\u003e\n        \u003c/span\u003e\u003c/p\u003e\n        \u003cdiv itemprop=\"author\" itemscope=\"\" itemtype=\"http://schema.org/Person\"\u003e\n            \u003cp\u003e\u003cimg itemprop=\"image\" src=\"https://s3.amazonaws.com/remy.jetpackshark.com/remy-thumb.jpg\"/\u003e\n            \u003ca itemprop=\"name\" href=\"https://thedailywtf.com/authors/remy-porter\"\u003eRemy Porter\u003c/a\u003e\u003c/p\u003e\u003cp itemprop=\"description\"\u003eComputers were a mistake, which is why I\u0026#39;m trying to shoot them into space. Editor-in-Chief for TDWTF.\u003c/p\u003e\n        \u003c/div\u003e\n        \u003cdiv itemprop=\"articleBody\"\u003e\n            \u003cp\u003eJust because \u003cem\u003eyou\u003c/em\u003e get fired doesn\u0026#39;t mean that your pull requests are automatically closed. \u003cstrong\u003eDallin\u003c/strong\u003e was in the middle of reviewing a PR by Steve when the email came out announcing that Steve no longer worked at the company.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s take a look at that PR, and maybe we can see why.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e                    \u003cspan\u003e$originalUndrawn\u003c/span\u003e = \u003cspan\u003eDecimalHelper\u003c/span\u003e::\u003cspan\u003etoDecimal\u003c/span\u003e(\u003cspan\u003e$party\u003c/span\u003e-\u0026gt;limit)-\u0026gt;\u003cspan\u003esub\u003c/span\u003e(\u003cspan\u003eDecimalHelper\u003c/span\u003e::\u003cspan\u003etoDecimal\u003c/span\u003e(\u003cspan\u003e$party\u003c/span\u003e-\u0026gt;drawn));\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis is the original code, which represents operations on investments. An investment is represented by a \u003ccode\u003enote\u003c/code\u003e, and belongs to one or more \u003ccode\u003eparty\u003c/code\u003es. The amount that can be drawn is set by a \u003ccode\u003elimit\u003c/code\u003e, which can belong to either the party or the note.\u003c/p\u003e\n\u003cp\u003eWhat our developer was tasked with doing was allow a note to have no limit. This means changing all the places where the \u003cem\u003enote\u003c/em\u003e\u0026#39;s limit is checked. So this is what they submitted:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e                    \u003cspan\u003eif\u003c/span\u003e (\u003cspan\u003e$note\u003c/span\u003e-\u0026gt;limit == \u003cspan\u003enull\u003c/span\u003e) {\n                        \u003cspan\u003e$originalUndrawn\u003c/span\u003e = \u003cspan\u003eDecimalHelper\u003c/span\u003e::\u003cspan\u003etoDecimal\u003c/span\u003e(\u003cspan\u003e$party\u003c/span\u003e-\u0026gt;limit)-\u0026gt;\u003cspan\u003esub\u003c/span\u003e(\u003cspan\u003eDecimalHelper\u003c/span\u003e::\u003cspan\u003etoDecimal\u003c/span\u003e(\u003cspan\u003e$party\u003c/span\u003e-\u0026gt;drawn));\n                    } \u003cspan\u003eelse\u003c/span\u003e {\n                        \u003cspan\u003e$originalUndrawn\u003c/span\u003e = \u003cspan\u003eDecimalHelper\u003c/span\u003e::\u003cspan\u003etoDecimal\u003c/span\u003e(\u003cspan\u003e$party\u003c/span\u003e-\u0026gt;limit)-\u0026gt;\u003cspan\u003esub\u003c/span\u003e(\u003cspan\u003eDecimalHelper\u003c/span\u003e::\u003cspan\u003etoDecimal\u003c/span\u003e(\u003cspan\u003e$party\u003c/span\u003e-\u0026gt;drawn));\n                    }\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou\u0026#39;ll note here that the note limit isn\u0026#39;t part of calculating the party limits, so both branches do the same thing. And then there\u0026#39;s the deeper question of \u0026#34;is a null really the best way to represent this?\u0026#34; especially given that elsewhere in the code they have an \u0026#34;unlimited\u0026#34; flag that disables limit checking.\u003c/p\u003e\n\u003cp\u003eNow, Steve wasn\u0026#39;t let go only for their code- they were just a miserable co-worker who liked to pick fights in pull request comments. So the real highlight of Steve\u0026#39;s dismissal was that Dallin got to have a meaningful discussion about the best way to make this change with the rest of the team, and Steve didn\u0026#39;t have a chance to disrupt it.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://thedailywtf.com/images/inedo/proget-icon.png\"/\u003e [Advertisement] \n\tKeep the plebs out of prod. Restrict NuGet feed privileges with ProGet. \u003ca href=\"https://inedo.com/proget/private-nuget-server?utm_source=tdwtf\u0026amp;utm_medium=footer\u0026amp;utm_content=PlebsFooter\u0026amp;utm_campaign=Cyclops2020\"\u003eLearn more.\u003c/a\u003e\n\u003c/p\u003e\n\n\n        \u003c/div\u003e\n\n        \n    \u003c/div\u003e\u003c/div\u003e",
  "readingTime": "3 min read",
  "publishedTime": "2025-02-03T06:30:00Z",
  "modifiedTime": null
}

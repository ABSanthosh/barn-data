{
  "id": "2df7e8eb-8f14-4038-9ea9-dc8510539012",
  "title": "Kalman Filter Tutorial",
  "link": "https://www.kalmanfilter.net/default.aspx",
  "description": "Comments",
  "author": "",
  "published": "Sat, 18 Jan 2025 21:50:15 +0000",
  "source": "https://news.ycombinator.com/rss",
  "categories": null,
  "byline": "Alex Becker (www.kalmanfilter.net)",
  "length": 14941,
  "excerpt": "Easy and intuitive Kalman Filter tutorial",
  "siteName": "",
  "favicon": "https://www.kalmanfilter.net/img/favicon/icon-hires.png",
  "text": "Overview \"If you can't explain it simply, you don't understand it well enough.\" Albert Einstein About this tutorial The Kalman Filter algorithm is a powerful tool for estimating and predicting system states in the presence of uncertainty and is widely used as a fundamental component in applications such as target tracking, navigation, and control. Although the Kalman Filter is a straightforward concept, many resources on the subject require extensive mathematical background and fail to provide practical examples and illustrations, making it more complicated than necessary. Back in 2017, I created an online tutorial based on numerical examples and intuitive explanations to make the topic more accessible and understandable. The online tutorial provides introductory material covering the univariate (one-dimensional) and multivariate (multidimensional) Kalman Filters. Over time, I have received many requests to include more advanced topics, such as non-linear Kalman Filters (Extended Kalman Filter and Unscented Kalman Filter), sensors fusion, and practical implementation guidelines. Based on the material covered in the online tutorial, I authored a book. The original online tutorial is available for free access. The e-book and the source code (Python and MATLAB) for the numerical examples are available for purchase. The book takes the reader from the basics to the advanced topics, covering both theoretical concepts and practical applications. The writing style is intuitive, prioritizing clarity of ideas over mathematical rigor, and it approaches the topic from a philosophical perspective before delving into quantification. The book contains many illustrative examples, including 14 fully solved numerical examples with performance plots and tables. Examples progress in a paced, logical manner and build upon each other. The book also includes the necessary mathematical background, providing a solid foundation to expand your knowledge and help to overcome your math fears. Upon finishing this book, you will be able to design, simulate, and evaluate the performance of the Kalman Filter. The book includes four parts: Part 1 serves as an introduction to the Kalman Filter, using eight numerical examples, and doesn't require any prior mathematical knowledge. You can call it \"The Kalman Filter for Dummies,\" as it aims to provide an intuitive understanding and develop \"Kalman Filter intuition.\" Upon completing Part 1, readers will thoroughly understand the Kalman Filter's concept and be able to design a univariate (one-dimensional) Kalman Filter. Most of this part is available for free access! Part 2 presents the Kalman Filter in matrix notation, covering the multivariate (multidimensional) Kalman Filter. It includes a mathematical derivation of Kalman Filter equations, dynamic systems modeling, and two numerical examples. This section is more advanced and requires basic knowledge of Linear Algebra (only matrix operations). Upon completion, readers will understand the math behind the Kalman Filter and be able to design a multivariate Kalman Filter. Most of this part is available for free access! Part 3 is dedicated to the non-linear Kalman Filter, which is essential for mastering the Kalman Filter since most real-life systems are non-linear. This part begins with a problem statement and describes the differences between linear and non-linear systems. It includes derivation and examples of the most common non-linear filters: the Extended Kalman Filter and the Unscented Kalman Filter. Part 4 contains practical guidelines for Kalman Filter implementation, including sensor fusion, variable measurement uncertainty, treatment of missing measurements, treatment of outliers, and the Kalman Filter design process. \"The road to learning by precept is long, by example short and effective.\" Lucius Seneca About the Kalman Filter Many modern systems utilize multiple sensors to estimate hidden (unknown) states through a series of measurements. For instance, a GPS receiver can estimate location and velocity, where location and velocity represent the hidden states, while the differential time of the arrival of signals from satellites serves as measurements. One of the biggest challenges of tracking and control systems is providing an accurate and precise estimation of the hidden states in the presence of uncertainty. For example, GPS receivers are subject to measurement uncertainties influenced by external factors, such as thermal noise, atmospheric effects, slight changes in satellite positions, receiver clock precision, and more. The Kalman Filter is a widely used estimation algorithm that plays a critical role in many fields. It is designed to estimate the hidden states of the system, even when the measurements are imprecise and uncertain. Also, the Kalman Filter predicts the future system state based on past estimations. The filter is named after Rudolf E. Kálmán (May 19, 1930 – July 2, 2016). In 1960, Kálmán published his famous paper describing a recursive solution to the discrete-data linear filtering problem. The prediction requirement Before delving into the Kalman Filter explanation, let us first understand the necessity of a tracking and prediction algorithm. To illustrate this point, let's take the example of a tracking radar. Suppose we have a track cycle of 5 seconds. At intervals of 5 seconds, the radar samples the target by directing a dedicated pencil beam. Once the radar \"visits\" the target, it proceeds to estimate the current position and velocity of the target. The radar also estimates (or predicts) the target's position at the time of the next track beam. The future target position can be easily calculated using Newton's motion equations: \\[ x= x_{0} + v_{0} \\Delta t+ \\frac{1}{2}a \\Delta t^{2} \\] Where: \\( x \\) is the target position \\( x_{0} \\) is the initial target position \\( v_{0} \\) is the initial target velocity \\( a \\) is the target acceleration \\( \\Delta t \\) is the time interval (5 seconds in our example) If you need a refresh on the motion equations, refer to Appendix I in the book. When dealing with three dimensions, Newton's motion equations can be expressed as a system of equations: \\[ \\left\\{\\begin{matrix} x= x_{0} + v_{x0} \\Delta t+ \\frac{1}{2}a_{x} \\Delta t^{2}\\\\ y= y_{0} + v_{y0} \\Delta t+ \\frac{1}{2}a_{y} \\Delta t^{2}\\\\ z= z_{0} + v_{z0} \\Delta t+ \\frac{1}{2}a_{z} \\Delta t^{2} \\end{matrix}\\right. \\] The set of target parameters \\( \\left[ x, y, z, v_{x},v_{y},v_{z},a_{x},a_{y},a_{z} \\right] \\) is known as the System State. The current state serves as the input for the prediction algorithm, while the algorithm's output is the future state, which includes the target parameters for the subsequent time interval. The system of equations mentioned above is known as a Dynamic Model or State Space Model. The dynamic model describes the relationship between the input and output of the system. Apparently, if the target's current state and dynamic model are known, predicting the target's subsequent state can be easily accomplished. In reality, the radar measurement is not entirely accurate. It contains random errors or uncertainties that can affect the accuracy of the predicted target state. The magnitude of the errors depends on various factors, such as radar calibration, beam width, and signal-to-noise ratio of the returned echo. The random errors or uncertainties in the radar measurement are known as Measurement Noise. In addition, the target motion is not always aligned with the motion equations due to external factors like wind, air turbulence, and pilot maneuvers. This misalignment between the motion equations and the actual target motion results in an error or uncertainty in the dynamic model, which is called Process Noise. Due to the Measurement Noise and the Process Noise, the estimated target position can be far away from the actual target position. In this case, the radar might send the track beam in the wrong direction and miss the target. In order to improve the radar's tracking accuracy, it is essential to employ a prediction algorithm that accounts for both process and measurement uncertainty. The most common tracking and prediction algorithm is the Kalman Filter. Don't miss out on the Black Friday special!",
  "image": "img/profile.png",
  "html": "\u003cdiv id=\"readability-page-1\" class=\"page\"\u003e\u003cdiv\u003e\n            \n            \u003cdiv id=\"aboutTutorial\"\u003e\n                    \u003ch2\u003eOverview\u003c/h2\u003e\n                        \u003cdiv\u003e\n                                        \u003cp\u003e\u0026#34;If you can\u0026#39;t explain it simply, you don\u0026#39;t understand it well enough.\u0026#34;\u003c/p\u003e\u003cp\u003e\n                                        Albert Einstein\n                                    \u003c/p\u003e\u003c/div\u003e\n                    \u003ch2\u003eAbout this tutorial\u003c/h2\u003e\n                        \u003cdiv\u003e\n\t\t\t\t\t\t\t\u003cdiv\u003e\n                                \u003cp\u003e\n                                    The Kalman Filter algorithm is a powerful tool for estimating and predicting system states in the presence of uncertainty and is widely used as a fundamental component in applications such as target tracking, navigation, and control.\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    Although the Kalman Filter is a straightforward concept, many resources on the subject require extensive mathematical background and fail to provide practical examples and illustrations, making it more complicated than necessary.\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    Back in 2017, I created an online tutorial based on numerical examples and intuitive explanations to make the topic more accessible and understandable. The online tutorial provides introductory material covering the univariate (one-dimensional) and multivariate (multidimensional) Kalman Filters.\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    Over time, I have received many requests to include more advanced topics, such as non-linear Kalman Filters (Extended Kalman Filter and Unscented Kalman Filter), sensors fusion, and practical implementation guidelines.\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    Based on the material covered in the online tutorial, I authored a \u003ca href=\"https://www.kalmanfilter.net/book.html\"\u003ebook\u003c/a\u003e.\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    \u003cb\u003eThe original online tutorial is available for free access\u003c/b\u003e. The e-book and the source code (Python and MATLAB) for the numerical examples are available for \u003ca href=\"https://www.kalmanfilter.net/book.html\"\u003epurchase\u003c/a\u003e.\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    The book takes the reader from the basics to the advanced topics, covering both theoretical concepts and practical applications. The writing style is intuitive, prioritizing clarity of ideas over mathematical rigor, and it approaches the topic from a philosophical perspective before delving into quantification.\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    The book contains many illustrative examples, including 14 fully solved numerical examples with performance plots and tables. Examples progress in a paced, logical manner and build upon each other.\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    The book also includes the necessary mathematical background, providing a solid foundation to expand your knowledge and help to overcome your math fears.\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    Upon finishing this book, you will be able to design, simulate, and evaluate the performance of the Kalman Filter.\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    The book includes four parts:\n                                \u003c/p\u003e\n                                \u003cul\u003e\n                                    \u003cli\u003e\n                                        \u003ci\u003e\u003c/i\u003e\n                                        \u003cb\u003ePart 1\u003c/b\u003e serves as an introduction to the Kalman Filter, using eight numerical examples, and doesn\u0026#39;t require any prior mathematical knowledge. You can call it \u0026#34;The Kalman Filter for Dummies,\u0026#34; as it aims to provide an intuitive understanding and develop \u0026#34;Kalman Filter intuition.\u0026#34; Upon completing Part 1, readers will thoroughly understand the Kalman Filter\u0026#39;s concept and be able to design a univariate (one-dimensional) Kalman Filter.\n                                        \u003cp\u003e\u003cb\u003eMost of this part is available for free access!\u003c/b\u003e\u003c/p\u003e\n                                    \u003c/li\u003e\n                                    \u003cli\u003e\n                                        \u003ci\u003e\u003c/i\u003e\n                                        \u003cb\u003ePart 2\u003c/b\u003e presents the Kalman Filter in matrix notation, covering the multivariate (multidimensional) Kalman Filter. It includes a mathematical derivation of Kalman Filter equations, dynamic systems modeling, and two numerical examples. This section is more advanced and requires basic knowledge of Linear Algebra (only matrix operations). Upon completion, readers will understand the math behind the Kalman Filter and be able to design a multivariate Kalman Filter.\n                                        \u003cp\u003e\u003cb\u003eMost of this part is available for free access!\u003c/b\u003e\u003c/p\u003e\n                                    \u003c/li\u003e\n                                    \u003cli\u003e\n                                        \u003ci\u003e\u003c/i\u003e\n                                        \u003cb\u003ePart 3\u003c/b\u003e is dedicated to the non-linear Kalman Filter, which is essential for mastering the Kalman Filter since most real-life systems are non-linear. This part begins with a problem statement and describes the differences between linear and non-linear systems. It includes derivation and examples of the most common non-linear filters: the Extended Kalman Filter and the Unscented Kalman Filter.\n                                    \u003c/li\u003e\n                                    \u003cli\u003e\n                                        \u003ci\u003e\u003c/i\u003e\n                                        \u003cb\u003ePart 4\u003c/b\u003e contains practical guidelines for Kalman Filter implementation, including sensor fusion, variable measurement uncertainty, treatment of missing measurements, treatment of outliers, and the Kalman Filter design process.\n                                    \u003c/li\u003e\n                                \u003c/ul\u003e\n                            \u003c/div\u003e\n\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\u003cp\u003e\u003ca href=\"https://www.kalmanfilter.net/book.html\"\u003e\u003cimg src=\"https://www.kalmanfilter.net/img/book/3Dbook.png\" loading=\"lazy\" alt=\"Kalman Filter Book\"/\u003e\u003c/a\u003e\u003c/p\u003e\n\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cp\u003e\u0026#34;The road to learning by precept is long, by example short and effective.\u0026#34;\u003c/p\u003e\u003cp\u003e\n\t\t\t\t\t\t\t\t\t\tLucius Seneca\n\t\t\t\t\t\t\t\t\t\u003c/p\u003e\u003c/div\u003e\n                \u003c/div\u003e\n            \u003cdiv id=\"aboutKalman\"\u003e\n                    \u003ch2\u003eAbout the Kalman Filter\u003c/h2\u003e\n                        \u003cdiv\u003e\n                            \u003cdiv\u003e\n                                \u003cp\u003e\n                                    Many modern systems utilize multiple sensors to estimate hidden (unknown) states through a series of measurements. For instance, a GPS receiver can estimate location and velocity, where location and velocity represent the hidden states, while the differential time of the arrival of signals from satellites serves as measurements.\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    One of the biggest challenges of tracking and control systems is providing an accurate and precise estimation of the hidden states in the presence of uncertainty. For example, GPS receivers are subject to measurement uncertainties influenced by external factors, such as thermal noise, atmospheric effects, slight changes in satellite positions, receiver clock precision, and more.\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    The Kalman Filter is a widely used estimation algorithm that plays a critical role in many fields. It is designed to estimate the hidden states of the system, even when the measurements are imprecise and uncertain. Also, the Kalman Filter predicts the future system state based on past estimations.\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    The filter is named after Rudolf E. Kálmán (May 19, 1930 – July 2, 2016). In 1960, Kálmán published his famous paper describing a recursive solution to the discrete-data linear filtering problem.\n                                \u003c/p\u003e\n                            \u003c/div\u003e\n                            \u003cp\u003e\u003cimg src=\"https://www.kalmanfilter.net/img/Overview/Kalman.png\" loading=\"lazy\" alt=\"Rudolf E. Kálmán\" width=\"175\" height=\"189\"/\u003e\n                            \u003c/p\u003e\n                        \u003c/div\u003e\n                \u003c/div\u003e\n            \u003cdiv id=\"prediction\"\u003e\n                    \u003ch2\u003eThe prediction requirement\u003c/h2\u003e\n                        \u003cdiv\u003e\n\t\t\t\t\t\t\t\u003cdiv\u003e\n                                \u003cp\u003e\n                                    Before delving into the Kalman Filter explanation, let us first understand the necessity of a tracking and prediction algorithm.\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                   To illustrate this point, let\u0026#39;s take the example of a tracking radar.\n                                \u003c/p\u003e\n                                \u003cp\u003e\u003cimg src=\"https://www.kalmanfilter.net/img/Overview/tracking_radar.png\" loading=\"lazy\" alt=\"Tracking Radar\"/\u003e\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    Suppose we have a track cycle of 5 seconds. At intervals of 5 seconds, the radar samples the target by directing a dedicated pencil beam.\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    Once the radar \u0026#34;visits\u0026#34; the target, it proceeds to estimate the current position and velocity of the target. The radar also estimates (or predicts) the target\u0026#39;s position at the time of the next track beam.\n                                \u003c/p\u003e\n                                \u003cp\u003e      \n                                    The future target position can be easily calculated using Newton\u0026#39;s motion equations:\n                                \u003c/p\u003e \n                                \u003cdiv\u003e\u003cp\u003e\n                                                \\[ x= x_{0} + v_{0} \\Delta t+ \\frac{1}{2}a \\Delta t^{2} \\]\n                                                \u003c/p\u003e\u003cdiv\u003e\u003cp\u003e\n                                                Where:\u003c/p\u003e\u003ctable\u003e         \n                                                        \u003ctbody\u003e\u003ctr\u003e\n                                                            \u003ctd\u003e\\( x \\)\u003c/td\u003e\n                                                            \u003ctd\u003eis the target position\u003c/td\u003e\n                                                        \u003c/tr\u003e\n                                                        \u003ctr\u003e\n                                                            \u003ctd\u003e\\( x_{0}  \\)\u003c/td\u003e\n                                                            \u003ctd\u003eis the initial target position\u003c/td\u003e\n                                                        \u003c/tr\u003e\n                                                        \u003ctr\u003e\n                                                            \u003ctd\u003e\\( v_{0}  \\)\u003c/td\u003e\n                                                            \u003ctd\u003eis the initial target velocity\u003c/td\u003e\n                                                        \u003c/tr\u003e\n                                                        \u003ctr\u003e\n                                                            \u003ctd\u003e\\( a \\)\u003c/td\u003e\n                                                            \u003ctd\u003eis the target acceleration\u003c/td\u003e\n                                                        \u003c/tr\u003e\n                                                        \u003ctr\u003e\n                                                            \u003ctd\u003e\\(  \\Delta t \\)\u003c/td\u003e\n                                                            \u003ctd\u003eis the time interval (5 seconds in our example)\u003c/td\u003e\n                                                        \u003c/tr\u003e\n                                                    \u003c/tbody\u003e\u003c/table\u003e\n                                                \u003c/div\u003e                         \n                                            \u003c/div\u003e\n                                \u003cdiv\u003e\n\t\t\t                                \u003cp\u003e\n\t\t\t\t                                If you need a refresh on the motion equations, refer to Appendix I in the \u003ca href=\"https://www.kalmanfilter.net/book.html\"\u003ebook\u003c/a\u003e.\n\t\t\t                                \u003c/p\u003e\n\t\t                                \u003c/div\u003e\n                                \u003cp\u003e\n                                    When dealing with three dimensions, Newton\u0026#39;s motion equations can be expressed as a system of equations:\n                                \u003c/p\u003e\n                                \u003cdiv\u003e\n                                            \u003cp\u003e\n                                                \\[ \\left\\{\\begin{matrix}\n                                                x= x_{0} + v_{x0} \\Delta t+ \\frac{1}{2}a_{x} \\Delta t^{2}\\\\ \n                                                y= y_{0} + v_{y0} \\Delta t+ \\frac{1}{2}a_{y} \\Delta t^{2}\\\\\n                                                z= z_{0} + v_{z0} \\Delta t+ \\frac{1}{2}a_{z} \\Delta t^{2}\n                                                \\end{matrix}\\right. \\]\n                                            \u003c/p\u003e\n                                        \u003c/div\u003e\n                                \u003cp\u003e\n                                    The set of target parameters \\(  \\left[ x, y, z, v_{x},v_{y},v_{z},a_{x},a_{y},a_{z} \\right]  \\) is known as the \u003cspan\u003eSystem State\u003c/span\u003e. The current state serves as the input for the prediction algorithm, while the algorithm\u0026#39;s output is the future state, which includes the target parameters for the subsequent time interval.\n                                \u003c/p\u003e                            \n                                \u003cp\u003e\n                                    The system of equations mentioned above is known as a \u003cspan\u003eDynamic Model\u003c/span\u003e or \u003cspan\u003eState Space Model\u003c/span\u003e. The dynamic model describes the relationship between the input and output of the system.\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    Apparently, if the target\u0026#39;s current state and dynamic model are known, predicting the target\u0026#39;s subsequent state can be easily accomplished.\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    In reality, the radar measurement is not entirely accurate. It contains random errors or uncertainties that can affect the accuracy of the predicted target state. The magnitude of the errors depends on various factors, such as radar calibration, beam width, and signal-to-noise ratio of the returned echo. The random errors or uncertainties in the radar measurement are known as \u003cspan\u003eMeasurement Noise\u003c/span\u003e. \n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    In addition, the target motion is not always aligned with the motion equations due to external factors like wind, air turbulence, and pilot maneuvers. This misalignment between the motion equations and the actual target motion results in an error or uncertainty in the dynamic model, which is called \u003cspan\u003eProcess Noise\u003c/span\u003e.\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    Due to the Measurement Noise and the Process Noise, the estimated target position can be far away from the actual target position. In this case, the radar might send the track beam in the wrong direction and miss the target.\n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    In order to improve the radar\u0026#39;s tracking accuracy, it is essential to employ a prediction algorithm that accounts for both process and measurement uncertainty. \n                                \u003c/p\u003e\n                                \u003cp\u003e\n                                    The most common tracking and prediction algorithm is the \u003cspan\u003eKalman Filter\u003c/span\u003e.\n                                \u003c/p\u003e\n                            \u003c/div\u003e\n                            \u003cdiv\u003e\n\t\t\t\t\t\t\t\t\u003cp\u003e\u003ca href=\"https://www.kalmanfilter.net/book.html\"\u003e\u003cimg src=\"https://www.kalmanfilter.net/img/book/3Dbook.png\" loading=\"lazy\" alt=\"Kalman Filter Book\"/\u003e\u003c/a\u003e\u003c/p\u003e\n                                \u003cp\u003e\n                                    \u003cspan\u003e\u003cb\u003eDon\u0026#39;t miss out on the Black Friday special!\u003c/b\u003e\u003c/span\u003e\n                                \u003c/p\u003e\n\t\t\t\t\t\t\t\u003c/div\u003e\n                        \u003c/div\u003e\n                \u003c/div\u003e\n            \n        \u003c/div\u003e\u003c/div\u003e",
  "readingTime": "16 min read",
  "publishedTime": null,
  "modifiedTime": null
}

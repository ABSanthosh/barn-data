{
  "id": "d2ce783d-646a-421a-939a-2c6461f5945e",
  "title": "Simulator-based reinforcement learning for data center cooling optimization",
  "link": "https://engineering.fb.com/2024/09/10/data-center-engineering/simulator-based-reinforcement-learning-for-data-center-cooling-optimization/",
  "description": "We’re sharing more about the role that reinforcement learning plays in helping us optimize our data centers’ environmental controls. Our reinforcement learning-based approach has helped us reduce energy consumption and water usage across various weather conditions in our data centers.   Meta is revamping its new data center design to optimize for artificial intelligence and the [...] Read More... The post Simulator-based reinforcement learning for data center cooling optimization appeared first on Engineering at Meta.",
  "author": "",
  "published": "Tue, 10 Sep 2024 16:00:31 +0000",
  "source": "https://engineering.fb.com/feed/",
  "categories": [
    "Data Center Engineering",
    "ML Applications"
  ],
  "byline": "By Chi Zhou, Doris Gao, Lisa Rivalin, Andrew Grier",
  "length": 10983,
  "excerpt": "We’re sharing more about the role that reinforcement learning plays in helping us optimize our data centers’ environmental controls. Our reinforcement learning-based approach has helped us reduce e…",
  "siteName": "Engineering at Meta",
  "favicon": "",
  "text": "We’re sharing more about the role that reinforcement learning plays in helping us optimize our data centers’ environmental controls. Our reinforcement learning-based approach has helped us reduce energy consumption and water usage across various weather conditions in our data centers.   Meta is revamping its new data center design to optimize for artificial intelligence and the same methodology will be applicable for future data center optimizations as well. Efficiency is one of the key components of Meta’s approach to designing, building, and operating sustainable data centers. Besides the IT load, cooling is the primary consumer of energy and water in the data center environment. Improving the cooling efficiency helps reduce our energy use, water use, and greenhouse gas (GHG) emissions and also helps address one of the greatest challenges of all – climate change. Most of Meta’s existing data centers use outdoor air and evaporative cooling systems to maintain environmental conditions within the envelope of temperature between 65°F and 85°F (18°C and 30°C) and relative humidity between 13 and 80%. As water and energy are consumed in the conditioning of this air, optimizing the amount of supply airflow that has to be conditioned is a high priority in terms of improving operational efficiency.  Since 2021, we have been leveraging AI to optimize the amount of airflow supply into data centers for cooling purposes. Using simulator-based reinforcement learning, we have, on average, reduced the supply fan energy consumption at one of the pilot regions by 20% and water usage by 4% across various weather conditions. Previously, we shared how a physics-based thermal simulator helps us optimize our data centers’ environmental controls. Now, we will shed more light on the role of reinforcement learning in the solution. As Meta is revamping its new data center design to optimize for artificial intelligence, the same methodology will be applicable for future data center optimizations as well to improve operational efficiency. How cooling works at Meta’s data centers  Currently, Meta’s data centers adopt a two-tiered penthouse design that utilizes 100% outside air for cooling. As shown in Figure 1, the air enters the facility through louvers on the second-floor “penthouse,” with modulating dampers regulating the volume of outside air. The air passes through a mixing room, where outdoor air, if too cold, can be mixed with heat from server exhaust when needed to regulate the temperature.  The air then passes through a series of air filters and a misting chamber where the evaporative cooling and humidification (ECH) system is used to further control the temperature and humidity. The air continues through a fan wall that pushes the air through openings in the floor that serve as an air shaft leading into the server area on the first floor. The hot air coming out from the server exhaust will be contained in the hot aisle, through exhaust shafts, and eventually released out of the building with the help of relief fans.  Water is mainly used in two ways: evaporative cooling and humidification. The evaporative cooling system converts water into vapor to lower the temperature when the outside air is too hot, while the humidification process maintains the humidity level if the air is too dry. As a result of this design, we believe Meta’s data centers are among the most advanced, energy and water efficient data centers in the world. Figure 1: The penthouse cooling system within Meta’s data centers. In order to supply air within the defined operating envelope, the penthouse relies on the building management system (BMS) to monitor and control different components of the mechanical system. This system performs the task of conditioning the intake air from outside by mixing, humidifying/dehumidifying, evaporative cooling, or a combination of these operations.  There are three major control loops responsible for adjusting setpoints for supply air: temperature, humidity, and airflow. The airflow setpoint is typically calculated based on a small set of input variables like current IT load, cold aisle temperature, and differential pressure between the cold aisle and hot aisle. The logic is often very simple at a linear scale, but becomes very difficult to accurately model as these values at different locations in the data center are coupled to one another and highly dependent on complex local boundary conditions. However, the amount of airflow will largely dictate the energy used by the supply fan arrays and water consumption when cooling or humidification is required. Therefore, optimizing the airflow setpoint would have the greatest impact in regards to further improving the cooling efficiency given the fact that the temperature and humidity boundary of the operating envelope is fixed. Reinforcement learning (RL) is good at modeling control systems as sequential state machines. It functions as a software agent that determines what action to take at each state based on some transition model – which leads to a different state – and constantly gets feedback from the environment in terms of reward. In the end, the agent learns the best policy model (typically parameterized by a deep neural network) to achieve the optimal accumulated reward. The data center cooling control can be naturally modeled under this paradigm. At any given time, the state of a data center can be represented by a set of environmental variables monitored by many different sensors for outside air, supply air, cold aisle and hot aisle, plus IT load (i.e., power consumption by servers), etc. The action is to control setpoints – for example, the supply airflow setpoint that determines how fast the supply fans run to meet the demand. The policy is the function mapping from the state space to action space (i.e., determining the appropriate airflow setpoint based on current state conditions). Now the task is to leverage historical data we have collected from thousands of sensors in our data centers – augmented with simulated data of potential, but not yet experienced conditions – and train a better policy model that gives us better reward in terms of energy or water usage efficiency.  The idea of using AI for data center cooling optimization is not new. There are also various RL approaches reported such as, transforming cooling optimization via deep reinforcement learning and data center cooling using model-predictive control.  However, applying the control policy determined by an online RL model may result in various risks including breaches of service requirements and even thermal unsafety. To address this challenge, we adopted an offline simulator based RL approach. As illustrated in Figure 2, our RL agent operates in a simulated environment by starting from real-life historical observations, S. It then explores the action space, feeding into the simulator to predict the anticipated new state S’ and reward, R, given each sampled action, A. From there it collects the pairs (S, A) that have the best reward to form a new training data set to update the parameterized policy model. Figure 2: Our simulated-based offline RL approach. Our simulator is a physics-based model of building energy use that takes as inputs time series such as weather data, IT load, and setpoint schedules. The model is built with data center building parameters, including geometry, construction materials, HVAC, system configurations, component efficiencies, and control strategies. It uses differential equations to output the dynamic system response, such as the thermal load and resulting energy use, along with related metrics like cold aisle temperature and differential pressure profiles.  The simulator plays a very important role here since our goal is to optimize energy and water usage while keeping the data center condition under specs so hardware performance isn’t affected. More specifically, we want to keep the rise in cold aisle temperature below a certain threshold, or a positive pressurization from cold aisle to hot aisle, to minimize the parasitic heat caused by recirculation.  Additionally, the physics-based simulator enables us to train the RL model with all possible scenarios, not only those present in the historical data. This increases reliability during outlier events and allows for rapid deployment in newly commissioned data centers. Results of our RL approach In 2021, we started a pilot at one of Meta’s data center regions – having the RL model directly controlling the supply airflow setpoint. Figure 3 shows a comparison of the new setpoint, in the unit of cubic feet per minute (CFM) as the red line to the original BMS setpoint (as the dotted blue line) over one week’s duration for illustration purposes. Figure 3: A comparison of the RL model versus the original BMS setpoint. The fluctuation is mainly determined by the supply air temperature and server load cycles at different times of day. More importantly, as shown in Figure 4, the data center temperature conditions never went out of spec, with reduced airflow supply with respect to both cold aisle average and maximum temperature compared against the supply air temperature. Figure 4: A data center temperature profile under RL model control. It is noticeable that the CFM savings vary under different supply air temperatures as the univariate chart in Figure 5 shows. The CFM savings can easily be converted to energy savings used by the supply fans. Under hot and dry conditions, when evaporative cooling or humidification is required, using less air will result in less water usage as well. Over the past couple years of the pilot, on average, we were able to reduce the supply fan energy consumption by 20% and water usage by 4% across various weather conditions.   Figure 5. A breakdown of airflow savings at different supply air temperatures. Future work for AI in data center optimization This effort has opened the door to transform how our data centers operate. By introducing automated predictions and continuous optimizations for tuning environment conditions in our data centers we can bend the cost curve and reduce effort on labor intensive tasks. Meta is breaking ground on new types of data centers that are designed to optimize for artificial intelligence. We plan to apply the same methodology presented here to our future data centers at the design phase to help ensure they’re optimized for sustainability from day one of their operations. We’re also currently rolling out our RL approach to data center cooling to our existing data centers. Over the couple of years we expect to achieve significant energy and water usage savings to contribute to Meta’s long- term sustainability goals.  Acknowledgements We would like to thank our partners in IDC Facility Operations (Butch Howard, Randy Ridgway, James Monahan, Jose Montes, Larame Cummings, Gerson Arteaga Ramirez, John Fabian, and many others) for their support.",
  "image": "https://engineering.fb.com/wp-content/uploads/2021/12/Eng-Blog-Self-Serve-Hero-Images-DATACENTERS-501-Teale.jpg",
  "html": "\u003cdiv id=\"readability-page-1\" class=\"page\"\u003e\u003cdiv\u003e\n\n\t\t\u003cul\u003e\n\u003cli aria-level=\"1\"\u003e\u003cspan\u003eWe’re sharing more about the role that reinforcement learning plays in helping us optimize our data centers’ environmental controls.\u003c/span\u003e\u003c/li\u003e\n\u003cli aria-level=\"1\"\u003e\u003cspan\u003eOur reinforcement learning-based approach has helped us reduce energy consumption and water usage across various weather conditions in our data centers.  \u003c/span\u003e\u003c/li\u003e\n\u003cli aria-level=\"1\"\u003e\u003cspan\u003eMeta is revamping its new data center design to optimize for artificial intelligence and the same methodology will be applicable for future data center optimizations as well.\u003c/span\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cspan\u003eEfficiency is one of the key components of Meta’s approach to \u003c/span\u003e\u003ca href=\"https://sustainability.fb.com/data-centers/\" target=\"_blank\" rel=\"noopener\"\u003e\u003cspan\u003edesigning, building, and operating sustainable data centers\u003c/span\u003e\u003c/a\u003e\u003cspan\u003e. Besides the IT load, cooling is the primary consumer of energy and water in the data center environment. Improving the cooling efficiency helps reduce our energy use, water use, and greenhouse gas (GHG) emissions and also helps address one of the greatest challenges of all – climate change.\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan\u003eMost of Meta’s existing data centers use outdoor air and evaporative cooling systems to maintain environmental conditions within the envelope of temperature \u003c/span\u003e\u003ca href=\"https://sustainability.fb.com/wp-content/uploads/2021/06/2020_FB_Sustainability-Report-3.pdf\" target=\"_blank\" rel=\"noopener\"\u003e\u003cspan\u003ebetween 65°F and 85°F (18°C and 30°C) and relative humidity between 13 and 80%\u003c/span\u003e\u003c/a\u003e\u003cspan\u003e. As water and energy are consumed in the conditioning of this air, optimizing the amount of supply airflow that has to be conditioned is a high priority in terms of improving operational efficiency. \u003c/span\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan\u003eSince 2021, we have been \u003c/span\u003e\u003ca href=\"https://techcrunch.com/2022/06/18/microsoft-and-meta-join-google-in-using-ai-to-help-run-their-data-centers/?guccounter=1\" target=\"_blank\" rel=\"noopener\"\u003e\u003cspan\u003eleveraging AI to optimize the amount of airflow supply into data centers for cooling purposes\u003c/span\u003e\u003c/a\u003e\u003cspan\u003e. Using simulator-based reinforcement learning, we have, on average, reduced the supply fan energy consumption at one of the pilot regions by 20% and water usage by 4% across various weather conditions.\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan\u003ePreviously, we shared how a physics-based\u003c/span\u003e \u003ca href=\"https://engineering.fb.com/2022/09/14/data-center-engineering/data-centers-meta-thermal-simulation-optimization/\" target=\"_blank\" rel=\"noopener\"\u003e\u003cspan\u003ethermal simulator helps us optimize our data centers’ environmental controls\u003c/span\u003e\u003c/a\u003e\u003cspan\u003e. Now, we will shed more light on the role of reinforcement learning in the solution. As Meta is revamping its new data center design to optimize for artificial intelligence, the same methodology will be applicable for future data center optimizations as well to improve operational efficiency.\u003c/span\u003e\u003c/p\u003e\n\u003ch2\u003e\u003cspan\u003eHow cooling works at Meta’s data centers \u003c/span\u003e\u003c/h2\u003e\n\u003cp\u003e\u003cspan\u003eCurrently, Meta’s data centers adopt a two-tiered penthouse design that utilizes 100% outside air for cooling. As shown in Figure 1, the air enters the facility through louvers on the second-floor “penthouse,” with modulating dampers regulating the volume of outside air. The air passes through a mixing room, where outdoor air, if too cold, can be mixed with heat from server exhaust when needed to regulate the temperature. \u003c/span\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan\u003eThe air then passes through a series of air filters and a misting chamber where the evaporative cooling and humidification (ECH) system is used to further control the temperature and humidity. The air continues through a fan wall that pushes the air through openings in the floor that serve as an air shaft leading into the server area on the first floor. The hot air coming out from the server exhaust will be contained in the hot aisle, through exhaust shafts, and eventually released out of the building with the help of relief fans. \u003c/span\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan\u003eWater is mainly used in two ways: evaporative cooling and humidification. The evaporative cooling system converts water into vapor to lower the temperature when the outside air is too hot, while the humidification process maintains the humidity level if the air is too dry. As a result of this design, we believe \u003c/span\u003e\u003ca href=\"https://tech.facebook.com/engineering/2021/11/10-years-world-class-data-centers/\" target=\"_blank\" rel=\"noopener\"\u003e\u003cspan\u003eMeta’s data centers are among the most advanced, energy and water efficient data centers in the world\u003c/span\u003e\u003c/a\u003e\u003cspan\u003e.\u003c/span\u003e\u003c/p\u003e\n\u003cfigure id=\"attachment_21676\" aria-describedby=\"caption-attachment-21676\"\u003e\u003cimg decoding=\"async\" src=\"https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-1.png?w=600\" alt=\"\" width=\"600\" height=\"362\" srcset=\"https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-1.png 600w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-1.png?resize=96,58 96w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-1.png?resize=192,116 192w\" sizes=\"(max-width: 992px) 100vw, 62vw\"/\u003e\u003cfigcaption id=\"caption-attachment-21676\"\u003eFigure 1: The penthouse cooling system within Meta’s data centers.\u003c/figcaption\u003e\u003c/figure\u003e\n\u003cp\u003e\u003cspan\u003eIn order to supply air within the defined operating envelope, the penthouse relies on the building management system (BMS) to monitor and control different components of the mechanical system. This system performs the task of conditioning the intake air from outside by mixing, humidifying/dehumidifying, evaporative cooling, or a combination of these operations. \u003c/span\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan\u003eThere are three major control loops responsible for adjusting setpoints for supply air: temperature, humidity, and airflow. The airflow setpoint is typically calculated based on a small set of input variables like current IT load, cold aisle temperature, and differential pressure between the cold aisle and hot aisle. The logic is often very simple at a linear scale, but becomes very difficult to accurately model as these values at different locations in the data center are coupled to one another and highly dependent on complex local boundary conditions. However, the amount of airflow will largely dictate the energy used by the supply fan arrays and water consumption when cooling or humidification is required. Therefore, optimizing the airflow setpoint would have the greatest impact in regards to further improving the cooling efficiency given the fact that the temperature and humidity boundary of the operating envelope is fixed.\u003c/span\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cspan\u003eReinforcement learning (RL) is good at modeling control systems as sequential state machines. It functions as a software agent that determines what action to take at each state based on some transition model – which leads to a different state – and constantly gets feedback from the environment in terms of reward. In the end, the agent learns the best policy model (typically parameterized by a deep neural network) to achieve the optimal accumulated reward. The data center cooling control can be naturally modeled under this paradigm.\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan\u003eAt any given time, the state of a data center can be represented by a set of environmental variables monitored by many different sensors for outside air, supply air, cold aisle and hot aisle, plus IT load (i.e., power consumption by servers), etc. The action is to control setpoints – for example, the supply airflow setpoint that determines how fast the supply fans run to meet the demand. The policy is the function mapping from the state space to action space (i.e., determining the appropriate airflow setpoint based on current state conditions). Now the task is to leverage historical data we have collected from thousands of sensors in our data centers – augmented with simulated data of potential, but not yet experienced conditions – and train a better policy model that gives us better reward in terms of energy or water usage efficiency. \u003c/span\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan\u003eThe idea of using AI for data center cooling optimization \u003c/span\u003e\u003ca href=\"https://deepmind.google/discover/blog/deepmind-ai-reduces-google-data-centre-cooling-bill-by-40/\" target=\"_blank\" rel=\"noopener\"\u003e\u003cspan\u003eis not new\u003c/span\u003e\u003c/a\u003e\u003cspan\u003e. \u003c/span\u003e\u003cspan\u003eThere are also various RL approaches reported such as, \u003c/span\u003e\u003ca href=\"https://ieeexplore.ieee.org/document/8772127\" target=\"_blank\" rel=\"noopener\"\u003e\u003cspan\u003etransforming cooling optimization via deep reinforcement learning\u003c/span\u003e\u003c/a\u003e\u003cspan\u003e and \u003c/span\u003e\u003ca href=\"https://proceedings.neurips.cc/paper_files/paper/2018/file/059fdcd96baeb75112f09fa1dcc740cc-Paper.pdf\" target=\"_blank\" rel=\"noopener\"\u003e\u003cspan\u003edata center cooling using model-predictive control\u003c/span\u003e\u003c/a\u003e\u003cspan\u003e. \u003c/span\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan\u003eHowever, applying the control policy determined by an online RL model may result in various risks including breaches of service requirements and even thermal unsafety. To address this challenge, we adopted an offline simulator based RL approach. As illustrated in Figure 2, our RL agent operates in a simulated environment by starting from real-life historical observations, \u003c/span\u003e\u003ci\u003e\u003cspan\u003eS\u003c/span\u003e\u003c/i\u003e\u003cspan\u003e. It then explores the action space, feeding into the simulator to predict the anticipated new state \u003c/span\u003e\u003ci\u003e\u003cspan\u003eS’\u003c/span\u003e\u003c/i\u003e\u003cspan\u003e and reward, \u003c/span\u003e\u003ci\u003e\u003cspan\u003eR,\u003c/span\u003e\u003c/i\u003e\u003cspan\u003e given each sampled action, \u003c/span\u003e\u003ci\u003e\u003cspan\u003eA\u003c/span\u003e\u003c/i\u003e\u003cspan\u003e. From there it collects the pairs (\u003c/span\u003e\u003ci\u003e\u003cspan\u003eS\u003c/span\u003e\u003c/i\u003e\u003cspan\u003e, \u003c/span\u003e\u003ci\u003e\u003cspan\u003eA\u003c/span\u003e\u003c/i\u003e\u003cspan\u003e) that have the best reward to form a new training data set to update the parameterized policy model.\u003c/span\u003e\u003c/p\u003e\n\u003cfigure id=\"attachment_21677\" aria-describedby=\"caption-attachment-21677\"\u003e\u003cimg decoding=\"async\" src=\"https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-2.png?w=775\" alt=\"\" width=\"775\" height=\"186\" srcset=\"https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-2.png 775w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-2.png?resize=768,184 768w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-2.png?resize=96,23 96w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-2.png?resize=192,46 192w\" sizes=\"(max-width: 992px) 100vw, 62vw\"/\u003e\u003cfigcaption id=\"caption-attachment-21677\"\u003eFigure 2: Our simulated-based offline RL approach.\u003c/figcaption\u003e\u003c/figure\u003e\n\u003cp\u003e\u003cspan\u003eOur simulator is a \u003c/span\u003e\u003ca href=\"https://research.facebook.com/publications/predicting-temperature-and-differential-pressure-in-data-centers-using-physical-modeling/\" target=\"_blank\" rel=\"noopener\"\u003e\u003cspan\u003ephysics-based model of building energy use\u003c/span\u003e\u003c/a\u003e\u003cspan\u003e that takes as inputs time series such as weather data, IT load, and setpoint schedules. The model is built with data center building parameters, including geometry, construction materials, HVAC, system configurations, component efficiencies, and control strategies. It uses differential equations to output the dynamic system response, such as the thermal load and resulting energy use, along with related metrics like cold aisle temperature and differential pressure profiles. \u003c/span\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan\u003eThe simulator plays a very important role here since our goal is to \u003c/span\u003e\u003cspan\u003eoptimize energy and water usage while keeping the data center condition under specs so hardware performance isn’t affected. More specifically, we want to keep the rise in cold aisle temperature below a certain threshold, or a positive pressurization from cold aisle to hot aisle, to minimize the parasitic heat caused by recirculation. \u003c/span\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan\u003eAdditionally, the physics-based simulator enables us to train the RL model with all possible scenarios, not only those present in the historical data. This increases reliability during outlier events and allows for rapid deployment in newly commissioned data centers.\u003c/span\u003e\u003c/p\u003e\n\u003ch2\u003e\u003cspan\u003eResults of our RL approach\u003c/span\u003e\u003c/h2\u003e\n\u003cp\u003e\u003cspan\u003eIn 2021, we started a pilot at one of Meta’s data center regions – having the RL model directly controlling the supply airflow setpoint. Figure 3 shows a comparison of the new setpoint, in the unit of cubic feet per minute (CFM) as the red line to the original BMS setpoint (as the dotted blue line) over one week’s duration for illustration purposes.\u003c/span\u003e\u003c/p\u003e\n\u003cfigure id=\"attachment_21678\" aria-describedby=\"caption-attachment-21678\"\u003e\u003cimg loading=\"lazy\" decoding=\"async\" src=\"https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-3.png?w=1024\" alt=\"\" width=\"1024\" height=\"687\" srcset=\"https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-3.png 1999w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-3.png?resize=916,614 916w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-3.png?resize=768,515 768w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-3.png?resize=1024,687 1024w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-3.png?resize=1536,1030 1536w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-3.png?resize=96,64 96w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-3.png?resize=192,129 192w\" sizes=\"(max-width: 992px) 100vw, 62vw\"/\u003e\u003cfigcaption id=\"caption-attachment-21678\"\u003eFigure 3: A comparison of the RL model versus the original BMS setpoint.\u003c/figcaption\u003e\u003c/figure\u003e\n\u003cp\u003e\u003cspan\u003eThe fluctuation is mainly determined by the supply air temperature and server load cycles at different times of day. More importantly, as shown in Figure 4, the data center temperature conditions never went out of spec, with reduced airflow supply with respect to both cold aisle average and maximum temperature compared against the supply air temperature.\u003c/span\u003e\u003c/p\u003e\n\u003cfigure id=\"attachment_21679\" aria-describedby=\"caption-attachment-21679\"\u003e\u003cimg loading=\"lazy\" decoding=\"async\" src=\"https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-4.png?w=1024\" alt=\"\" width=\"1024\" height=\"687\" srcset=\"https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-4.png 1999w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-4.png?resize=916,614 916w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-4.png?resize=768,515 768w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-4.png?resize=1024,687 1024w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-4.png?resize=1536,1030 1536w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-4.png?resize=96,64 96w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-4.png?resize=192,129 192w\" sizes=\"(max-width: 992px) 100vw, 62vw\"/\u003e\u003cfigcaption id=\"caption-attachment-21679\"\u003eFigure 4: A data center temperature profile under RL model control.\u003c/figcaption\u003e\u003c/figure\u003e\n\u003cp\u003e\u003cspan\u003eIt is noticeable that the CFM savings vary under different supply air temperatures as the univariate chart in Figure 5 shows. The CFM savings can easily be converted to energy savings used by the supply fans. Under hot and dry conditions, when evaporative cooling or humidification is required, using less air will result in less water usage as well. Over the past couple years of the pilot, on average, we were able to reduce the supply fan energy consumption by 20% and water usage by 4% across various weather conditions.  \u003c/span\u003e\u003c/p\u003e\n\u003cfigure id=\"attachment_21680\" aria-describedby=\"caption-attachment-21680\"\u003e\u003cimg loading=\"lazy\" decoding=\"async\" src=\"https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-5.png?w=1024\" alt=\"\" width=\"1024\" height=\"481\" srcset=\"https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-5.png 1272w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-5.png?resize=916,430 916w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-5.png?resize=768,360 768w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-5.png?resize=1024,481 1024w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-5.png?resize=96,45 96w, https://engineering.fb.com/wp-content/uploads/2024/09/RL-data-centers_Figure-5.png?resize=192,90 192w\" sizes=\"(max-width: 992px) 100vw, 62vw\"/\u003e\u003cfigcaption id=\"caption-attachment-21680\"\u003eFigure 5. A breakdown of airflow savings at different supply air temperatures.\u003c/figcaption\u003e\u003c/figure\u003e\n\u003ch2\u003e\u003cspan\u003eFuture work for AI in data center optimization\u003c/span\u003e\u003c/h2\u003e\n\u003cp\u003e\u003cspan\u003eThis effort has opened the door to transform how our data centers operate. By introducing automated predictions and continuous optimizations for tuning environment conditions in our data centers we can bend the cost curve and reduce effort on labor intensive tasks.\u003c/span\u003e\u003cspan\u003e\u003cbr/\u003e\n\u003c/span\u003e\u003cspan\u003e\u003cbr/\u003e\n\u003c/span\u003e\u003cspan\u003eMeta is breaking ground on new types of data centers that are designed to \u003c/span\u003e\u003ca href=\"https://engineering.fb.com/2024/03/12/data-center-engineering/building-metas-genai-infrastructure/\" target=\"_blank\" rel=\"noopener\"\u003e\u003cspan\u003eoptimize for artificial intelligence\u003c/span\u003e\u003c/a\u003e\u003cspan\u003e. We plan to apply the same methodology presented here to our future data centers at the design phase to help ensure they’re optimized for sustainability from day one of their operations.\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan\u003eWe’re also currently rolling out our RL approach to data center cooling to our existing data centers. Over the couple of years we expect to achieve significant energy and water usage savings to contribute to \u003c/span\u003e\u003ca href=\"https://sustainability.atmeta.com/\" target=\"_blank\" rel=\"noopener\"\u003e\u003cspan\u003eMeta’s long- term sustainability goals\u003c/span\u003e\u003c/a\u003e\u003cspan\u003e. \u003c/span\u003e\u003c/p\u003e\n\u003ch2\u003e\u003cspan\u003eAcknowledgements\u003c/span\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ci\u003e\u003cspan\u003eWe would like to thank our partners in IDC Facility Operations (\u003c/span\u003e\u003c/i\u003e\u003ci\u003e\u003cspan data-rich-links=\"{\u0026#34;per_n\u0026#34;:\u0026#34;Butch Howard\u0026#34;,\u0026#34;per_e\u0026#34;:\u0026#34;hhhcubed@meta.com\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;person\u0026#34;}\"\u003eButch Howard\u003c/span\u003e\u003c/i\u003e\u003ci\u003e\u003cspan\u003e, \u003c/span\u003e\u003c/i\u003e\u003ci\u003e\u003cspan data-rich-links=\"{\u0026#34;per_n\u0026#34;:\u0026#34;Randy Ridgway\u0026#34;,\u0026#34;per_e\u0026#34;:\u0026#34;rridgway@meta.com\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;person\u0026#34;}\"\u003eRandy Ridgway\u003c/span\u003e\u003c/i\u003e\u003ci\u003e\u003cspan\u003e, \u003c/span\u003e\u003c/i\u003e\u003ci\u003e\u003cspan data-rich-links=\"{\u0026#34;per_n\u0026#34;:\u0026#34;James Monahan\u0026#34;,\u0026#34;per_e\u0026#34;:\u0026#34;jamesmonahan@meta.com\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;person\u0026#34;}\"\u003eJames Monahan\u003c/span\u003e\u003c/i\u003e\u003ci\u003e\u003cspan\u003e, \u003c/span\u003e\u003c/i\u003e\u003ci\u003e\u003cspan data-rich-links=\"{\u0026#34;per_n\u0026#34;:\u0026#34;Jose Montes\u0026#34;,\u0026#34;per_e\u0026#34;:\u0026#34;josemontes@fb.com\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;person\u0026#34;}\"\u003eJose Montes\u003c/span\u003e\u003c/i\u003e\u003ci\u003e\u003cspan\u003e, \u003c/span\u003e\u003c/i\u003e\u003ci\u003e\u003cspan data-rich-links=\"{\u0026#34;per_n\u0026#34;:\u0026#34;Larame Cummings\u0026#34;,\u0026#34;per_e\u0026#34;:\u0026#34;laramec@fb.com\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;person\u0026#34;}\"\u003eLarame Cummings\u003c/span\u003e\u003c/i\u003e\u003ci\u003e\u003cspan\u003e, \u003c/span\u003e\u003c/i\u003e\u003ci\u003e\u003cspan data-rich-links=\"{\u0026#34;per_n\u0026#34;:\u0026#34;Gerson Arteaga Ramirez\u0026#34;,\u0026#34;per_e\u0026#34;:\u0026#34;garteaga@meta.com\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;person\u0026#34;}\"\u003eGerson Arteaga Ramirez\u003c/span\u003e\u003c/i\u003e\u003ci\u003e\u003cspan\u003e, \u003c/span\u003e\u003c/i\u003e\u003ci\u003e\u003cspan data-rich-links=\"{\u0026#34;per_n\u0026#34;:\u0026#34;John Fabian\u0026#34;,\u0026#34;per_e\u0026#34;:\u0026#34;jfabian@fb.com\u0026#34;,\u0026#34;type\u0026#34;:\u0026#34;person\u0026#34;}\"\u003eJohn Fabian,\u003c/span\u003e\u003c/i\u003e\u003ci\u003e\u003cspan\u003e and many others) for their support.\u003c/span\u003e\u003c/i\u003e\u003c/p\u003e\n\n\t\t\n\t\u003c/div\u003e\u003c/div\u003e",
  "readingTime": "12 min read",
  "publishedTime": "2024-09-10T16:00:31Z",
  "modifiedTime": "2024-09-11T18:34:26Z"
}

{
  "id": "05da1f8d-5a7d-4b3a-ab9c-194fefbf7622",
  "title": "Sandcastle: data/AI apps for everyone",
  "link": "https://medium.com/airbnb-engineering/sandcastle-data-ai-apps-for-everyone-439f3b78b223?source=rss----53c7c27702d5---4",
  "description": "",
  "author": "Daniel Miller",
  "published": "Tue, 24 Sep 2024 17:01:45 GMT",
  "source": "https://medium.com/feed/airbnb-engineering",
  "categories": [
    "ai",
    "data-science",
    "technology",
    "machine-learning",
    "engineering"
  ],
  "byline": "Daniel Miller",
  "length": 11973,
  "excerpt": "Airbnb made it easy to bring data/AI ideas to life through a platform for prototyping web applications. Trustworthy data has always been a part of Airbnb’s technical DNA. However, it is challenging…",
  "siteName": "The Airbnb Tech Blog",
  "favicon": "https://miro.medium.com/v2/resize:fill:1000:1000/7*GAOKVe--MXbEJmV9230oOQ.png",
  "text": "Airbnb made it easy to bring data/AI ideas to life through a platform for prototyping web applications.By: Dan MillerWarm, friendly beach capturing the playful nature of prototyping.IntroductionTrustworthy data has always been a part of Airbnb’s technical DNA. However, it is challenging for our data scientists and ML practitioners to bring data- and AI-powered product ideas to life in a way that resonates with our design-focused leadership. Slide decks with screenshots, design documents with plots, and even Figmas are insufficient to capture ideas that need to be experienced in order to be understood. This was especially true as large language models (LLMs) took the world by storm, since they are typically used interactively in chat interfaces.In this blog post, we’ll focus on Sandcastle, an Airbnb-internal prototyping platform that enables data scientists, engineers, and even product managers to bring data/AI ideas to life as internal web applications for our design and product teams. Through Sandcastle, hundreds of individuals can be “cereal entrepreneurs” — empowered to directly iterate on and share their ideas. We’ll talk through common industry challenges involved in sharing web applications internally, give an overview of how Airbnb solved these challenges by building on top of its existing cloud infrastructure, and showcase the scale of our results.ChallengesImagine a data scientist is working on a typical data science problem at Airbnb: optimizing the positive milestones guests reach along their user journey, visualizing that journey, or improving explainability and statistical power in mathematically challenging scenarios like company-wide launches without A/B, or measuring brand perception. The data scientist has a brilliant LLM-powered idea. They want to demonstrate the capability their idea exposes in an interactive way, ideally one that can easily “go viral” with non-technical stakeholders. Standing between the idea and stakeholders are several challenges.Leadership \u0026 non-technical stakeholders will not want to run a Jupyter notebook, but they can click around in a UI and try out different input assumptions, choose different techniques, and deep-dive into outputs.Sandcastle app developmentData scientists are most comfortable writing Python code, and are quite unfamiliar with the world of modern web development (TypeScript, React, etc.). How can they capture their idea in an interactive application, even in their own development environment? Traditionally, this is done by collaborating with a frontend engineering team, but that brings its own set of challenges. Engineering bandwidth is typically limited, so prototyping new ideas must go through lengthy planning and prioritization cycles. Worse, it is nearly impossible for data scientists to iterate on the science behind their ideas, since any change must go through reprioritization and implementation.Suppose we can surmount the challenge of capturing an idea in a locally-run interactive web application. How do we package and share it in a way that other data scientists can easily reproduce using standard infrastructure?How can a data science organization handle infrastructure, networking with other parts of Airbnb’s complex tech stack, authentication so their apps don’t leak sensitive data, and storage for any temporary or intermediate data. How can they create easily shareable “handles” for their web applications that can easily go viral internally?SandcastleAirbnb’s solution to the challenges above is called Sandcastle. It brings together Onebrain: Airbnb’s packaging framework for data science / prototyping code, kube-gen: Airbnb’s infrastructure for generated Kubernetes configuration, and OneTouch: Airbnb’s infrastructure layer for dynamically scaled Kubernetes clusters. Sandcastle is accessible for data scientists, software developers, and even product managers, whether their preferred language is Python, TypeScript, R, or something else. We have had team members use Sandcastle to go from “idea” to “live internal app” in less than an hour.OnebrainThe open source ecosystem solves our first challenge, interactivity. Frameworks like Streamlit, Dash, and FastAPI, make it a delight for non-frontend developers to get an application up and running in their own development environment. Onebrain solves the second challenge: how to package a working set of code in a reproducible manner. We presented on Onebrain in detail at KDD 2023 but include a brief summary here. Onebrain assumes you arrange your code in “projects”: collections of arbitrary source code around a onebrain.yml file which looks like below.name: yourideaversion: 1.2.3description: Example Sandcastle appauthors: ['Jane Doe \u003cjane.doe@airbnb.email\u003e']build_enabled: trueentry_points: main: type: shell command: streamlit run app.py --server.port {{port}} parameters: port: {type: int, default: 8880}env: python: pip: {streamlit: ==1.34.0}This “project file” includes metadata like name, version, authorship, along with a collection of command line entry points that may run shell scripts, Python code, etc. and an environment specification directing which Python and R packages are needed to run. A developer may run “brain run” in the same directory as their project file for interactive development. Onebrain is integrated with Airbnb’s continuous integration, so every commit of the project will be published to our snapshot service. The snapshot service is a lightweight mechanism for storing immutable copies of source code that may be easily downloaded from anywhere else in Airbnb’s tech stack. Services may invokebrain run youridea --port 9877to resolve the latest snapshot of the project, bootstrap any dependencies, and invoke the parameterized shell command. This decouples rapid iteration on application logic with slower CI/CD against the service configuration we’ll talk about below.kube-genCloud infrastructure is challenging to configure correctly, especially for data scientists. Fortunately, Airbnb has built a code-generation layer on top of Kubernetes called kube-gen, which handles most of authentication, tracing, and cross-service communication for you. Sandcastle further simplifies things by using kube-gen hooks to generate all but one service configuration file on the developer’s behalf during build. The kube-gen configuration for a typical application would include environment-specific service parameters, Kubernetes app + container configuration, Spinnaker™ pipeline definitions, and configuration for Airbnb’s network proxy. Sandcastle generates sensible defaults for all of that configuration on-the-fly, so that all an app developer needs to write is a simple container configuration file like below. Multiple developers have raised support threads because the configuration was so simple, they thought they were making a mistake!name: sandcastle-yourideaimage: {{ .Env.Params.pythonImage }}command: - brain - download-and-run - youridea - --port - {{ .Env.Params.port }}resources: {{ ToInlineYaml .Env.Params.containerResources }}The file above allows an app developer to configure which Onebrain project to run, which port it exposes a process on, and customize the underlying Docker image and CPU+RAM resources if necessary.Within 10–15 minutes of checking in a file like above, the app will be live at an easily shareable URL like https://youridea.airbnb.proxy/ , where it can be shared with anyone at the company who has a working corporate login. Sandcastle also handles “identity propagation” from visiting users to the underlying data warehouse infrastructure, to ensure that applications respect user permissions around accessing sensitive metrics and tables.Replicating SandcastleProduct ideas powered by data and AI are best developed through rapid iteration on shareable, lightweight live prototypes, instead of static proposals. There are multiple challenges to facilitating the creation of secure internal prototypes. Open source frameworks like Streamlit and Dash help, but aren’t enough: you also need a hosting platform. It doesn’t make sense to open source Sandcastle, because the answers to “how does my service talk to others” or “how does authentication work” are so different across company infrastructures. Instead, any company can use Sandcastle’s approach as a recipe: 1) Application: adapt open source web application frameworks to their bespoke tech stack with 2) Hosting platform: that handles authentication, networking and provides shareable links.Here is a quick summary of the things you’ll need to think about if you hope to build a “Sandcastle” for your own company:Open source web application framework(s): At Airbnb we largely use Streamlit for data science prototyping, with a bit of FastAPI and React for more bespoke prototypes. Prioritize ease of development (especially hot reload), a rich ecosystem of open source components, and performant UIs via caching.Packaging system: a way of publishing snapshots of “data/AI prototype code” from DS/ML development environments to somewhere consumable from elsewhere in your tech stack. At Airbnb we use Onebrain, but there are many paid public alternatives.Reproducible runs of DS/ML code: this should include Python / Conda environment management. Airbnb uses Onebrain for this as well, but you may consider pip.In addition, you’ll need prototyping-friendly solutions for the three pillars of cloud computing:Compute: spin up a remote hosting environment with little or ideally no complicated infrastructure configuration required.Storage: access to ephemeral storage for caching and, more importantly, access to your company’s data warehouse infrastructure so prototypes can query your offline data.Networking: an authentication proxy that allows internal users to access prototypes, ideally via easily memorable domains like appname.yourproxy.io, and passes along user information so prototypes can pass visitor credentials through to the data warehouse or other services. Also, read-only access to other internal services so prototypes can query live data.Build with a view towards “going viral”, and you’ll end up with a larger internal audience than you expect, especially if your platform is deliberately flexible. This allows their developers to focus on leveraging the rich open source prototyping ecosystem. More importantly, key stakeholders will be able to directly experience data/AI ideas at an early stage.ConclusionSandcastle unlocked fast and easy deployment and iteration of new ideas, especially in the data and ML (including LLMs, generative AI) spaces. For the first time, data scientists and PMs are able to directly iterate on interactive versions of their ideas, without needing lengthy cycles for prioritization with an engineering team.Airbnb’s data science, engineering, and product management community developed over 175 live prototypes in the last year, 6 of which were used for high-impact use cases. These were visited by over 3.5k unique internal visitors across over 69k distinct active days. Hundreds of internal users a week visit one of our many internal prototypes to directly interact with them. This led to an ongoing cultural shift from using decks / docs to using live prototypesIf this type of work interests you, check out some of our related positions:Staff data scientist — Algorithms, TrustSenior Staff Software Engineer, AI for Developer Productivity… and more at Careers at Airbnb!You can also learn more about data science and AI at Airbnb by checking out Airbnb at KDD 2023, Airbnb Brandometer: Powering Brand Perception Measurement on Social Media Data with AI, and Chronon, Airbnb’s ML Feature Platform, Is Now Open Source.AcknowledgmentsThanks to:Chris C Williams, Erik Iverson, Mike Dodge, Patrick Srail — for being early adopters whose feedback was critical in shaping Sandcastle’s evolution.Alex Deng, Carolina Barcenas, Navin Sivanandam — for their leadership support.",
  "image": "https://miro.medium.com/v2/resize:fit:1200/1*eGkAsMkZXIEKQGhLiQyCTw.jpeg",
  "html": "\u003cdiv id=\"readability-page-1\" class=\"page\"\u003e\u003cdiv\u003e\u003cdiv\u003e\u003cdiv aria-hidden=\"false\"\u003e\u003ca rel=\"noopener follow\" href=\"https://medium.com/@daniel.keegan.miller?source=post_page---byline--439f3b78b223--------------------------------\"\u003e\u003cdiv\u003e\u003cp\u003e\u003cimg alt=\"Daniel Miller\" src=\"https://miro.medium.com/v2/resize:fill:88:88/0*MmW_FzSjROWCty1B.\" width=\"44\" height=\"44\" loading=\"lazy\" data-testid=\"authorPhoto\"/\u003e\u003c/p\u003e\u003c/div\u003e\u003c/a\u003e\u003c/div\u003e\u003cdiv aria-hidden=\"false\"\u003e\u003ca href=\"https://medium.com/airbnb-engineering?source=post_page---byline--439f3b78b223--------------------------------\" rel=\"noopener follow\"\u003e\u003cdiv\u003e\u003cp\u003e\u003cimg alt=\"The Airbnb Tech Blog\" src=\"https://miro.medium.com/v2/resize:fill:48:48/1*MlNQKg-sieBGW5prWoe9HQ.jpeg\" width=\"24\" height=\"24\" loading=\"lazy\" data-testid=\"publicationPhoto\"/\u003e\u003c/p\u003e\u003c/div\u003e\u003c/a\u003e\u003c/div\u003e\u003c/div\u003e\u003cp id=\"13a8\"\u003eAirbnb made it easy to bring data/AI ideas to life through a platform for prototyping web applications.\u003c/p\u003e\u003cp id=\"1d5d\"\u003e\u003cstrong\u003eBy:\u003c/strong\u003e Dan Miller\u003c/p\u003e\u003cfigure\u003e\u003cfigcaption\u003eWarm, friendly beach capturing the playful nature of prototyping.\u003c/figcaption\u003e\u003c/figure\u003e\u003ch2 id=\"fe43\"\u003eIntroduction\u003c/h2\u003e\u003cp id=\"327a\"\u003e\u003ca rel=\"noopener\" href=\"https://medium.com/airbnb-engineering/data-quality-at-airbnb-870d03080469\"\u003eTrustworthy data\u003c/a\u003e has always been a part of Airbnb’s technical DNA. However, it is challenging for our data scientists and ML practitioners to bring data- and AI-powered product ideas to life in a way that resonates with our \u003ca href=\"https://news.airbnb.com/designing-the-future-of-airbnb/\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003edesign-focused leadership\u003c/a\u003e. Slide decks with screenshots, design documents with plots, and even Figmas are insufficient to capture ideas that need to be experienced in order to be understood. This was especially true as large language models (LLMs) took the world by storm, since they are typically used interactively in chat interfaces.\u003c/p\u003e\u003cp id=\"ee8a\"\u003eIn this blog post, we’ll focus on Sandcastle, an Airbnb-internal prototyping platform that enables data scientists, engineers, and even product managers to bring data/AI ideas to life as internal web applications for our design and product teams. Through Sandcastle, hundreds of individuals can be “cereal entrepreneurs” — empowered to directly iterate on and share their ideas. We’ll talk through common industry challenges involved in sharing web applications internally, give an overview of how Airbnb solved these challenges by building on top of its existing cloud infrastructure, and showcase the scale of our results.\u003c/p\u003e\u003ch2 id=\"578d\"\u003eChallenges\u003c/h2\u003e\u003cp id=\"8b97\"\u003eImagine a data scientist is working on a \u003ca rel=\"noopener\" href=\"https://medium.com/airbnb-engineering/airbnb-at-kdd-2023-9084ad244d8c\"\u003etypical data science problem at Airbnb\u003c/a\u003e: optimizing the positive milestones guests reach along their user journey, visualizing that journey, or improving explainability and statistical power in mathematically challenging scenarios like \u003ca rel=\"noopener\" href=\"https://medium.com/airbnb-engineering/artificial-counterfactual-estimation-ace-machine-learning-based-causal-inference-at-airbnb-ee32ee4d0512\"\u003ecompany-wide launches without A/B\u003c/a\u003e, or \u003ca rel=\"noopener\" href=\"https://medium.com/airbnb-engineering/airbnb-brandometer-powering-brand-perception-measurement-on-social-media-data-with-ai-c83019408051\"\u003emeasuring brand perception\u003c/a\u003e. The data scientist has a brilliant LLM-powered idea. They want to demonstrate the capability their idea exposes in an interactive way, ideally one that can easily “go viral” with non-technical stakeholders. Standing between the idea and stakeholders are several challenges.\u003c/p\u003e\u003cp id=\"6fbb\"\u003eLeadership \u0026amp; non-technical stakeholders will not want to run a Jupyter notebook, but they can click around in a UI and try out different input assumptions, choose different techniques, and deep-dive into outputs.\u003c/p\u003e\u003cfigure\u003e\u003cfigcaption\u003eSandcastle app development\u003c/figcaption\u003e\u003c/figure\u003e\u003cp id=\"c3a7\"\u003eData scientists are most comfortable writing Python code, and are quite unfamiliar with the world of modern web development (TypeScript, React, etc.). \u003cstrong\u003eHow can they capture their idea in an interactive application\u003c/strong\u003e, even in their own development environment? Traditionally, this is done by collaborating with a frontend engineering team, but that brings its own set of challenges. Engineering bandwidth is typically limited, so prototyping new ideas must go through lengthy planning and prioritization cycles. Worse, it is nearly impossible for data scientists to iterate on the science behind their ideas, since any change must go through reprioritization and implementation.\u003c/p\u003e\u003cp id=\"0735\"\u003eSuppose we can surmount the challenge of capturing an idea in a locally-run interactive web application. \u003cstrong\u003eHow do we package and share it in a way that other data scientists can easily reproduce using standard infrastructure?\u003c/strong\u003e\u003c/p\u003e\u003cp id=\"168a\"\u003e\u003cstrong\u003eHow can a data science organization handle infrastructure\u003c/strong\u003e, networking with other parts of Airbnb’s complex tech stack, authentication so their apps don’t leak sensitive data, and storage for any temporary or intermediate data. \u003cstrong\u003eHow can they create easily shareable “handles” for their web applications\u003c/strong\u003e that can easily go viral internally?\u003c/p\u003e\u003ch2 id=\"23eb\"\u003eSandcastle\u003c/h2\u003e\u003cp id=\"4031\"\u003eAirbnb’s solution to the challenges above is called \u003cstrong\u003eSandcastle\u003c/strong\u003e. It brings together \u003ca href=\"https://wamlm-kdd.github.io/wamlm/2023.html\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eOnebrain\u003c/a\u003e: Airbnb’s packaging framework for data science / prototyping code, \u003ca rel=\"noopener\" href=\"https://medium.com/airbnb-engineering/a-krispr-approach-to-kubernetes-infrastructure-a0741cff4e0c\"\u003ekube-gen\u003c/a\u003e: Airbnb’s infrastructure for generated Kubernetes configuration, and \u003ca rel=\"noopener\" href=\"https://medium.com/airbnb-engineering/dynamic-kubernetes-cluster-scaling-at-airbnb-d79ae3afa132\"\u003eOneTouch\u003c/a\u003e: Airbnb’s infrastructure layer for dynamically scaled Kubernetes clusters. Sandcastle is accessible for data scientists, software developers, and even product managers, whether their preferred language is Python, TypeScript, R, or something else. We have had team members use Sandcastle to go from “idea” to “live internal app” in less than an hour.\u003c/p\u003e\u003cfigure\u003e\u003c/figure\u003e\u003ch2 id=\"6d09\"\u003eOnebrain\u003c/h2\u003e\u003cp id=\"2d0e\"\u003eThe open source ecosystem solves our first challenge, interactivity. Frameworks like \u003ca href=\"https://www.youtube.com/watch?v=X3rTUZOm2jA\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eStreamlit\u003c/a\u003e, \u003ca href=\"https://dash.plotly.com/\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eDash\u003c/a\u003e, and \u003ca href=\"https://fastapi.tiangolo.com/\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eFastAPI\u003c/a\u003e, make it a delight for non-frontend developers to get an application up and running in their own development environment. Onebrain solves the second challenge: how to package a working set of code in a reproducible manner. We \u003ca rel=\"noopener\" href=\"https://medium.com/airbnb-engineering/airbnb-at-kdd-2023-9084ad244d8c\"\u003epresented on Onebrain in detail at KDD 2023\u003c/a\u003e but include a brief summary here. Onebrain assumes you arrange your code in “projects”: collections of arbitrary source code around a onebrain.yml file which looks like below.\u003c/p\u003e\u003cpre\u003e\u003cspan id=\"6530\"\u003ename: youridea\u003cbr/\u003eversion: 1.2.3\u003cbr/\u003edescription: Example Sandcastle app\u003cbr/\u003eauthors: [\u0026#39;Jane Doe \u0026lt;jane.doe@airbnb.email\u0026gt;\u0026#39;]\u003cp\u003ebuild_enabled: true\u003c/p\u003e\u003cp\u003eentry_points:\u003cbr/\u003e  main:\u003cbr/\u003e    type: shell\u003cbr/\u003e    command: streamlit run app.py --server.port {{port}}\u003cbr/\u003e    parameters:\u003cbr/\u003e      port: {type: int, default: 8880}\u003c/p\u003e\u003cp\u003eenv:\u003cbr/\u003e  python:\u003cbr/\u003e    pip: {streamlit: ==1.34.0}\u003c/p\u003e\u003c/span\u003e\u003c/pre\u003e\u003cp id=\"a0bc\"\u003eThis “project file” includes metadata like name, version, authorship, along with a collection of command line entry points that may run shell scripts, Python code, etc. and an environment specification directing which Python and R packages are needed to run. A developer may run “\u003cstrong\u003ebrain run”\u003c/strong\u003e in the same directory as their project file for interactive development. Onebrain is integrated with Airbnb’s continuous integration, so every commit of the project will be published to our snapshot service. The snapshot service is a lightweight mechanism for storing immutable copies of source code that may be easily downloaded from anywhere else in Airbnb’s tech stack. Services may invoke\u003c/p\u003e\u003cpre\u003e\u003cspan id=\"e1ba\"\u003ebrain run youridea --port 9877\u003c/span\u003e\u003c/pre\u003e\u003cp id=\"1c2d\"\u003eto resolve the latest snapshot of the project, bootstrap any dependencies, and invoke the parameterized shell command. This decouples rapid iteration on application logic with slower CI/CD against the service configuration we’ll talk about below.\u003c/p\u003e\u003ch2 id=\"0051\"\u003ekube-gen\u003c/h2\u003e\u003cp id=\"efda\"\u003eCloud infrastructure is challenging to configure correctly, especially for data scientists. Fortunately, Airbnb has \u003ca rel=\"noopener\" href=\"https://medium.com/airbnb-engineering/a-krispr-approach-to-kubernetes-infrastructure-a0741cff4e0c\"\u003ebuilt a code-generation layer on top of Kubernetes called kube-gen\u003c/a\u003e, which handles most of authentication, tracing, and cross-service communication for you. Sandcastle further simplifies things by using kube-gen hooks to generate all but one service configuration file on the developer’s behalf during build. The kube-gen configuration for a typical application would include environment-specific service parameters, Kubernetes app + container configuration, \u003ca rel=\"noopener\" href=\"https://medium.com/airbnb-engineering/continuous-delivery-at-airbnb-6ac042bc7876\"\u003eSpinnaker™ pipeline definitions\u003c/a\u003e, and configuration for \u003ca rel=\"noopener\" href=\"https://medium.com/airbnb-engineering/improving-istio-propagation-delay-d4da9b5b9f90\"\u003eAirbnb’s network proxy\u003c/a\u003e. Sandcastle generates sensible defaults for all of that configuration on-the-fly, so that all an app developer needs to write is a simple container configuration file like below. Multiple developers have raised support threads because the configuration was so simple, they thought they were making a mistake!\u003c/p\u003e\u003cpre\u003e\u003cspan id=\"3f9c\"\u003ename: sandcastle-youridea\u003cbr/\u003eimage: {{ .Env.Params.pythonImage }}\u003cp\u003ecommand:\u003cbr/\u003e  - brain\u003cbr/\u003e  - download-and-run\u003cbr/\u003e  - youridea\u003cbr/\u003e  - --port\u003cbr/\u003e  - {{ .Env.Params.port }}\u003c/p\u003e\u003cp\u003eresources: {{ ToInlineYaml .Env.Params.containerResources }}\u003c/p\u003e\u003c/span\u003e\u003c/pre\u003e\u003cp id=\"88fc\"\u003eThe file above allows an app developer to configure which Onebrain project to run, which port it exposes a process on, and customize the underlying Docker image and CPU+RAM resources if necessary.\u003c/p\u003e\u003cp id=\"f893\"\u003eWithin 10–15 minutes of checking in a file like above, the app will be live at an easily shareable URL like \u003ca href=\"https://youridea.airbnb.proxy/\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003ehttps://youridea.airbnb.proxy/\u003c/a\u003e , where it can be shared with anyone at the company who has a working corporate login. Sandcastle also handles “identity propagation” from visiting users to the underlying data warehouse infrastructure, to ensure that applications respect user permissions around accessing sensitive metrics and tables.\u003c/p\u003e\u003ch2 id=\"15d9\"\u003eReplicating Sandcastle\u003c/h2\u003e\u003cp id=\"3e28\"\u003eProduct ideas powered by data and AI are best developed through rapid iteration on shareable, lightweight live prototypes, instead of static proposals. There are multiple challenges to facilitating the creation of secure internal prototypes. Open source frameworks like Streamlit and \u003ca href=\"https://dash.plotly.com/\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eDash\u003c/a\u003e help, but aren’t enough: you also need a hosting platform. It doesn’t make sense to open source Sandcastle, because the answers to “how does my service talk to others” or “how does authentication work” are so different across company infrastructures. Instead, \u003cstrong\u003eany company can use Sandcastle’s approach as a recipe: 1) Application: adapt open source web application frameworks to their bespoke tech stack with 2) Hosting platform: that handles authentication, networking\u003c/strong\u003e and provides shareable links.\u003c/p\u003e\u003cp id=\"e371\"\u003eHere is a quick summary of the things you’ll need to think about if you hope to build a “Sandcastle” for your own company:\u003c/p\u003e\u003cul\u003e\u003cli id=\"755e\"\u003e\u003cstrong\u003eOpen source web application framework(s)\u003c/strong\u003e: At Airbnb we largely use \u003ca href=\"https://docs.streamlit.io/\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eStreamlit\u003c/a\u003e for data science prototyping, with a bit of \u003ca href=\"https://fastapi.tiangolo.com/\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eFastAPI\u003c/a\u003e and \u003ca href=\"https://react.dev/reference/react\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eReact\u003c/a\u003e for more bespoke prototypes. Prioritize ease of development (especially hot reload), a rich ecosystem of open source components, and performant UIs via caching.\u003c/li\u003e\u003cli id=\"74c0\"\u003e\u003cstrong\u003ePackaging system\u003c/strong\u003e: a way of publishing snapshots of “data/AI prototype code” from DS/ML development environments to somewhere consumable from elsewhere in your tech stack. At Airbnb we use \u003ca href=\"https://wamlm-kdd.github.io/wamlm/papers/wamlm-kdd23_paper_Daniel_Miller.pdf\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eOnebrain\u003c/a\u003e, but there are many paid public alternatives.\u003c/li\u003e\u003cli id=\"7d46\"\u003e\u003cstrong\u003eReproducible runs of DS/ML code:\u003c/strong\u003e this should include Python / Conda environment management. Airbnb uses Onebrain for this as well, but you may consider \u003ca href=\"https://pip.pypa.io/en/stable/installation/\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003epip\u003c/a\u003e.\u003c/li\u003e\u003c/ul\u003e\u003cp id=\"ba48\"\u003eIn addition, you’ll need prototyping-friendly solutions for the three pillars of cloud computing:\u003c/p\u003e\u003cul\u003e\u003cli id=\"de55\"\u003e\u003cstrong\u003eCompute\u003c/strong\u003e: spin up a remote hosting environment with little or ideally no complicated infrastructure configuration required.\u003c/li\u003e\u003cli id=\"31ca\"\u003e\u003cstrong\u003eStorage\u003c/strong\u003e: access to ephemeral storage for caching and, more importantly, access to your company’s data warehouse infrastructure so prototypes can query your offline data.\u003c/li\u003e\u003cli id=\"17dd\"\u003e\u003cstrong\u003eNetworking\u003c/strong\u003e: an authentication proxy that allows internal users to access prototypes, ideally via easily memorable domains like appname.yourproxy.io, and passes along user information so prototypes can pass visitor credentials through to the data warehouse or other services. Also, read-only access to other internal services so prototypes can query live data.\u003c/li\u003e\u003c/ul\u003e\u003cp id=\"c7bc\"\u003eBuild with a view towards “going viral”, and you’ll end up with a larger internal audience than you expect, especially if your platform is deliberately flexible. This allows their developers to focus on leveraging the rich open source prototyping ecosystem. More importantly, key stakeholders will be able to directly experience data/AI ideas at an early stage.\u003c/p\u003e\u003ch2 id=\"d5a2\"\u003eConclusion\u003c/h2\u003e\u003cp id=\"429b\"\u003eSandcastle unlocked fast and easy deployment and iteration of new ideas, especially in the data and ML (including LLMs, generative AI) spaces. For the first time, data scientists and PMs are able to directly iterate on interactive versions of their ideas, without needing lengthy cycles for prioritization with an engineering team.\u003c/p\u003e\u003cp id=\"2de9\"\u003eAirbnb’s data science, engineering, and product management community developed over 175 live prototypes in the last year, 6 of which were used for high-impact use cases. These were visited by over 3.5k unique internal visitors across over 69k distinct active days. Hundreds of internal users a week visit one of our many internal prototypes to directly interact with them. This led to an ongoing cultural shift from using decks / docs to using live prototypes\u003c/p\u003e\u003cp id=\"a233\"\u003eIf this type of work interests you, check out some of our related positions:\u003c/p\u003e\u003cul\u003e\u003cli id=\"51a0\"\u003e\u003ca href=\"https://careers.airbnb.com/positions/5875290/\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eStaff data scientist — Algorithms, Trust\u003c/a\u003e\u003c/li\u003e\u003cli id=\"c8b3\"\u003e\u003ca href=\"https://careers.airbnb.com/positions/5927030/\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eSenior Staff Software Engineer, AI for Developer Productivity\u003c/a\u003e\u003c/li\u003e\u003cli id=\"7c7c\"\u003e… and more at \u003ca href=\"https://careers.airbnb.com/\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eCareers at Airbnb\u003c/a\u003e!\u003c/li\u003e\u003c/ul\u003e\u003cp id=\"5784\"\u003eYou can also learn more about data science and AI at Airbnb by checking out \u003ca rel=\"noopener\" href=\"https://medium.com/airbnb-engineering/airbnb-at-kdd-2023-9084ad244d8c\"\u003eAirbnb at KDD 2023\u003c/a\u003e, \u003ca rel=\"noopener\" href=\"https://medium.com/airbnb-engineering/airbnb-brandometer-powering-brand-perception-measurement-on-social-media-data-with-ai-c83019408051\"\u003eAirbnb Brandometer: Powering Brand Perception Measurement on Social Media Data with AI\u003c/a\u003e, and \u003ca rel=\"noopener\" href=\"https://medium.com/airbnb-engineering/chronon-airbnbs-ml-feature-platform-is-now-open-source-d9c4dba859e8\"\u003eChronon, Airbnb’s ML Feature Platform, Is Now Open Source\u003c/a\u003e.\u003c/p\u003e\u003ch2 id=\"f294\"\u003eAcknowledgments\u003c/h2\u003e\u003cp id=\"bb3e\"\u003eThanks to:\u003c/p\u003e\u003cul\u003e\u003cli id=\"1d0d\"\u003e\u003cspan\u003e\u003cspan aria-hidden=\"false\"\u003e\u003ca href=\"https://medium.com/u/55e89bdb611e?source=post_page---user_mention--439f3b78b223--------------------------------\" rel=\"noopener\" target=\"_blank\"\u003eChris C Williams\u003c/a\u003e\u003c/span\u003e\u003c/span\u003e, \u003ca href=\"mailto:erik.iverson@airbnb.com\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eErik Iverson\u003c/a\u003e, \u003cspan\u003e\u003cspan aria-hidden=\"false\"\u003e\u003ca href=\"https://medium.com/u/d3e044d2752c?source=post_page---user_mention--439f3b78b223--------------------------------\" rel=\"noopener\" target=\"_blank\"\u003eMike Dodge\u003c/a\u003e\u003c/span\u003e\u003c/span\u003e, \u003cspan\u003e\u003cspan aria-hidden=\"false\"\u003e\u003ca href=\"https://medium.com/u/910acc9d635b?source=post_page---user_mention--439f3b78b223--------------------------------\" rel=\"noopener\" target=\"_blank\"\u003ePatrick Srail\u003c/a\u003e\u003c/span\u003e\u003c/span\u003e — for being early adopters whose feedback was critical in shaping Sandcastle’s evolution.\u003c/li\u003e\u003cli id=\"0212\"\u003e\u003cspan\u003e\u003cspan aria-hidden=\"false\"\u003e\u003ca href=\"https://medium.com/u/d42a7a48aeb8?source=post_page---user_mention--439f3b78b223--------------------------------\" rel=\"noopener\" target=\"_blank\"\u003eAlex Deng\u003c/a\u003e\u003c/span\u003e\u003c/span\u003e, \u003ca href=\"mailto:carolina.barcenas@airbnb.com\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eCarolina Barcenas\u003c/a\u003e, \u003ca href=\"mailto:navin.sivanandam@airbnb.com\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eNavin Sivanandam\u003c/a\u003e — for their leadership support.\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/div\u003e",
  "readingTime": "13 min read",
  "publishedTime": "2024-09-24T17:01:44.918Z",
  "modifiedTime": null
}

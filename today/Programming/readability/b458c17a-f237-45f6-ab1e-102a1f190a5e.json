{
  "id": "b458c17a-f237-45f6-ab1e-102a1f190a5e",
  "title": "Gemini API and Google AI Studio now offer Grounding with Google Search",
  "link": "https://developers.googleblog.com/en/gemini-api-and-ai-studio-now-offer-grounding-with-google-search/",
  "description": "Grounding with Google Search for the Gemini API and Google AI Studio enhances the accuracy and freshness of Gemini's responses by leveraging Google Search data.",
  "author": "",
  "published": "",
  "source": "http://feeds.feedburner.com/GDBcode",
  "categories": null,
  "byline": "Shrestha Basu Mallick, Logan Kilpatrick",
  "length": 5213,
  "excerpt": "Grounding with Google Search for the Gemini API and Google AI Studio enhances the accuracy and freshness of Gemini's responses by leveraging Google Search data.",
  "siteName": "",
  "favicon": "",
  "text": "Logan Kilpatrick Senior Product Manager Gemini API and Google AI Studio Today, we are rolling out Grounding with Google Search in Google AI Studio and the Gemini API, enabling developers to get more accurate and fresh responses from the Gemini models aided by Google Search. In addition to more accurate responses, the model returns grounding sources (in-line supporting links) and Search Suggestions that point users to the search results corresponding to the grounded response. Sorry, your browser doesn't support playback for this video Model response with Grounding sources and Search Suggestions when Grounding with Google Search is turned on Grounding with Google Search is supported with all generally available versions of Gemini 1.5 models. Developers can turn it on in Google AI Studio under the “Tools” section or in the API by enabling the 'google_search_retrieval' tool. Grounding is available to test for free in Google AI Studio. In the API, developers can access the tool with the paid tier for $35 per 1,000 grounded queries.When should developers use grounding?Developers should enable Grounding with Google Search for queries and applications which could benefit from any of the following:Reduced hallucinations: Grounding helps ensure that AI applications provide users with more factual information.More up-to-date information: With grounding, models can access real-time information, making AI applications relevant and applicable to a wider range of scenarios.Enhanced trustworthiness and traffic to publishers: By providing supporting links, grounding brings transparency to AI applications, making them more trustworthy and encouraging users to click on the underlying sources to find out more.Richer information: By drawing information from Google Search to enhance the model response, grounding is able to provide richer color on many queries.Grounding with Google Search in actionWe show a couple of examples below, using AI Studio’s new Compare Mode, where the model response benefits from Grounding with Google Search. In the first example, the model provides an out of date answer based on its knowledge cut-off (on the left) but answers more accurately based on the latest available sources (on the right) when grounding is turned on. Model response in Google AI Studio compare mode, without grounding (left) and with grounding (right) In this example, without grounding enabled (on the left), the model intentionally presents a minimal response by default. With grounding (on the right), the model comes back with a richer response including supporting links. Richer response by the latest Gemini 1.5 Flash model using Grounding with Google Search (right) How does Grounding with Google Search work?When a user makes a query with grounding turned on, the service uses Google’s search engine to find up-to-date and comprehensive information that is relevant to the query, and sends it to the model. The model then responds with higher accuracy and freshness, providing in-line grounding sources (supporting links) and Search Suggestions. import google.generativeai as genai import os genai.configure(api_key=os.environ[\"API_KEY\"]) model = genai.GenerativeModel('models/gemini-1.5-flash-002') response = model.generate_content(contents=\"Who won Wimbledon this year?\", tools='google_search_retrieval') print(response) # Response contains `groundingMetadata` with grounding sources, confidence scores, and search suggestions Refer to the documentation for complete code.Even when Grounding with Google Search is on, not every query in a session necessarily requires grounding, which results in additional cost and latency. This is where developers have a second layer of control with dynamic retrieval.When developers request a grounded answer, the dynamic retrieval configuration assigns the prompt a prediction score, which is a floating point value between 0 and 1. The value is higher when a prompt is more likely to benefit from grounding. In their requests, developers can set a threshold for what scores should result in grounding (the default threshold value is 0.3). Developers should test various options for the threshold value to see what best works for their applications. Dynamic retrieval for Grounding with Google Search in Google AI Studio By using Google’s search results to ground Gemini-based applications, developers can provide their users with more accurate, relevant, and trustworthy information. Refer to our documentation for detailed code examples and step-by-step instructions.We look forward to your feedback and are excited to see what you build with this new capability!",
  "image": "https://storage.googleapis.com/gweb-developer-goog-blog-assets/images/Gemini_Grounding-_metadata_52x.2e16d0ba.fill-1200x600.png",
  "html": "\u003cdiv id=\"readability-page-1\" class=\"page\"\u003e\u003cdiv\u003e\n\n    \n      \n    \n\n    \n\n    \n\n    \u003csection\u003e\n      \n        \n          \n        \n          \u003cp\u003e\u003ca href=\"https://developers.googleblog.com/en/search/?author=Logan+Kilpatrick\"\u003eLogan Kilpatrick\u003c/a\u003e\n            \n              \u003cspan\u003eSenior Product Manager\u003c/span\u003e\n            \n            \n              \u003cspan\u003eGemini API and Google AI Studio\u003c/span\u003e\n            \n          \u003c/p\u003e\n        \n\n      \n      \u003c/section\u003e\n\n    \n    \u003cdiv\u003e\n          \n\n\u003cp data-block-key=\"x57jy\"\u003eToday, we are rolling out Grounding with Google Search in \u003ca href=\"https://aistudio.google.com/\"\u003eGoogle AI Studio\u003c/a\u003e and the \u003ca href=\"https://ai.google.dev/gemini-api/?utm_source=gfd\u0026amp;utm_medium=referral\u0026amp;utm_campaign=s_grounding\u0026amp;utm_content=blog-oct\"\u003eGemini API\u003c/a\u003e, enabling developers to get more accurate and fresh responses from the Gemini models aided by Google Search. In addition to more accurate responses, the model returns grounding sources (in-line supporting links) and Search Suggestions that point users to the search results corresponding to the grounded response.\u003c/p\u003e   \n\n\u003cdiv\u003e\n    \n        \u003cvideo autoplay=\"\" loop=\"\" muted=\"\" playsinline=\"\" poster=\"https://storage.googleapis.com/gweb-developer-goog-blog-assets/original_videos/wagtailvideo-kw5e_0mh_thumb.jpg\"\u003e\n\u003csource src=\"https://storage.googleapis.com/gweb-developer-goog-blog-assets/original_videos/Nobel-Prize-Prompt-Grounding-Search.mp4\" type=\"video/mp4\"/\u003e\n\u003cp\u003eSorry, your browser doesn\u0026#39;t support playback for this video\u003c/p\u003e\n\n\u003c/video\u003e\n    \n    \n        \n            \u003cp\u003e\n                Model response with Grounding sources and Search Suggestions when Grounding with Google Search is turned on\n            \u003c/p\u003e\n        \n    \n\u003c/div\u003e  \u003cdiv\u003e\n    \u003cp data-block-key=\"x57jy\"\u003eGrounding with Google Search is supported with all generally available versions of Gemini 1.5 models. Developers can turn it on in Google AI Studio under the “Tools” section or in the API by \u003ca href=\"https://ai.google.dev/gemini-api/docs/grounding?lang=python#ground-a-model\"\u003eenabling the \u0026#39;google_search_retrieval\u0026#39; tool\u003c/a\u003e. Grounding is available to test for free in Google AI Studio. In the API, developers can access the tool with the paid tier for \u003ca href=\"https://ai.google.dev/pricing?utm_source=gfd\u0026amp;utm_medium=referral\u0026amp;utm_campaign=s_grounding\u0026amp;utm_content=blog-oct\"\u003e$35 per 1,000 grounded queries\u003c/a\u003e.\u003c/p\u003e\u003ch3 data-block-key=\"f8e6q\"\u003e\u003cb\u003e\u003cbr/\u003eWhen should developers use grounding?\u003c/b\u003e\u003c/h3\u003e\u003cp data-block-key=\"amn6s\"\u003eDevelopers should enable Grounding with Google Search for queries and applications which could benefit from any of the following:\u003c/p\u003e\u003cul\u003e\u003cli data-block-key=\"7p5eq\"\u003e\u003cb\u003eReduced hallucinations:\u003c/b\u003e Grounding helps ensure that AI applications provide users with more factual information.\u003c/li\u003e\u003c/ul\u003e\u003cul\u003e\u003cli data-block-key=\"4vukj\"\u003e\u003cb\u003eMore up-to-date information:\u003c/b\u003e With grounding, models can access real-time information, making AI applications relevant and applicable to a wider range of scenarios.\u003c/li\u003e\u003c/ul\u003e\u003cul\u003e\u003cli data-block-key=\"1v516\"\u003e\u003cb\u003eEnhanced trustworthiness and traffic to publishers:\u003c/b\u003e By providing supporting links, grounding brings transparency to AI applications, making them more trustworthy and encouraging users to click on the underlying sources to find out more.\u003c/li\u003e\u003c/ul\u003e\u003cul\u003e\u003cli data-block-key=\"crv47\"\u003e\u003cb\u003eRicher information:\u003c/b\u003e By drawing information from Google Search to enhance the model response, grounding is able to provide richer color on many queries.\u003c/li\u003e\u003c/ul\u003e\u003ch3 data-block-key=\"21apb\"\u003e\u003cb\u003e\u003cbr/\u003eGrounding with Google Search in action\u003c/b\u003e\u003c/h3\u003e\u003cp data-block-key=\"8mble\"\u003eWe show a couple of examples below, using AI Studio’s new \u003ca href=\"https://developers.googleblog.com/en/compare-mode-in-google-ai-studio/\"\u003eCompare Mode\u003c/a\u003e, where the model response benefits from Grounding with Google Search. In the first example, the model provides an out of date answer based on its knowledge cut-off (on the left) but answers more accurately based on the latest available sources (on the right) when grounding is turned on.\u003c/p\u003e\n\u003c/div\u003e   \n\n\u003cdiv\u003e\n        \n            \u003cp\u003e\u003cimg src=\"https://storage.googleapis.com/gweb-developer-goog-blog-assets/images/image1_mHjb7wt.original.png\" alt=\"Model response in Google AI Studio compare mode\"/\u003e\u003c/p\u003e\u003cp\u003e\n                    Model response in Google AI Studio compare mode, without grounding (left) and with grounding (right)\n                \u003c/p\u003e\n            \n        \n    \u003c/div\u003e\n  \u003cp data-block-key=\"x57jy\"\u003eIn this example, without grounding enabled (on the left), the model intentionally presents a minimal response by default. With grounding (on the right), the model comes back with a richer response including supporting links.\u003c/p\u003e   \n\n\u003cdiv\u003e\n        \n            \u003cp\u003e\u003cimg src=\"https://storage.googleapis.com/gweb-developer-goog-blog-assets/images/image4_0P4uAVw.original.png\" alt=\"Richer response by the latest Gemini 1.5 Flash model\"/\u003e\u003c/p\u003e\u003cp\u003e\n                    Richer response by the latest Gemini 1.5 Flash model using Grounding with Google Search (right)\n                \u003c/p\u003e\n            \n        \n    \u003c/div\u003e\n  \u003cdiv\u003e\n    \u003ch3 data-block-key=\"x57jy\"\u003e\u003cb\u003eHow does Grounding with Google Search work?\u003c/b\u003e\u003c/h3\u003e\u003cp data-block-key=\"3c74f\"\u003eWhen a user makes a query with grounding turned on, the service uses Google’s search engine to find up-to-date and comprehensive information that is relevant to the query, and sends it to the model. The model then responds with higher accuracy and freshness, providing in-line grounding sources (supporting links) and Search Suggestions.\u003c/p\u003e\n\u003c/div\u003e   \n\n\u003cdiv\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan\u003eimport\u003c/span\u003e \u003cspan\u003egoogle.generativeai\u003c/span\u003e \u003cspan\u003eas\u003c/span\u003e \u003cspan\u003egenai\u003c/span\u003e\n\u003cspan\u003eimport\u003c/span\u003e \u003cspan\u003eos\u003c/span\u003e\n\n\u003cspan\u003egenai\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003econfigure\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eapi_key\u003c/span\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003eos\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eenviron\u003c/span\u003e\u003cspan\u003e[\u003c/span\u003e\u003cspan\u003e\u0026#34;API_KEY\u0026#34;\u003c/span\u003e\u003cspan\u003e])\u003c/span\u003e\n\u003cspan\u003emodel\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003egenai\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eGenerativeModel\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e\u0026#39;models/gemini-1.5-flash-002\u0026#39;\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\n\n\n\u003cspan\u003eresponse\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003emodel\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003egenerate_content\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003econtents\u003c/span\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e\u0026#34;Who won Wimbledon this year?\u0026#34;\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e\n                                  \u003cspan\u003etools\u003c/span\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e\u0026#39;google_search_retrieval\u0026#39;\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\n\n\u003cspan\u003eprint\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eresponse\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\n\u003cspan\u003e# Response contains `groundingMetadata` with grounding sources, confidence scores, and search suggestions\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e  \u003cdiv\u003e\n    \u003cp data-block-key=\"ydvir\"\u003e\u003ci\u003e\u003csup\u003eRefer to the\u003c/sup\u003e\u003c/i\u003e \u003ca href=\"https://ai.google.dev/gemini-api/docs/grounding/?utm_source=gfd\u0026amp;utm_medium=referral\u0026amp;utm_campaign=s_grounding\u0026amp;utm_content=blog-oct\"\u003e\u003ci\u003e\u003csup\u003edocumentation\u003c/sup\u003e\u003c/i\u003e\u003c/a\u003e\u003ci\u003e\u003csup\u003e for complete code.\u003c/sup\u003e\u003c/i\u003e\u003c/p\u003e\u003cp data-block-key=\"ermg8\"\u003e\u003cbr/\u003eEven when Grounding with Google Search is on, not every query in a session necessarily requires grounding, which results in additional cost and latency. This is where developers have a second layer of control with \u003ca href=\"https://ai.google.dev/gemini-api/docs/grounding#dynamic-retrieval\"\u003edynamic retrieval\u003c/a\u003e.\u003c/p\u003e\u003cp data-block-key=\"8bpp2\"\u003eWhen developers request a grounded answer, the dynamic retrieval configuration assigns the prompt a \u003ci\u003eprediction score\u003c/i\u003e, which is a floating point value between 0 and 1. The value is higher when a prompt is more likely to benefit from grounding. In their requests, developers can set a threshold for what scores should result in grounding (the default threshold value is 0.3). Developers should test various options for the threshold value to see what best works for their applications.\u003c/p\u003e\n\u003c/div\u003e   \n\n\u003cdiv\u003e\n        \n            \u003cp\u003e\u003cimg src=\"https://storage.googleapis.com/gweb-developer-goog-blog-assets/images/image3_zveceD5.original.png\" alt=\"Dynamic retrieval for Grounding Search in Google AI Studio\"/\u003e\u003c/p\u003e\u003cp\u003e\n                    Dynamic retrieval for Grounding with Google Search in Google AI Studio\n                \u003c/p\u003e\n            \n        \n    \u003c/div\u003e\n  \u003cdiv\u003e\n    \u003cp data-block-key=\"x57jy\"\u003eBy using Google’s search results to ground Gemini-based applications, developers can provide their users with more accurate, relevant, and trustworthy information. Refer to our \u003ca href=\"https://ai.google.dev/gemini-api/docs/grounding/?utm_source=gfd\u0026amp;utm_medium=referral\u0026amp;utm_campaign=s_grounding\u0026amp;utm_content=blog-oct\"\u003edocumentation\u003c/a\u003e for detailed code examples and step-by-step instructions.\u003c/p\u003e\u003cp data-block-key=\"6mas\"\u003e\u003cbr/\u003eWe look forward to your feedback and are excited to see what you build with this new capability!\u003c/p\u003e\n\u003c/div\u003e \n      \u003c/div\u003e\n    \n\n    \n\n    \n    \n    \n  \u003c/div\u003e\u003c/div\u003e",
  "readingTime": "6 min read",
  "publishedTime": "2024-10-31T00:00:00Z",
  "modifiedTime": null
}

{
  "id": "86461baf-2fd1-43b7-af06-c8284caa3e4c",
  "title": "Maybe don’t use custom properties in shorthand properties",
  "link": "https://css-tricks.com/maybe-dont-use-custom-properties-in-shorthand-properties/",
  "description": "This easily qualifies as a \"gotcha\" in CSS and is a good reminder that the cascade doesn't know everything all at the same time. If a custom property is invalid, the cascade won't ignore it, and it gets evaluated, which invalidates the declaration. Maybe don’t use custom properties in shorthand properties originally published on CSS-Tricks, which is part of the DigitalOcean family. You should get the newsletter.",
  "author": "Geoff Graham",
  "published": "Thu, 06 Mar 2025 16:33:55 +0000",
  "source": "https://css-tricks.com/feed/",
  "categories": [
    "Links",
    "cascade",
    "custom properties"
  ],
  "byline": "Geoff Graham",
  "length": 1092,
  "excerpt": "This easily qualifies as a \"gotcha\" in CSS and is a good reminder that the cascade doesn't know everything all at the same time. If a custom property is invalid, the cascade won't ignore it, and it gets evaluated, which invalidates the declaration.",
  "siteName": "CSS-Tricks",
  "favicon": "https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/07/star.png?fit=180%2C180\u0026ssl=1",
  "text": "Manuel Matuzović: That an invalid custom property invalidates the entire declaration isn’t surprising, but I didn’t consider it until I saw one of my declarations break. I guess it’s just good to know that, especially if you’re working a lot with custom properties. This easily qualifies as a “gotcha” in CSS and is a good reminder that the cascade doesn’t know everything all at the same time. If a custom property is invalid, the cascade won’t ignore it, and it gets evaluated, which invalidates the declaration. And if we set an invalid custom property on a shorthand property that combines several constituent properties — like how background and animation are both shorthand for a bunch of other properties — then the entire declaration becomes invalid, including all of the implied constituents. No bueno indeed. What to do, then? So, maybe don’t use custom properties in shorthand properties or use custom properties but don’t use shorthand properties. Great advice, Manuel! Direct Link →",
  "image": "https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/09/custom-properties-code.png",
  "html": "\u003cdiv id=\"readability-page-1\" class=\"page\"\u003e\u003cdiv\u003e\n\n          \n          \n\u003cp\u003e\u003ca href=\"https://www.matuzo.at/blog/2025/invalid-custom-properties-in-shorthands\" rel=\"noopener\"\u003eManuel Matuzović\u003c/a\u003e:\u003c/p\u003e\n\n\n\n\u003cblockquote\u003e\n\u003cp\u003eThat an invalid custom property invalidates the entire declaration isn’t surprising, but I didn’t consider it until I saw one of my declarations break. I guess it’s just good to know that, especially if you’re working a lot with custom properties.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\n\n\u003cp\u003eThis easily qualifies as a “gotcha” in CSS and is a good reminder that the cascade doesn’t know everything all at the same time. If a custom property is invalid, the cascade won’t ignore it, and it gets evaluated, which invalidates the declaration. And if we set an invalid custom property on a shorthand property that combines several constituent properties — like how \u003ccode\u003e\u003ca href=\"https://css-tricks.com/almanac/properties/b/background/\"\u003ebackground\u003c/a\u003e\u003c/code\u003e and \u003ccode\u003e\u003ca href=\"https://css-tricks.com/almanac/properties/a/animation/\"\u003eanimation\u003c/a\u003e\u003c/code\u003e are both shorthand for a bunch of other properties — then the entire declaration becomes invalid, including all of the implied constituents. No bueno indeed.\u003c/p\u003e\n\n\n\n\u003cp\u003eWhat to do, then?\u003c/p\u003e\n\n\n\n\u003cblockquote\u003e\n\u003cp\u003eSo, maybe don’t use custom properties in shorthand properties or use custom properties but don’t use shorthand properties.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\n\n\u003cp\u003eGreat advice, Manuel!\u003c/p\u003e\n\n                      \u003cp\u003e     \n                              \u003ca href=\"https://www.matuzo.at/blog/2025/invalid-custom-properties-in-shorthands\"\u003e\n                  Direct Link →\n                \u003c/a\u003e\n              \n                          \u003c/p\u003e\n          \n        \u003c/div\u003e\u003c/div\u003e",
  "readingTime": "2 min read",
  "publishedTime": "2025-03-06T09:33:55-07:00",
  "modifiedTime": "2025-03-06T09:33:56-07:00"
}

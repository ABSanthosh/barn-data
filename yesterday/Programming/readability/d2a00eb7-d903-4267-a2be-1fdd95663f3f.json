{
  "id": "d2a00eb7-d903-4267-a2be-1fdd95663f3f",
  "title": "AWS CodeBuild Adds Support for Managed GitLab Runners",
  "link": "https://www.infoq.com/news/2024/11/aws-codebuild-gitlab-runners/?utm_campaign=infoq_content\u0026utm_source=infoq\u0026utm_medium=feed\u0026utm_term=global",
  "description": "Recently, AWS CodeBuild introduced support for managed GitLab self-hosted runners, towards advancement in continuous integration and continuous delivery (CI/CD) capabilities. This new feature allows customers to configure their CodeBuild projects to receive and execute GitLab CI/CD job events directly on CodeBuild's ephemeral hosts. By Aditya Kulkarni",
  "author": "Aditya Kulkarni",
  "published": "Thu, 14 Nov 2024 17:30:00 GMT",
  "source": "https://feed.infoq.com",
  "categories": [
    "GitLab",
    "AWS",
    "DevOps",
    "news"
  ],
  "byline": "Aditya Kulkarni",
  "length": 3295,
  "excerpt": "Recently, AWS CodeBuild introduced support for managed GitLab self-hosted runners, towards advancement in continuous integration and continuous delivery (CI/CD) capabilities. This new feature allows c",
  "siteName": "InfoQ",
  "favicon": "https://cdn.infoq.com/statics_s1_20241112123128/apple-touch-icon.png",
  "text": "Recently, AWS CodeBuild introduced support for managed GitLab self-hosted runners, towards advancement in continuous integration and continuous delivery (CI/CD) capabilities. This new feature allows customers to configure their CodeBuild projects to receive and execute GitLab CI/CD job events directly on CodeBuild's ephemeral hosts. The integration offers several key benefits including Native AWS Integration, Compute Flexibility and Global Availability. GitLab jobs can now seamlessly integrate with AWS services, leveraging features such as IAM, AWS Secrets Manager, AWS CloudTrail, and Amazon VPC. This integration enhances security and convenience for the users. Furthermore, customers gain access to all compute platforms offered by CodeBuild, including Lambda functions, GPU-enhanced instances, and Arm-based instances. This flexibility allows for optimized resource allocation based on specific job requirements.The integration is available in all regions where CodeBuild is offered. To implement this feature, users need to set up webhooks in their CodeBuild projects and update their GitLab CI YAML files to utilize self-managed runners hosted on CodeBuild machines. The setup process involves connecting CodeBuild to GitLab using OAuth, which requires additional permissions such as create_runner and manage_runner. It's important to note that CodeBuild will only process GitLab CI/CD pipeline job events if a webhook has filter groups containing the WORKFLOW_JOB_QUEUED event filter. The buildspec in CodeBuild projects will be ignored unless buildspec-override:true is added as a label, as CodeBuild overrides it to set up the self-managed runner. When a GitLab CI/CD pipeline run occurs, CodeBuild receives the job events through the webhook and starts a build to run an ephemeral GitLab runner for each job in the pipeline. Once the job is completed, the runner and associated build process are immediately terminated. As a side, GitLab has been in the news since earlier this year as they planned to introduce CI Steps, which are reusable and composable pieces of a job that can be referenced in pipeline configurations. These steps will be integrated into the CI/CD Catalog, allowing users to publish, unpublish, search, and consume steps similarly to how they use components. Moreover, GitLab is working on providing users with better visibility into component usage across various project pipelines. This will help users identify outdated versions and take prompt corrective actions, promoting better version control and project alignment. AWS CodeBuild has been in the news as well, as they added support for Mac Builds. Engineers can build artifacts on managed Apple M2 instances that run on macOS 14 Sonoma. Few weeks ago, AWS CodeBuild enabled customers to configure automatic retries for their builds, reducing manual intervention upon build failures. They have also added support for building Windows docker images in reserved fleets. Such developments demonstrate the ongoing evolution of CI/CD tools and practices, with a focus on improving integration, flexibility, and ease of use for DevOps teams. About the Author Aditya Kulkarni",
  "image": "https://res.infoq.com/news/2024/11/aws-codebuild-gitlab-runners/en/headerimage/generatedHeaderImage-1731563471483.jpg",
  "html": "\u003cdiv id=\"readability-page-1\" class=\"page\"\u003e\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\u003cp\u003eRecently, AWS CodeBuild introduced support for managed GitLab self-hosted runners, towards advancement in continuous integration and continuous delivery (CI/CD) capabilities. This new feature \u003ca href=\"https://aws.amazon.com/about-aws/whats-new/2024/09/aws-codebuild-managed-gitlab-runners/\"\u003eallows customers to configure their CodeBuild projects\u003c/a\u003e to receive and execute GitLab CI/CD job events directly on CodeBuild\u0026#39;s ephemeral hosts.\u003c/p\u003e\n\n\u003cp\u003eThe integration offers several key benefits including Native AWS Integration, Compute Flexibility and Global Availability. GitLab jobs can now seamlessly integrate with AWS services, leveraging features such as IAM, AWS Secrets Manager, AWS CloudTrail, and Amazon VPC. This integration enhances security and convenience for the users.\u003c/p\u003e\n\n\u003cp\u003eFurthermore, customers gain access to all compute platforms offered by CodeBuild, including Lambda functions, GPU-enhanced instances, and Arm-based instances. This flexibility allows for optimized resource allocation based on specific job requirements.The integration is available in \u003ca href=\"https://aws.amazon.com/about-aws/global-infrastructure/regional-product-services/\"\u003eall regions where CodeBuild is offered\u003c/a\u003e.\u003c/p\u003e\n\n\u003cp\u003eTo implement this feature, users need to set up webhooks in their CodeBuild projects and update their GitLab CI YAML files to utilize self-managed runners hosted on CodeBuild machines.\u003c/p\u003e\n\n\u003cp\u003eThe setup process involves connecting CodeBuild to GitLab using OAuth, which requires additional permissions such as \u003ccode\u003ecreate_runner\u003c/code\u003e and\u003ccode\u003e manage_runner\u003c/code\u003e.\u003c/p\u003e\n\n\u003cp\u003eIt\u0026#39;s important to note that CodeBuild will only process GitLab CI/CD pipeline job events if a webhook has filter groups containing the \u003ccode\u003eWORKFLOW_JOB_QUEUED\u003c/code\u003e event filter. The buildspec in CodeBuild projects will be ignored unless \u003ccode\u003ebuildspec-override:true\u003c/code\u003e is added as a label, as CodeBuild overrides it to set up the self-managed runner.\u003c/p\u003e\n\n\u003cp\u003eWhen a GitLab CI/CD pipeline run occurs, CodeBuild receives the job events through the webhook and starts a build to run an ephemeral GitLab runner for each job in the pipeline. Once the job is completed, the runner and associated build process are immediately terminated.\u003c/p\u003e\n\n\u003cp\u003eAs a side, GitLab has been in the news since earlier this year as they planned to \u003ca href=\"https://about.gitlab.com/blog/2024/05/08/ci-cd-catalog-goes-ga-no-more-building-pipelines-from-scratch/#ci-steps\"\u003eintroduce CI Steps\u003c/a\u003e, which are reusable and composable pieces of a job that can be referenced in pipeline configurations. These steps will be integrated into the CI/CD Catalog, allowing users to publish, unpublish, search, and consume steps similarly to how they use components.\u003c/p\u003e\n\n\u003cp\u003eMoreover, GitLab is working on providing users with better visibility into \u003ca href=\"https://about.gitlab.com/blog/2024/05/08/ci-cd-catalog-goes-ga-no-more-building-pipelines-from-scratch/#analytics\"\u003ecomponent usage across various project pipelines\u003c/a\u003e. This will help users identify outdated versions and take prompt corrective actions, promoting better version control and project alignment.\u003c/p\u003e\n\n\u003cp\u003eAWS CodeBuild has been in the news as well, as they added \u003ca href=\"https://aws.amazon.com/about-aws/whats-new/2024/08/aws-codebuild-mac-builds/\"\u003esupport for Mac Builds\u003c/a\u003e. Engineers can build artifacts on managed Apple M2 instances that run on macOS 14 Sonoma. Few weeks ago, AWS CodeBuild enabled customers to \u003ca href=\"https://aws.amazon.com/about-aws/whats-new/2024/10/aws-codebuild-retrying-builds-automatically/\"\u003econfigure automatic retries for their builds\u003c/a\u003e, reducing manual intervention upon build failures. They have also added \u003ca href=\"https://aws.amazon.com/about-aws/whats-new/2024/11/aws-codebuild-windows-docker-reserved-capacity-fleets/\"\u003esupport for building Windows docker images in reserved fleets\u003c/a\u003e.\u003c/p\u003e\n\n\u003cp\u003eSuch developments demonstrate the ongoing evolution of CI/CD tools and practices, with a focus on improving integration, flexibility, and ease of use for DevOps teams.\u003c/p\u003e\n\n\t\t\t\t\t\t\t\t\n\n\n\n\n\n\n\n\n\n  \n    \u003cdiv\u003e \n        \u003ch2\u003eAbout the Author\u003c/h2\u003e \n\n        \n            \n                \n            \n            \u003cdiv data-id=\"author-Aditya-Kulkarni\"\u003e\n                    \u003ch4\u003e\u003cstrong\u003eAditya Kulkarni\u003c/strong\u003e\u003c/h4\u003e\n                    \n                \u003c/div\u003e\n        \n    \u003c/div\u003e\n\n\t\t\t\t\t\t\t\u003c/div\u003e\u003c/div\u003e",
  "readingTime": "4 min read",
  "publishedTime": "2024-11-14T00:00:00Z",
  "modifiedTime": null
}

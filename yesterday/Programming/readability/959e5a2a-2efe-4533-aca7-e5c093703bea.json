{
  "id": "959e5a2a-2efe-4533-aca7-e5c093703bea",
  "title": "Not all AI is generative: Efficient scheduling with mathematics",
  "link": "https://stackoverflow.blog/2025/04/02/not-all-ai-is-generative-efficient-scheduling-with-mathematics/",
  "description": "Efficiently solving a complex scheduling problem using simulated annealing.",
  "author": "Subbu Sailappan, Sidharth Kumar",
  "published": "Wed, 02 Apr 2025 14:00:27 GMT",
  "source": "https://stackoverflow.blog/feed/",
  "categories": [
    "partner-content",
    "data-science",
    "ai",
    "se-tech",
    "se-stackoverflow"
  ],
  "byline": "Subbu Sailappan",
  "length": 8226,
  "excerpt": "Each U.S. tax season, Intuit provides online tax preparation services for people to do their own taxes or access experts to prepare and file taxes for them. It’s a formidable task to optimize schedules for thousands of individual tax experts throughout peak tax season. Our goal is to make the process stress-free and affordable for our customers—from finding a qualified expert to uploading documents and getting one’s taxes done in as little as two hours.",
  "siteName": "",
  "favicon": "https://stackoverflow.blog/apple-touch-icon.png",
  "text": "Each U.S. tax season, Intuit provides online tax preparation services for people to do their own taxes or access experts to prepare and file taxes for them. It’s a formidable task to optimize schedules for thousands of individual tax experts throughout peak tax season. Our goal is to make the process stress-free and affordable for our customers—from finding a qualified expert to uploading documents and getting one’s taxes done in as little as two hours.Complex workforce scheduling challenges are nearly ubiquitous across industries and market sectors. You’ll find them in any instance when a business is providing a large number of customers with services requiring precise coordination of worker schedules with varying shift patterns: retail delivery drivers, airline personnel, and hospitality industry staff to name just a few.Like the famous Traveling Salesman problem, scheduling our vast network involves addressing problems that are computationally intensive and classified in computer science as NP-hard. Essentially, NP-hard problems are those for which no known polynomial-time algorithm can guarantee an optimal solution.Assigning 12,000+ human tax experts to half-hour time slots based on availability, business constraints, and stochastic customer demand becomes an incredibly complex puzzle. Solving this efficiently will ensure smooth operations, create a great place to work for our network of tax experts, and provide a painless assisted tax-filing experience for our TurboTax Live customers.A foundational piece of the puzzle is our AI-driven Virtual Expert Platform (VEP), which delivers personalized tax filing experiences, with built-in guidance, and a seamless path to an AI-enabled human expert whenever needed. Within VEP, we match customers with experts in real time when they have questions or need assistance. This is done through an approach called attribute-based routing (ABR), which uses an efficient algorithm to match the skills of the experts available at that time. Traditional methods like brute-force algorithms and first-come, first-served systems to solve the other puzzle piece—day-to-day workforce scheduling—proved to be inefficient at our scale. Brute-force algorithms, which exhaustively search for the best scheduling combination, would require an impractical amount of computation time and would be outdated every time a new customer needed an appointment or a new expert joined the platform. On the other hand, a first-come, first-served approach often leads to suboptimal schedules riddled with gaps (the \"Swiss cheese\" effect), making it inefficient and unsatisfactory for our experts.Off-the-shelf scheduling solutions present further limitations. These commercial products are designed for generic use cases and typically necessitate extensive customization to handle our specific requirements—such as experts with qualifications across multiple tax domains or time dependent business constraints. This often negates the benefits these solutions are supposed to provide.Given these challenges, we developed an innovative scheduling system that leverages simulated annealing, a probabilistic technique inspired by the annealing process in metallurgy. Simulated annealing mimics the process of heating a material and then slowly cooling it to decrease defects, allowing for a specific arrangement of its particles. In our context, this method starts by exploring a broad range of possible schedules and gradually focuses on the most effective ones.One key advantage of simulated annealing is its ability to make jumps out of local optima—a scenario where a solution might seem optimal in a limited view but is suboptimal in a broader context. Unlike optimization techniques that may get stuck in these local optima, simulated annealing introduces probabilistic “jumps” to explore a wider solution space. This ensures our system avoids inefficient scheduling patterns and continually identifies more globally effective schedules.We implemented our solution by treating the scheduling problem as a Monte Carlo simulation, which generates multiple scheduling scenarios to probabilistically explore potential outcomes. Our approach uses a Markov chain to transition between states or schedules. The Markov chain helps us estimate the most effective schedules based on criteria like customer demand, expert availability, and the coherence of expert schedules. Essentially, the system models various permutations and combinations of schedules and iteratively refines these schedules to reach an optimal solution.Scheduling constraints often involve factors such as experts’ preferences for continuous work blocks, unpredictable demand spikes influenced by market events, and last-minute changes like missed appointments or extended calls. Via efficiently optimizing over an objective function that can dynamically take into account these factors, simulated annealing inherently provides robustness against noise and can adjust schedules dynamically. Overall, it is an apt choice of method due to its simplicity of implementation, computational efficiency, and closeness to ergodicity, or “completeness” in sampling.The technical implementation of our system is built on several open-source technologies and structured into microservices. The three core services include:Scheduling Service: Takes the expert and forecast data to invoke the model that generates the optimal schedule.Forecasting and Planning Service: Predicts upcoming demand and provides nearly real-time data on expected customer influx in half-hour intervals.Expert Parameters Service: Manages and stores all the detailed information about expert constraints and scheduling preferences.Running these microservices on cloud computing platforms ensures our system remains both responsive and scalable. Our infrastructure uses Kafka topics to manage asynchronous communication between services due to the high volume of data and the complexity of computations involved. This setup allows us not only to process large datasets efficiently but also to notify multiple processes when new schedules are generated.The underlying model itself is implemented in Python, utilizing its robust libraries for probabilistic modeling and parallel processing. Currently, we use multiprocessing on Amazon EC2 instances for the heavy computational lifting. As we continue to optimize, we're considering the possibility of parallelizing the model across GPUs to enhance performance further. There's also room for future exploration of alternative methods, such as genetic algorithms, should performance demands necessitate it.From initiation to schedule delivery, the entire process takes about an hour. Although we could technically run the scheduler continuously (if need be), for practical reasons related to our experts’ preference for predictable schedules, we run on a once-a-day cadence. The system's architecture allows us to adjust and rerun schedules dynamically when significant changes occur, such as unexpected customer demand surges or sudden changes in expert availability due to unforeseen circumstances.Since deploying this AI-driven solution, we've observed substantial improvements in scheduling efficiency: an average reduction of 85% in time spent by experts when building their schedules (from 54 min to 8 min). Experts now face fewer gaps in their schedules and can better predict their earnings throughout the tax season, which in turn has elevated their satisfaction. From a business perspective, this optimization not only enhances operational efficiency but also underscores the importance of using the right technological tools to meet specific strategic needs effectively.In conclusion, our journey with simulated annealing has demonstrated its capacity as a right-fit tool for tackling the NP-hard scheduling problem at scale. This tailored AI solution has proven both effective and adaptable, significantly contributing to operational improvements and stakeholder satisfaction. As we move forward, the strategic implementation of such advanced technologies continues to highlight the importance of aligning technological solutions with overarching business goals.Learn more about tech at Intuit here!",
  "image": "https://cdn.stackoverflow.co/images/jo7n4k8s/production/39d294ed9fc3878235948190339c5d32774931b6-12000x6293.jpg?w=1200\u0026fm=png\u0026auto=format",
  "html": "\u003cdiv id=\"readability-page-1\" class=\"page\"\u003e\u003cdiv itemprop=\"articleBody\"\u003e\u003cp\u003eEach U.S. tax season, Intuit provides online tax preparation services for people to do their own taxes or access experts to prepare and file taxes for them. It’s a formidable task to optimize schedules for thousands of individual tax experts throughout peak tax season. Our goal is to make the process stress-free and affordable for our customers—from finding a qualified expert to uploading documents and getting one’s taxes done in as little as two hours.\u003c/p\u003e\u003cp\u003eComplex workforce scheduling challenges are nearly ubiquitous across industries and market sectors. You’ll find them in any instance when a business is providing a large number of customers with services requiring precise coordination of worker schedules with varying shift patterns: retail delivery drivers, airline personnel, and hospitality industry staff to name just a few.\u003c/p\u003e\u003cp\u003eLike the famous \u003ca href=\"https://en.wikipedia.org/wiki/Travelling_salesman_problem\"\u003eTraveling Salesman\u003c/a\u003e problem, scheduling our vast network involves addressing problems that are computationally intensive and classified in computer science as \u003ca href=\"https://en.wikipedia.org/wiki/NP-hardness\"\u003eNP-hard\u003c/a\u003e. Essentially, NP-hard problems are those for which no known polynomial-time algorithm can guarantee an optimal solution.\u003c/p\u003e\u003cp\u003eAssigning 12,000+ human tax experts to half-hour time slots based on availability, business constraints, and stochastic customer demand becomes an incredibly complex puzzle. Solving this efficiently will ensure smooth operations, create a great place to work for our network of tax experts, and provide a painless assisted tax-filing experience for our \u003ca href=\"https://turbotax.intuit.com/personal-taxes/online/#live\"\u003eTurboTax Live\u003c/a\u003e customers.\u003c/p\u003e\u003cp\u003eA foundational piece of the puzzle is our AI-driven Virtual Expert Platform (VEP), which delivers personalized tax filing experiences, with built-in guidance, and a seamless path to an AI-enabled human expert whenever needed. Within VEP, we match customers with experts in real time when they have questions or need assistance. This is done through an approach called attribute-based routing (ABR), which uses an efficient algorithm to match the skills of the experts available at that time. \u003c/p\u003e\u003cp\u003eTraditional methods like brute-force algorithms and first-come, first-served systems to solve the other puzzle piece—day-to-day workforce scheduling—proved to be inefficient at our scale. Brute-force algorithms, which exhaustively search for the best scheduling combination, would require an impractical amount of computation time and would be outdated every time a new customer needed an appointment or a new expert joined the platform. On the other hand, a first-come, first-served approach often leads to suboptimal schedules riddled with gaps (the \u0026#34;Swiss cheese\u0026#34; effect), making it inefficient and unsatisfactory for our experts.\u003c/p\u003e\u003cp\u003eOff-the-shelf scheduling solutions present further limitations. These commercial products are designed for generic use cases and typically necessitate extensive customization to handle our specific requirements—such as experts with qualifications across multiple tax domains or time dependent business constraints. This often negates the benefits these solutions are supposed to provide.\u003c/p\u003e\u003cp\u003eGiven these challenges, we developed an innovative scheduling system that leverages \u003ca href=\"https://en.wikipedia.org/wiki/Simulated_annealing\"\u003esimulated annealing\u003c/a\u003e, a probabilistic technique inspired by the annealing process in metallurgy. Simulated annealing mimics the process of heating a material and then slowly cooling it to decrease defects, allowing for a specific arrangement of its particles. In our context, this method starts by exploring a broad range of possible schedules and gradually focuses on the most effective ones.\u003c/p\u003e\u003cp\u003eOne key advantage of simulated annealing is its ability to make jumps out of local optima—a scenario where a solution might seem optimal in a limited view but is suboptimal in a broader context. Unlike optimization techniques that may get stuck in these local optima, simulated annealing introduces probabilistic “jumps” to explore a wider solution space. This ensures our system avoids inefficient scheduling patterns and continually identifies more globally effective schedules.\u003c/p\u003e\u003cp\u003eWe implemented our solution by treating the scheduling problem as a Monte Carlo simulation, which generates multiple scheduling scenarios to probabilistically explore potential outcomes. Our approach uses a Markov chain to transition between states or schedules. The Markov chain helps us estimate the most effective schedules based on criteria like customer demand, expert availability, and the coherence of expert schedules. Essentially, the system models various permutations and combinations of schedules and iteratively refines these schedules to reach an optimal solution.\u003c/p\u003e\u003cp\u003eScheduling constraints often involve factors such as experts’ preferences for continuous work blocks, unpredictable demand spikes influenced by market events, and last-minute changes like missed appointments or extended calls. Via efficiently optimizing over an objective function that can dynamically take into account these factors, simulated annealing inherently provides robustness against noise and can adjust schedules dynamically. Overall, it is an apt choice of method due to its simplicity of implementation, computational efficiency, and closeness to ergodicity, or “completeness” in sampling.\u003c/p\u003e\u003cp\u003eThe technical implementation of our system is built on several open-source technologies and structured into microservices. The three core services include:\u003c/p\u003e\u003col\u003e\u003cli\u003e\u003cstrong\u003eScheduling Service\u003c/strong\u003e: Takes the expert and forecast data to invoke the model that generates the optimal schedule.\u003c/li\u003e\u003cli\u003e\u003cstrong\u003eForecasting and Planning Service\u003c/strong\u003e: Predicts upcoming demand and provides nearly real-time data on expected customer influx in half-hour intervals.\u003c/li\u003e\u003cli\u003e\u003cstrong\u003eExpert Parameters Service\u003c/strong\u003e: Manages and stores all the detailed information about expert constraints and scheduling preferences.\u003c/li\u003e\u003c/ol\u003e\u003cp\u003eRunning these microservices on cloud computing platforms ensures our system remains both responsive and scalable. Our infrastructure uses Kafka topics to manage asynchronous communication between services due to the high volume of data and the complexity of computations involved. This setup allows us not only to process large datasets efficiently but also to notify multiple processes when new schedules are generated.\u003c/p\u003e\u003cp\u003eThe underlying model itself is implemented in Python, utilizing its robust libraries for probabilistic modeling and parallel processing. Currently, we use multiprocessing on Amazon EC2 instances for the heavy computational lifting. As we continue to optimize, we\u0026#39;re considering the possibility of parallelizing the model across GPUs to enhance performance further. There\u0026#39;s also room for future exploration of alternative methods, such as genetic algorithms, should performance demands necessitate it.\u003c/p\u003e\u003cp\u003eFrom initiation to schedule delivery, the entire process takes about an hour. Although we could technically run the scheduler continuously (if need be), for practical reasons related to our experts’ preference for predictable schedules, we run on a once-a-day cadence. The system\u0026#39;s architecture allows us to adjust and rerun schedules dynamically when significant changes occur, such as unexpected customer demand surges or sudden changes in expert availability due to unforeseen circumstances.\u003c/p\u003e\u003cp\u003eSince deploying this AI-driven solution, we\u0026#39;ve observed substantial improvements in scheduling efficiency: an average reduction of 85% in time spent by experts when building their schedules (from 54 min to 8 min). Experts now face fewer gaps in their schedules and can better predict their earnings throughout the tax season, which in turn has elevated their satisfaction. From a business perspective, this optimization not only enhances operational efficiency but also underscores the importance of using the right technological tools to meet specific strategic needs effectively.\u003c/p\u003e\u003cp\u003eIn conclusion, our journey with simulated annealing has demonstrated its capacity as a right-fit tool for tackling the NP-hard scheduling problem at scale. This tailored AI solution has proven both effective and adaptable, significantly contributing to operational improvements and stakeholder satisfaction. As we move forward, the strategic implementation of such advanced technologies continues to highlight the importance of aligning technological solutions with overarching business goals.\u003c/p\u003e\u003cp\u003eLearn more about tech at Intuit \u003ca href=\"https://www.intuit.com/technology/?cid=dis_so_clicks_us_ttt-global_aw_fy25blog%7Calltechaudience_link%7Cnone_intuit-talent\"\u003ehere\u003c/a\u003e!\u003c/p\u003e\u003c/div\u003e\u003c/div\u003e",
  "readingTime": "9 min read",
  "publishedTime": null,
  "modifiedTime": null
}

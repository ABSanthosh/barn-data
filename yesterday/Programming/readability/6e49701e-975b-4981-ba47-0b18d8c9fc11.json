{
  "id": "6e49701e-975b-4981-ba47-0b18d8c9fc11",
  "title": "How we built enterprise search to be secure and private",
  "link": "https://slack.engineering/how-we-built-enterprise-search-to-be-secure-and-private/",
  "description": "Many don’t know that “Slack” is in fact a backronym—it stands for “Searchable Log of all Communication and Knowledge”. And these days, it’s not just a searchable log: with Slack AI, Slack is now an intelligent log, leveraging the latest in generative AI to securely surface powerful, time-saving insights. We built Slack AI from the… The post How we built enterprise search to be secure and private appeared first on Engineering at Slack.",
  "author": "Ian Hoffman",
  "published": "Fri, 07 Mar 2025 01:14:37 +0000",
  "source": "https://slack.engineering/feed",
  "categories": [
    "Uncategorized"
  ],
  "byline": "",
  "length": 6798,
  "excerpt": "Many don’t know that “Slack” is in fact a backronym—it stands for “Searchable Log of all Communication and Knowledge”. And these days, it’s not just a searchable log: with Slack AI, Slack is now an intelligent log, leveraging the latest in generative AI to securely surface powerful, time-saving insights. We built Slack AI from the…",
  "siteName": "Engineering at Slack",
  "favicon": "https://slack.engineering/wp-content/uploads/sites/7/2020/05/cropped-octothrope-1.png?w=192",
  "text": "Many don’t know that “Slack” is in fact a backronym—it stands for “Searchable Log of all Communication and Knowledge”. And these days, it’s not just a searchable log: with Slack AI, Slack is now an intelligent log, leveraging the latest in generative AI to securely surface powerful, time-saving insights. We built Slack AI from the ground up to be secure and private following principles that mirror our existing enterprise grade compliance standards: Customer data never leaves Slack. We do not train large language models (LLMs) on customer data. Slack AI only operates on the data that the user can already see. Slack AI integrates seamlessly with our existing enterprise grade compliance and security offerings. Now, with enterprise search, Slack is more than a log of all content and knowledge inside Slack—it also includes knowledge from your key applications. Users can now surface up-to-date, relevant content that is permissioned to them directly in Slack’s search. We’re starting with Google Drive and GitHub, and you’ll see many more of your connected apps as the year goes on. With these new apps, Slack search and AI Answers are all the more powerful, pulling in context from across key tools to satisfy your queries. We built enterprise search to uphold the same Enterprise-grade security and privacy standards as Slack AI: We never store data from external sources in our databases. External data and permissions are up to date with the external system. Users and admins must explicitly grant Slack access to external sources and may revoke that access at any time. We uphold the principle of least privilege, only requesting the authorizations we need to satisfy search queries. This blog post will explain how these principles guided the architecture of enterprise search. How enterprise search upholds the Slack AI principles First, a refresher: how does Slack AI uphold our security principles? Slack uses AWS to host closed-source large language models (LLMs) in an escrow VPC. This structure ensures that the model provider never has access to Slack customer data and customer data never leaves Slack’s trust boundary—whether it’s Slack messages, enterprise search results, or anything in between. We use Retrieval Augmented Generation (RAG) instead of training LLMs. Using RAG, we supply an LLM with only the content needed to complete the task. This content is permissioned to the user and only available to the LLM at runtime, meaning the LLM doesn’t retain any of your data, ever. To provide a private, permissions-aware AI product, Slack uses the requesting user’s Access Control List (ACL) to ensure that the LLM only receives data the user can already access in Slack. Finally, we re-use all our existing compliance infrastructure (such as Encryption Key Management and International Data Residency) when storing and processing LLM-generated content. And we don’t even store Search Answer summaries—we just show them to the requesting user and immediately discard them. Enterprise search is built atop Slack AI and benefits from many of the innovations we developed for Slack AI. We use the same LLMs in the same escrow VPC; we use RAG to avoid training LLMs on user data; and we don’t store Search Answers in the database (whether or not they contain external content). However, enterprise search adds a new twist. We can now provide permissioned content from external sources to the LLM and in your search results.  How enterprise search upholds our security principles We never store data from external sources When developing enterprise search, we decided not to store external source data in our database. Instead, we opted for a federated, real-time approach. Building atop Slack’s app platform, we use public search APIs from our partners to return the most up-to-date, permissioned results for a given user. Note that the Slack client may cache data between reloads to performantly serve product features like filtering and previews. External data and permissions are up to date  When searching for external data, it’s essential that we only fetch data which the user can access in the external system (this mirrors our Slack AI principle #3, “Slack AI only operates on the data that the user can already see”) and that this data is up to date. Using a real-time instead of an index-based approach helps us uphold this principle. Because we’re always fetching data from external sources in response to a user query, we never risk that data getting stale. There’s nothing stored on our side, so staleness simply isn’t possible.  But how do we scope down queries to just data that the querying user can access in the external system? The Slack platform already provides powerful primitives for connecting external systems to Slack, chief among them being OAuth. The OAuth protocol allows a user to securely authorize Slack to take agreed-upon actions on their behalf, like reading files the user can access in the external system. By leveraging OAuth, we ensure that enterprise search can never perform an action the user did not authorize the system to perform in the external system, and that the actions we perform are a subset of those the user could themselves perform. Users must explicitly grant access to external sources We believe that your external data should be yours to control. As such, Slack admins must opt in each external source for use in their organization’s search results and Search Answers. They can also revoke this access (for both search results and Search Answers) at any time. Next, Slack users also explicitly grant access before we integrate any external sources in their search. Users may also revoke access to any source at any time. This level of control is possible due to the OAuth-based approach mentioned above. Principle of Least Privilege An important security principle is that a system should never request more privileges than it requires. For enterprise search, this means that when we connect to an external system, we only request the OAuth scopes which are necessary to satisfy search queries—specifically read scopes. Not only do we adhere to the principle of least privilege, we show admins and end users the scopes we plan to request when they enable an external source for use in enterprise search. This means that admins and end users always know which authorizations Slack requires to integrate with an external source. Conclusion At Salesforce, trust is our #1 value. We’re proud to have built an enterprise search experience that puts security and privacy front and center, building atop the robust security principles already instilled by Slack AI. We’re excited to see how our customers use this powerful new functionality, secure in the knowledge that their external data is always in good hands.",
  "image": "https://slack.engineering/wp-content/uploads/sites/7/2025/03/magnifying-glass-5232511_1280.jpg",
  "html": "\u003cdiv id=\"readability-page-1\" class=\"page\"\u003e\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cp\u003e\u003cspan\u003eMany don’t know that “Slack” is in fact a \u003c/span\u003e\u003ca href=\"https://en.wikipedia.org/wiki/Backronym\"\u003e\u003cspan\u003ebackronym\u003c/span\u003e\u003c/a\u003e\u003cspan\u003e—it stands for “\u003c/span\u003e\u003ca href=\"https://slack.com/intl/en-gb/resources/why-use-slack/what-is-slack-and-how-does-it-work\"\u003e\u003cspan\u003eSearchable Log of all Communication and Knowledge\u003c/span\u003e\u003c/a\u003e\u003cspan\u003e”. And these days, it’s not just a searchable log: with Slack AI, Slack is now an intelligent log, leveraging the latest in generative AI to securely surface powerful, time-saving insights. We built Slack AI from the ground up to be \u003c/span\u003e\u003ca href=\"https://slack.engineering/how-we-built-slack-ai-to-be-secure-and-private/\"\u003e\u003cspan\u003esecure and private\u003c/span\u003e\u003c/a\u003e\u003cspan\u003e following principles that mirror our existing enterprise grade compliance standards:\u003c/span\u003e\u003cspan\u003e\u003cbr/\u003e\n\u003c/span\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cspan\u003eCustomer data never leaves Slack.\u003c/span\u003e\u003c/li\u003e\n\u003cli\u003e\u003cspan\u003eWe do not train large language models (LLMs) on customer data.\u003c/span\u003e\u003c/li\u003e\n\u003cli\u003e\u003cspan\u003eSlack AI only operates on the data that the user can already see.\u003c/span\u003e\u003c/li\u003e\n\u003cli\u003e\u003cspan\u003eSlack AI integrates seamlessly with our existing enterprise grade compliance and security offerings.\u003c/span\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cspan\u003eNow, with enterprise search, Slack is more than a log of all content and knowledge \u003c/span\u003e\u003ci\u003e\u003cspan\u003einside Slack\u003c/span\u003e\u003c/i\u003e\u003cspan\u003e—it also includes knowledge from your key applications. Users can now surface up-to-date, relevant content that is permissioned to them directly in Slack’s search. We’re starting with Google Drive and GitHub, and you’ll see many more of your connected apps as the year goes on. With these new apps, Slack search and AI Answers are all the more powerful, pulling in context from across key tools to satisfy your queries.\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan\u003eWe built enterprise search to uphold the same Enterprise-grade security and privacy standards as Slack AI:\u003c/span\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cspan\u003eWe never store data from external sources in our databases.\u003c/span\u003e\u003c/li\u003e\n\u003cli\u003e\u003cspan\u003eExternal data and permissions are up to date with the external system.\u003c/span\u003e\u003c/li\u003e\n\u003cli\u003e\u003cspan\u003eUsers and admins must explicitly grant Slack access to external sources and may revoke that access at any time.\u003c/span\u003e\u003c/li\u003e\n\u003cli\u003e\u003cspan\u003eWe uphold the principle of least privilege, only requesting the authorizations we need to satisfy search queries.\u003c/span\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cspan\u003eThis blog post will explain how these principles guided the architecture of enterprise search.\u003c/span\u003e\u003c/p\u003e\n\u003ch2\u003e\u003cspan\u003eHow enterprise search upholds the Slack AI principles\u003c/span\u003e\u003c/h2\u003e\n\u003cp\u003e\u003cspan\u003eFirst, a refresher: how does Slack AI \u003c/span\u003e\u003ca href=\"https://slack.engineering/how-we-built-slack-ai-to-be-secure-and-private/\"\u003e\u003cspan\u003euphold our security principles\u003c/span\u003e\u003c/a\u003e\u003cspan\u003e?\u003c/span\u003e\u003cspan\u003e\u003cbr/\u003e\n\u003c/span\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cspan\u003eSlack uses AWS to host closed-source large language models (LLMs) in an escrow VPC. This structure ensures that the model provider never has access to Slack customer data and customer data never leaves Slack’s trust boundary—whether it’s Slack messages, enterprise search results, or anything in between.\u003c/span\u003e\u003c/li\u003e\n\u003cli\u003e\u003cspan\u003eWe use Retrieval Augmented Generation (RAG) instead of training LLMs. Using RAG, we supply an LLM with only the content needed to complete the task. This content is permissioned to the user and only available to the LLM at runtime, meaning the LLM doesn’t retain any of your data, ever.\u003c/span\u003e\u003c/li\u003e\n\u003cli\u003e\u003cspan\u003eTo provide a private, permissions-aware AI product, Slack uses the requesting user’s Access Control List (ACL) to ensure that the LLM only receives data the user can already access in Slack.\u003c/span\u003e\u003c/li\u003e\n\u003cli\u003e\u003cspan\u003eFinally, we re-use all our existing compliance infrastructure (such as Encryption Key Management and International Data Residency) when storing and processing LLM-generated content. And we don’t even store Search Answer summaries—we just show them to the requesting user and immediately discard them.\u003c/span\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cspan\u003eEnterprise search is built atop Slack AI and benefits from many of the innovations we developed for Slack AI. We use the same LLMs in the same escrow VPC; we use RAG to avoid training LLMs on user data; and we don’t store Search Answers in the database (whether or not they contain external content). However, enterprise search adds a new twist. We can now provide permissioned content from external sources to the LLM and in your search results. \u003c/span\u003e\u003c/p\u003e\n\u003ch2\u003e\u003cspan\u003eHow enterprise search upholds our security principles\u003c/span\u003e\u003c/h2\u003e\n\u003ch3\u003e\u003cspan\u003eWe never store data from external sources\u003c/span\u003e\u003c/h3\u003e\n\u003cp\u003e\u003cspan\u003eWhen developing enterprise search, we decided not to store external source data in our database. Instead, we opted for a federated, real-time approach. Building atop \u003c/span\u003e\u003ca href=\"https://slack.com/resources/collections/slack-platform\"\u003e\u003cspan\u003eSlack’s app platform\u003c/span\u003e\u003c/a\u003e\u003cspan\u003e, we use public search APIs from our partners to return the most up-to-date, permissioned results for a given user. Note that the Slack client may cache data between reloads to performantly serve product features like filtering and previews.\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg decoding=\"async\" width=\"2467\" height=\"2292\" src=\"https://slack.engineering/wp-content/uploads/sites/7/2025/03/enterprisesearch.png?w=640\" alt=\"Architecture of enterprise search\" srcset=\"https://slack.engineering/wp-content/uploads/sites/7/2025/03/enterprisesearch.png 2467w, https://slack.engineering/wp-content/uploads/sites/7/2025/03/enterprisesearch.png?resize=640,595 640w, https://slack.engineering/wp-content/uploads/sites/7/2025/03/enterprisesearch.png?resize=768,714 768w, https://slack.engineering/wp-content/uploads/sites/7/2025/03/enterprisesearch.png?resize=1280,1189 1280w, https://slack.engineering/wp-content/uploads/sites/7/2025/03/enterprisesearch.png?resize=1536,1427 1536w, https://slack.engineering/wp-content/uploads/sites/7/2025/03/enterprisesearch.png?resize=2048,1903 2048w, https://slack.engineering/wp-content/uploads/sites/7/2025/03/enterprisesearch.png?resize=380,353 380w, https://slack.engineering/wp-content/uploads/sites/7/2025/03/enterprisesearch.png?resize=800,743 800w, https://slack.engineering/wp-content/uploads/sites/7/2025/03/enterprisesearch.png?resize=1160,1078 1160w\" sizes=\"(max-width: 2467px) 100vw, 2467px\"/\u003e\u003c/p\u003e\n\u003ch3\u003e\u003cspan\u003eExternal data and permissions are up to date \u003c/span\u003e\u003c/h3\u003e\n\u003cp\u003e\u003cspan\u003eWhen searching for external data, it’s essential that we only fetch data which the user can access in the external system (this mirrors our Slack AI principle #3, “Slack AI only operates on the data that the user can already see”) and that this data is up to date.\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan\u003eUsing a real-time instead of an index-based approach helps us uphold this principle. Because we’re always fetching data from external sources in response to a user query, we never risk that data getting stale. There’s nothing stored on our side, so staleness simply isn’t possible. \u003c/span\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan\u003eBut how do we scope down queries to just data that the querying user can access in the external system? The Slack platform already provides powerful primitives for connecting external systems to Slack, chief among them being OAuth. The OAuth protocol allows a user to securely authorize Slack to take agreed-upon actions on their behalf, like reading files the user can access in the external system. By leveraging OAuth, we ensure that enterprise search can never perform an action the user did not authorize the system to perform in the external system, and that the actions we perform are a subset of those the user could themselves perform.\u003c/span\u003e\u003c/p\u003e\n\u003ch3\u003e\u003cspan\u003eUsers must explicitly grant access to external sources\u003c/span\u003e\u003c/h3\u003e\n\u003cp\u003e\u003cspan\u003eWe believe that your external data should be yours to control. As such, Slack admins must opt in each external source for use in their organization’s search results and Search Answers. They can also revoke this access (for both search results and Search Answers) at any time.\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan\u003eNext, Slack users also explicitly grant access before we integrate any external sources in their search. Users may also revoke access to any source at any time. This level of control is possible due to the OAuth-based approach mentioned above.\u003c/span\u003e\u003c/p\u003e\n\u003ch3\u003e\u003cspan\u003ePrinciple of Least Privilege\u003c/span\u003e\u003c/h3\u003e\n\u003cp\u003e\u003cspan\u003eAn important security principle is that a system should never request more privileges than it requires. For enterprise search, this means that when we connect to an external system, we only request the OAuth scopes which are necessary to satisfy search queries—specifically read scopes.\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan\u003eNot only do we adhere to the principle of least privilege, we show admins and end users the scopes we plan to request when they enable an external source for use in enterprise search. This means that admins and end users always know which authorizations Slack requires to integrate with an external source.\u003c/span\u003e\u003c/p\u003e\n\u003ch2\u003e\u003cspan\u003eConclusion\u003c/span\u003e\u003c/h2\u003e\n\u003cp\u003e\u003cspan\u003eAt Salesforce, \u003c/span\u003e\u003ca href=\"https://www.salesforce.com/company/our-values/#:~:text=Trust%20is%20our%20%231%20value,and%20delivering%20on%20our%20commitments.\"\u003e\u003cspan\u003etrust is our #1 value\u003c/span\u003e\u003c/a\u003e\u003cspan\u003e. We’re proud to have built an enterprise search experience that puts security and privacy front and center, building atop the robust security principles already instilled by Slack AI. We’re excited to see how our customers use this powerful new functionality, secure in the knowledge that their external data is always in good hands.\u003c/span\u003e\u003c/p\u003e\n\t\t\t\t\t\t\u003c/div\u003e\u003c/div\u003e",
  "readingTime": "8 min read",
  "publishedTime": "2025-03-07T01:14:37Z",
  "modifiedTime": "2025-04-09T19:59:54Z"
}

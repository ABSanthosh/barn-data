{
  "id": "09551116-8d34-4e23-bfbd-3d849a68b9de",
  "title": "Adding support for Google Pay within Android WebView",
  "link": "https://developers.googleblog.com/en/adding-support-for-google-pay-within-android-webview/",
  "description": "Google Pay support within Android WebView is now available, starting with WebView version 137 and Play Services 25.18.30, allowing users to utilize the native Google Pay payment sheet within embedded web checkout processes.",
  "author": "",
  "published": "",
  "source": "http://feeds.feedburner.com/GDBcode",
  "categories": null,
  "byline": "Dominik Mengelt",
  "length": 4821,
  "excerpt": "Google Pay support within Android WebView is now available, starting with WebView version 137 and Play Services 25.18.30, allowing users to utilize the native Google Pay payment sheet within embedded web checkout processes.",
  "siteName": "",
  "favicon": "https://storage.googleapis.com/gweb-developer-goog-blog-assets/meta/apple-touch-icon.png",
  "text": "Products More Solutions Events Learn Community Developer Program Blog Does your Android App embed a web checkout process by using a WebView?We are happy to announce that Google Pay is now supported within Android WebView. This feature is available in WebView starting with version 137.How does Google Pay within Android WebView work?The solution uses the Payment Request API which allows launching Android payment apps when the website is embedded inside of a WebView.Starting with Google Play Services 25.18.30 (available today), Google Pay will trigger the native payment sheet which means user device tokens will be available for facilitation when triggered from within a WebView.What changes are required for my App?Since the Payment Request API will be disabled by default for WebView, the following simple changes need to be implemented:Add (or update) build dependency: androidx.webkit:webkit:1.14.0-rc01 Kotlin Copied The stable version of 1.14.0 follows beginning of June Add the following queries tags to your AndroidManifest.xml: \u003c!-- Allow Chromium defined actions PAY, IS_READY_TO_PAY, UPDATE_PAYMENT_DETAILS to be initiated in your Android App or SDK --\u003e \u003cqueries\u003e \u003cintent\u003e \u003caction android:name=\"org.chromium.intent.action.PAY\"/\u003e \u003c/intent\u003e \u003cintent\u003e \u003caction android:name=\"org.chromium.intent.action.IS_READY_TO_PAY\"/\u003e \u003c/intent\u003e \u003cintent\u003e \u003caction android:name=\"org.chromium.intent.action.UPDATE_PAYMENT_DETAILS\"/\u003e \u003c/intent\u003e \u003c/queries\u003e Kotlin Copied Enable the Payment Request API for the WebView you use in your App. Make sure to use the correct import statement. No other Google Pay specific changes are needed.Kotlin (Compose): import android.webkit.WebSettings; import android.webkit.WebView; import androidx.webkit.WebSettingsCompat; import androidx.webkit.WebViewFeature; AndroidView( factory = { WebView(it).apply { // Update WebView settings to allow JavaScript and payment request settings.javaScriptEnabled = true if (WebViewFeature.isFeatureSupported( WebViewFeature.PAYMENT_REQUEST)) { WebSettingsCompat.setPaymentRequestEnabled(settings, true); } } }, update = { it.loadUrl(url) } ) Kotlin Copied Java: import android.webkit.WebSettings; import android.webkit.WebView; import androidx.webkit.WebSettingsCompat; import androidx.webkit.WebViewFeature; WebView webView = findViewById(R.id.webview); WebSettings webSettings = webView.getSettings(); // Update WebView settings to allow JavaScript and payment request webSettings.setJavaScriptEnabled(true); if (WebViewFeature.isFeatureSupported(WebViewFeature.PAYMENT_REQUEST)) { WebSettingsCompat.setPaymentRequestEnabled(webSettings, true); } Java Copied Finally, make sure to use the Pay \u0026 Wallet console to request production access for your App: An approved Android app integration Unlock seamless payments in your Android AppSupporting Google Pay within Android WebView allows you to offer Google Pay to your Android users when embedding your web checkout in your app. For more assistance with your implementation, sign in to the Google Pay \u0026 Wallet Console to create a support ticket. In addition, you can join the developer community in the #payments channel on Discord.Follow @GooglePayDevs on X for future updates. If you have questions, tag @GooglePayDevs and include #AskGooglePayDevs in your tweets.",
  "image": "https://storage.googleapis.com/gweb-developer-goog-blog-assets/images/adding-support-for-google-pay-and.2e16d0ba.fill-1200x600.png",
  "html": "\u003cdiv id=\"readability-page-1\" class=\"page\"\u003e\n        \n        \n        \n\n        \n\n\t\t\t\t\n        \n\n\n\n\n\u003cdiv top-level-nav=\"\"\u003e\n  \u003cnav aria-label=\"Side menu\"\u003e\n    \n    \u003cdiv\u003e\n        \u003cul\u003e\n          \u003cli\u003e\n            \u003ca href=\"https://developers.google.com/products\" data-label=\"Tab: Products\"\u003e\n              \u003cspan tooltip=\"\"\u003e\n                Products\n             \u003c/span\u003e\n            \u003c/a\u003e\n            \u003cul\u003e\n              \u003cli\u003e\n                \u003cspan tabindex=\"0\" data-label=\"More Products\"\u003e\n                  \u003cspan menu=\"Products\"\u003e\n                    More\n                  \u003c/span\u003e\n                  \u003cspan menu=\"Products\"\u003e\n                    \n                  \u003c/span\u003e\n                \u003c/span\u003e\n              \u003c/li\u003e\n            \u003c/ul\u003e\n          \u003c/li\u003e\n          \u003cli\u003e\n            \u003ca href=\"https://developers.google.com/solutions/catalog\" data-label=\"Tab: Solutions\"\u003e\n              \u003cspan tooltip=\"\"\u003e\n                Solutions\n             \u003c/span\u003e\n            \u003c/a\u003e\n          \u003c/li\u003e\n          \u003cli\u003e\n            \u003ca href=\"https://developers.google.com/events\" data-label=\"Tab: Events\"\u003e\n              \u003cspan tooltip=\"\"\u003e\n                Events\n             \u003c/span\u003e\n            \u003c/a\u003e\n          \u003c/li\u003e\n          \u003cli\u003e\n            \u003ca href=\"https://developers.google.com/learn\" data-label=\"Tab: Learn\"\u003e\n              \u003cspan tooltip=\"\"\u003e\n                Learn\n             \u003c/span\u003e\n            \u003c/a\u003e\n          \u003c/li\u003e\n          \u003cli\u003e\n            \u003ca href=\"https://developers.google.com/community\" data-label=\"Tab: Community\"\u003e\n              \u003cspan tooltip=\"\"\u003e\n                Community\n             \u003c/span\u003e\n            \u003c/a\u003e\n            \u003cul\u003e\n              \u003cli\u003e\n                \n              \u003c/li\u003e\n            \u003c/ul\u003e\n          \u003c/li\u003e\n          \u003cli\u003e\n            \u003ca href=\"https://developers.google.com/profile/u/me\" data-label=\"Tab: Developer Program\"\u003e\n              \u003cspan tooltip=\"\"\u003e\n                Developer Program\n             \u003c/span\u003e\n            \u003c/a\u003e\n          \u003c/li\u003e\n          \u003cli\u003e\n            \u003ca href=\"https://developers.googleblog.com/\" data-label=\"Tab: Blog\"\u003e\n              \u003cspan tooltip=\"\"\u003e\n                Blog\n             \u003c/span\u003e\n            \u003c/a\u003e\n          \u003c/li\u003e\n        \u003c/ul\u003e\n      \u003c/div\u003e\n  \u003c/nav\u003e\n  \u003c/div\u003e\n\n\n\n        \n  \u003cdiv\u003e\n\n    \n      \n    \n\n    \n\n    \n\n    \n\n    \n    \u003cdiv\u003e\n          \n\n\u003cdiv\u003e\n    \u003cp data-block-key=\"bny6i\"\u003eDoes your Android App embed a web checkout process by using a WebView?\u003c/p\u003e\u003cp data-block-key=\"1u73f\"\u003eWe are happy to announce that Google Pay is now supported within Android WebView. This feature is available in WebView starting with version 137.\u003c/p\u003e\u003ch2 data-block-key=\"yj5ix\" id=\"how-does-google-pay-within-android-webview-work\"\u003e\u003cb\u003e\u003cbr/\u003e\u003c/b\u003eHow does Google Pay within Android WebView work?\u003c/h2\u003e\u003cp data-block-key=\"71luc\"\u003eThe solution uses the \u003ca href=\"https://w3c.github.io/payment-request/\"\u003ePayment Request API\u003c/a\u003e which allows launching Android payment apps when the website is embedded inside of a WebView.\u003c/p\u003e\u003cp data-block-key=\"mg2r\"\u003eStarting with Google Play Services 25.18.30 (available today), Google Pay will trigger the native payment sheet which means user device tokens will be available for facilitation when triggered from within a WebView.\u003c/p\u003e\u003ch2 data-block-key=\"rwm3b\" id=\"what-changes-are-required-for-my-app\"\u003e\u003cb\u003e\u003cbr/\u003e\u003c/b\u003eWhat changes are required for my App?\u003c/h2\u003e\u003cp data-block-key=\"dsf4o\"\u003eSince the Payment Request API will be disabled by default for WebView, the following simple changes need to be implemented:\u003c/p\u003e\u003cp data-block-key=\"cjeep\"\u003eAdd (or update) build dependency:\u003c/p\u003e\n\u003c/div\u003e  \u003cdiv\u003e\n    \u003cpre\u003e\u003ccode\u003eandroidx.webkit:webkit:1.14.0-rc01\u003c/code\u003e\u003c/pre\u003e\n    \u003cp\u003e\n        Kotlin\n    \u003c/p\u003e\n    \u003cp\u003e\u003cspan\u003eCopied\u003c/span\u003e\n        \n    \u003c/p\u003e\n    \n    \n        \n            \u003cp\u003eThe stable version of 1.14.0 follows beginning of June\u003c/p\u003e\n        \n    \n\u003c/div\u003e  \u003cp data-block-key=\"bny6i\"\u003eAdd the following \u003ccode\u003equeries\u003c/code\u003e tags to your AndroidManifest.xml:\u003c/p\u003e  \u003cdiv\u003e\n    \u003cpre\u003e\u003ccode\u003e\u0026lt;!--\n  Allow Chromium defined actions PAY, IS_READY_TO_PAY,\n  UPDATE_PAYMENT_DETAILS to be initiated in your Android App or SDK\n--\u0026gt;\n\u0026lt;queries\u0026gt;\n  \u0026lt;intent\u0026gt;\n    \u0026lt;action android:name=\u0026#34;org.chromium.intent.action.PAY\u0026#34;/\u0026gt;\n  \u0026lt;/intent\u0026gt;\n  \u0026lt;intent\u0026gt;\n    \u0026lt;action android:name=\u0026#34;org.chromium.intent.action.IS_READY_TO_PAY\u0026#34;/\u0026gt;\n  \u0026lt;/intent\u0026gt;\n  \u0026lt;intent\u0026gt;\n    \u0026lt;action android:name=\u0026#34;org.chromium.intent.action.UPDATE_PAYMENT_DETAILS\u0026#34;/\u0026gt;\n  \u0026lt;/intent\u0026gt;\n\u0026lt;/queries\u0026gt;\u003c/code\u003e\u003c/pre\u003e\n    \u003cp\u003e\n        Kotlin\n    \u003c/p\u003e\n    \u003cp\u003e\u003cspan\u003eCopied\u003c/span\u003e\n        \n    \u003c/p\u003e\n    \n    \n\u003c/div\u003e  \u003cdiv\u003e\n    \u003cp data-block-key=\"bny6i\"\u003eEnable the Payment Request API for the WebView you use in your App. Make sure to use the correct import statement. No other Google Pay specific changes are needed.\u003c/p\u003e\u003cp data-block-key=\"6vt0g\"\u003e\u003cb\u003eKotlin (Compose):\u003c/b\u003e\u003c/p\u003e\n\u003c/div\u003e  \u003cdiv\u003e\n    \u003cpre\u003e\u003ccode\u003eimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport androidx.webkit.WebSettingsCompat;\nimport androidx.webkit.WebViewFeature;\n\nAndroidView(\n    factory = {\n        WebView(it).apply {\n            // Update WebView settings to allow JavaScript and payment request \n            settings.javaScriptEnabled = true            \n            if (WebViewFeature.isFeatureSupported(\n                    WebViewFeature.PAYMENT_REQUEST)) {\n                WebSettingsCompat.setPaymentRequestEnabled(settings, true);\n            }\n        }\n    },\n    update = {\n      it.loadUrl(url)\n    }\n)\u003c/code\u003e\u003c/pre\u003e\n    \u003cp\u003e\n        Kotlin\n    \u003c/p\u003e\n    \u003cp\u003e\u003cspan\u003eCopied\u003c/span\u003e\n        \n    \u003c/p\u003e\n    \n    \n\u003c/div\u003e  \u003cp data-block-key=\"bny6i\"\u003e\u003cb\u003eJava:\u003c/b\u003e\u003c/p\u003e  \u003cdiv\u003e\n    \u003cpre\u003e\u003ccode\u003eimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport androidx.webkit.WebSettingsCompat;\nimport androidx.webkit.WebViewFeature;\n\nWebView webView = findViewById(R.id.webview);\nWebSettings webSettings = webView.getSettings();\n\n// Update WebView settings to allow JavaScript and payment request\nwebSettings.setJavaScriptEnabled(true);\nif (WebViewFeature.isFeatureSupported(WebViewFeature.PAYMENT_REQUEST)) {\n    WebSettingsCompat.setPaymentRequestEnabled(webSettings, true);\n}\u003c/code\u003e\u003c/pre\u003e\n    \u003cp\u003e\n        Java\n    \u003c/p\u003e\n    \u003cp\u003e\u003cspan\u003eCopied\u003c/span\u003e\n        \n    \u003c/p\u003e\n    \n    \n\u003c/div\u003e  \u003cp data-block-key=\"bny6i\"\u003eFinally, make sure to use the \u003ca href=\"https://goo.gle/3Egv8IL\"\u003ePay \u0026amp; Wallet console\u003c/a\u003e to request production access for your App:\u003c/p\u003e   \n\n\n    \n    \u003cdiv\u003e\n            \n                \u003cp\u003e\u003cimg src=\"https://storage.googleapis.com/gweb-developer-goog-blog-assets/images/image1_dAsgxZP.original.jpg\" alt=\"An approved Android app integration\"/\u003e\u003c/p\u003e\u003cp\u003e\n                        An approved Android app integration\n                    \u003c/p\u003e\n                \n            \n        \u003c/div\u003e\n  \u003cdiv\u003e\n    \u003ch2 data-block-key=\"kqmx8\" id=\"unlock-seamless-payments-in-your-android-app\"\u003eUnlock seamless payments in your Android App\u003c/h2\u003e\u003cp data-block-key=\"ek07\"\u003eSupporting Google Pay within Android WebView allows you to offer Google Pay to your Android users when embedding your web checkout in your app. For more assistance with your implementation, sign in to the \u003ca href=\"https://goo.gle/3Egv8IL\"\u003eGoogle Pay \u0026amp; Wallet Console\u003c/a\u003e to create a support ticket. In addition, you can join the developer community in the \u003cb\u003e#payments\u003c/b\u003e channel on \u003ca href=\"https://goo.gle/payments-dev-community\"\u003eDiscord\u003c/a\u003e.\u003c/p\u003e\u003cp data-block-key=\"f1gab\"\u003eFollow \u003ca href=\"https://twitter.com/GooglePayDevs\"\u003e@GooglePayDevs\u003c/a\u003e on X for future updates. If you have questions, tag \u003ca href=\"https://twitter.com/GooglePayDevs?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor\"\u003e@GooglePayDevs\u003c/a\u003e and include #AskGooglePayDevs in your tweets.\u003c/p\u003e\n\u003c/div\u003e \n      \u003c/div\u003e\n    \n\n    \n\n    \n    \n    \n  \u003c/div\u003e\n\n\n\t\t\t\t\n\t\t\t\t\n\n\n\n\n\n        \n\t\t\t\t\n\n        \n        \n        \n        \n\n        \n\n        \n  \n  \n\n    \n\n\u003c/div\u003e",
  "readingTime": "6 min read",
  "publishedTime": "2025-05-28T00:00:00Z",
  "modifiedTime": null
}

{
  "id": "4ac13013-c3cb-4e25-a3e0-23a65c4d8eed",
  "title": "CodeSOD: Wrap Up Your Date",
  "link": "https://thedailywtf.com/articles/wrap-up-your-date",
  "description": "Today, we look at a simple bit of bad code. The badness is not that they're using Oracle, though that's always bad. But it's how they're writing this PL/SQL stored function: FUNCTION CONVERT_STRING_TO_DATE --Public (p_date_string IN Varchar2, p_date_format IN Varchar2 DEFAULT c_date_format) Return Date AS BEGIN If p_date_string Is Null Then Return Null; Else Return To_Date(p_date_string, p_date_format); End If; END; -- FUNCTION CONVERT_STRING_DATE This code is a wrapper around the to_date function. The to_date function takes a string and a format and returns that format as a date. This wrapper adds two things, and the first is a null check. If the input string is null, just return null. Except that's exactly how to_date behaves anyway. The second is that it sets the default format to c_date_format. This, actually, isn't a terrible thing. If you check the docs on the function, you'll see that if you don't supply a format, it defaults to whatever is set in your internationalization settings, and Oracle recommends that you don't rely on that. On the flip side, this code is used as part of queries, not on processing input, which means that they're storing dates as strings, and relying on the application layer to send them properly formatted strings. So while their to_date wrapper isn't a terrible thing, storing dates as strings definitely is a terrible thing. [Advertisement] Plan Your .NET 9 Migration with ConfidenceYour journey to .NET 9 is more than just one decision.Avoid migration migraines with the advice in this free guide. Download Free Guide Now!",
  "author": "Remy Porter",
  "published": "Wed, 05 Mar 2025 06:30:00 GMT",
  "source": "http://syndication.thedailywtf.com/TheDailyWtf",
  "categories": [
    "CodeSOD"
  ],
  "byline": "Remy Porter",
  "length": 1899,
  "excerpt": "Today, we look at a simple bit of bad code. The badness is not that they're using Oracle, though that's always bad. But it's how they're writing this PL/SQL stored function: FUNCTION CONVERT_STRING_TO_DATE --Public (p_date_string IN Varchar2, p_date_format IN Varchar2 DEFAULT c_date_format) Return Date AS BEGIN If p_date_string Is Null Then Return Null; Else Return To_Date(p_date_string, p_date_format); End If; END; -- FUNCTION CONVERT_STRING_DATE",
  "siteName": "The Daily WTF",
  "favicon": "",
  "text": "by in CodeSOD on 2025-03-05 Edit Remy PorterComputers were a mistake, which is why I'm trying to shoot them into space. Editor-in-Chief for TDWTF. Today, we look at a simple bit of bad code. The badness is not that they're using Oracle, though that's always bad. But it's how they're writing this PL/SQL stored function: FUNCTION CONVERT_STRING_TO_DATE --Public (p_date_string IN Varchar2, p_date_format IN Varchar2 DEFAULT c_date_format) Return Date AS BEGIN If p_date_string Is Null Then Return Null; Else Return To_Date(p_date_string, p_date_format); End If; END; -- FUNCTION CONVERT_STRING_DATE This code is a wrapper around the to_date function. The to_date function takes a string and a format and returns that format as a date. This wrapper adds two things, and the first is a null check. If the input string is null, just return null. Except that's exactly how to_date behaves anyway. The second is that it sets the default format to c_date_format. This, actually, isn't a terrible thing. If you check the docs on the function, you'll see that if you don't supply a format, it defaults to whatever is set in your internationalization settings, and Oracle recommends that you don't rely on that. On the flip side, this code is used as part of queries, not on processing input, which means that they're storing dates as strings, and relying on the application layer to send them properly formatted strings. So while their to_date wrapper isn't a terrible thing, storing dates as strings definitely is a terrible thing. [Advertisement] Plan Your .NET 9 Migration with ConfidenceYour journey to .NET 9 is more than just one decision.Avoid migration migraines with the advice in this free guide. Download Free Guide Now!",
  "image": "https://s3.amazonaws.com/remy.jetpackshark.com/remy-thumb.jpg",
  "html": "\u003cdiv id=\"readability-page-1\" class=\"page\"\u003e\u003cdiv itemscope=\"\" itemtype=\"http://schema.org/Article\" id=\"article-page\"\u003e\n\n        \n        \u003cp\u003e\u003cspan\u003eby \n            in \u003ca itemprop=\"articleSection\" href=\"https://thedailywtf.com/series/code-sod\"\u003eCodeSOD\u003c/a\u003e\n            on \u003cspan itemprop=\"datePublished\" content=\"2025-03-05\"\u003e2025-03-05\u003c/span\u003e\n            \u003ca href=\"https://thedailywtf.com/admin/article/edit/10862\" rel=\"nofollow\"\u003eEdit\u003c/a\u003e\n        \u003c/span\u003e\u003c/p\u003e\n        \u003cdiv itemprop=\"author\" itemscope=\"\" itemtype=\"http://schema.org/Person\"\u003e\n            \u003cp\u003e\u003cimg itemprop=\"image\" src=\"https://s3.amazonaws.com/remy.jetpackshark.com/remy-thumb.jpg\"/\u003e\n            \u003ca itemprop=\"name\" href=\"https://thedailywtf.com/authors/remy-porter\"\u003eRemy Porter\u003c/a\u003e\u003c/p\u003e\u003cp itemprop=\"description\"\u003eComputers were a mistake, which is why I\u0026#39;m trying to shoot them into space. Editor-in-Chief for TDWTF.\u003c/p\u003e\n        \u003c/div\u003e\n        \u003cdiv itemprop=\"articleBody\"\u003e\n            \u003cp\u003eToday, we look at a simple bit of bad code. The badness is \u003cem\u003enot\u003c/em\u003e that they\u0026#39;re using Oracle, though that\u0026#39;s always bad. But it\u0026#39;s \u003cem\u003ehow\u003c/em\u003e they\u0026#39;re writing this PL/SQL stored function:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e  \u003cspan\u003eFUNCTION\u003c/span\u003e CONVERT_STRING_TO_DATE \u003cspan\u003e--Public\u003c/span\u003e\n    (p_date_string \u003cspan\u003eIN\u003c/span\u003e Varchar2,\n       p_date_format \u003cspan\u003eIN\u003c/span\u003e Varchar2 \u003cspan\u003eDEFAULT\u003c/span\u003e c_date_format)\n    \u003cspan\u003eReturn\u003c/span\u003e \u003cspan\u003eDate\u003c/span\u003e\n\n   \u003cspan\u003eAS\u003c/span\u003e\n\n   \u003cspan\u003eBEGIN\u003c/span\u003e\n\n    If p_date_string \u003cspan\u003eIs\u003c/span\u003e \u003cspan\u003eNull\u003c/span\u003e \u003cspan\u003eThen\u003c/span\u003e\n        \u003cspan\u003eReturn\u003c/span\u003e \u003cspan\u003eNull\u003c/span\u003e;\n      \u003cspan\u003eElse\u003c/span\u003e\n        \u003cspan\u003eReturn\u003c/span\u003e To_Date(p_date_string, p_date_format);\n      \u003cspan\u003eEnd\u003c/span\u003e If;\n\n   \u003cspan\u003eEND\u003c/span\u003e;  \u003cspan\u003e-- FUNCTION CONVERT_STRING_DATE\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis code is a wrapper around the \u003ccode\u003eto_date\u003c/code\u003e function. The \u003ccode\u003eto_date\u003c/code\u003e function takes a string and a format and returns that format as a date.\u003c/p\u003e\n\u003cp\u003eThis wrapper adds two things, and the first is a null check. If the input string is null, just return null. Except that\u0026#39;s exactly how \u003ccode\u003eto_date\u003c/code\u003e behaves anyway.\u003c/p\u003e\n\u003cp\u003eThe second is that it sets the default format to \u003ccode\u003ec_date_format\u003c/code\u003e. This, actually, isn\u0026#39;t a terrible thing. If you check the docs on \u003ca href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/TO_DATE.html\"\u003ethe function\u003c/a\u003e, you\u0026#39;ll see that if you don\u0026#39;t supply a format, it defaults to whatever is set in your internationalization settings, and Oracle recommends that you don\u0026#39;t rely on that.\u003c/p\u003e\n\u003cp\u003eOn the flip side, this code is used as part of queries, not on processing input, which means that they\u0026#39;re storing \u003cem\u003edates as strings\u003c/em\u003e, and relying on the application layer to send them properly formatted strings. So while their \u003ccode\u003eto_date\u003c/code\u003e wrapper isn\u0026#39;t a terrible thing, \u003cem\u003estoring dates as strings\u003c/em\u003e definitely is a terrible thing.\u003c/p\u003e\n\u003cp\u003e\n\t[Advertisement] \u003cb\u003ePlan Your .NET 9 Migration with Confidence\u003c/b\u003e\u003cbr/\u003eYour journey to .NET 9 is more than just one decision.Avoid migration migraines with the advice in this free guide. \u003cb\u003e\u003ca href=\"https://inedo.com/support/whitepapers/dotnet-guide?utm_campaign=dotnet\u0026amp;utm_source=tdwtf-footer\"\u003eDownload Free Guide Now!\u003c/a\u003e\u003c/b\u003e\n\u003c/p\u003e\n\n        \u003c/div\u003e\n\n        \n    \u003c/div\u003e\u003c/div\u003e",
  "readingTime": "3 min read",
  "publishedTime": "2025-03-05T06:30:00Z",
  "modifiedTime": null
}

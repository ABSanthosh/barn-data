{
  "id": "76e0a95e-89db-4817-897a-9fc0328eacd8",
  "title": "5 ways I use Keepalived to make my home network more resilient",
  "link": "https://www.xda-developers.com/keepalived-makes-home-network-resilient/",
  "description": "Nothing sucks more than having a service go down.",
  "author": "Joe Rice-Jones",
  "published": "Mon, 30 Jun 2025 00:00:21 GMT",
  "source": "https://www.xda-developers.com/feed/",
  "categories": [
    "Networking",
    "network"
  ],
  "byline": "Joe Rice-Jones",
  "length": 27793,
  "excerpt": "Nothing sucks more than having a service go down.",
  "siteName": "XDA",
  "favicon": "https://static0.xdaimages.com/assets/images/favicon-240x240.43161a66.png",
  "text": "As my home network has grown and the number of services I decide to self-host increases, so does the dependency on those services. It's the trade-off between the privacy of having my data firmly on devices I own, and other companies' servers in the cloud, and it comes with a host of added responsibilities. I'm okay with that, but it does mean that I need to find ways to ensure high availability of those services because I'm not the only person in my household, and outages are now my problem. This means I've now got a high availability Proxmox cluster, so those VMs have less chance of going down, but it's still a single point of failure in terms of network connectivity. And then I ran into Keepalived, which uses the virtual router redundancy protocol (VRRP) to share multiple servers or services on a single virtual IP address, and provides a failover method if one of them goes down. It's a fantastic tool for building a more resilient network and works almost seamlessly. And for the record, yes I could use HAProxy for a similar failover and get load balancing, but what keeps HAProxy from going down? Ah, right, another instance of Keepalived. I'll stick to the simple fixes that I know, at least at this stage. Related 5 services I self-host on my Raspberry Pi instead of my main home server My primary home server handles a lot, so it's important to delegate these tasks to my Raspberry Pi farm 5 For my DNS servers Technitium is powerful, but until it has clustering, I need Keepalived as well Self-hosting a DNS server is a rewarding process that gives your devices, network, and personal information some much-needed privacy at a time when we should expect anything we do on the internet to be tracked and monetized in some way. I'm not saying we should accept that's how it should be; it is what it is, and we should take preventative measures instead. My colleague Adam has two Pi-hole servers for this very reason, so that if one goes down, the other takes over and his network is kept protected. I do something similar, but with Technitium, a fully featured DNS server that you can self-host. Its roadmap has clustering on the horizon, so at some point, I'll be able to connect several instances together with the inbuilt settings, but that day is in the future. Until that happens, I've got Keepalived on my NAS and on a Proxmox-powered mini PC that lets me use one virtual IP to access both Technitium instances. The only thing different to get it working was to add the following on the servers, then bind Technitium to both host IP and VIP IP in Keepalived, and add the VIP IP to the DNS Server Local End Points setting in Technitium. net.ipv4.ip_nonlocal_bind=1 Related 4 Because my smart home is important Home Assistant shouldn't have a single point of failure I use Home Assistant to automate my smart home and bind the multiple ecosystems I've collected over the years into a cohesive mass. This works fantastically well when the VM living on my NAS is reachable by the rest of my network, but sometimes the connection to that device drops. You wouldn't accept Google Home or HomeKit's servers going down for any appreciable length of time, and I sure don't accept my Home Assistant doing the same. But with Keepalived, I don't have to. I can keep that VM as the main server to route requests to and have a Docker container with HA on the device that has my Docker compose stack, which also has a Keepalived component to check if the VM is running. With a subscription to Home Assistant Cloud I get backups so I can easily keep parity between the two HA instances, and the few things that the Docker container can't run aren't essential services for me, so it's okay if they're unavailable for short periods until I can reboot the NAS or troubleshoot the connectivity. Related I moved my Home Assistant from TrueNAS to a mini PC running Proxmox, and I'm so glad I did I moved my Home Assistant from TrueNAS to Proxmox, and it's saving me energy, time, and it's just all around better. 3 So my reverse proxy never goes down Access is everything in the home lab My reverse proxy is the gateway to my stacks of self-hosted services, making it an essential part of my network architecture and a single point of failure if anything goes wrong. Most of my services are on Ubuntu or Debian-based servers, including Proxmox, because those are what I know and I want to keep the learning to the network architecture that I'm less familiar with. Whether I'm using Nginx or HAProxy as the reverse proxy, they're both easy to link up with Keepalived, and all I need is three IP addresses, and to remember to change the priority of the two VRRP instances so that one is higher than the other. $ sudo iptables -I INPUT -p 112 -d 224.0.0.18 -j ACCEPT$ sudo iptables -I INPUT -p 51 -d 224.0.0.18 -j ACCEPT The first time I set this up, everything looked correct, so I couldn't figure out what was going wrong. Then I found another tutorial that mentioned adding firewall rules for vrrp and ah (authentication) to pass through, which is trivial in Ubuntu. Related 2 So my VPN never goes down Having your services go down when you're at home is bad enough Remote access to my network and home lab is essential to my architecture. But that carefully crafted chain of connections is useless if the server running OpenVPN goes down. If I'm using OpenVPN for any reason, I have it running on two servers, with them bound to the VIP IP in Keepalived and their own IP, which makes the secondary server work as the main when the link goes down for any reason. That means my VPN server is always available. And if the worst happens and two servers on my home network go down, I have bigger issues than being unable to log in remotely. I could do something similarwith Pangolin, but I'd still have the same issue with the IP addresses Pangolin is mapped to going down. At least, unless I run Keepalived on all of those services as well. I think eventually I'll have synced app servers behind two HAProxy instances and Keepalived so that everything has the best chance of high uptime, but that's a bit in the future as I plan future purchases. Related 1 To easily manage my Proxmox cluster HA failover is too slow, and virtual IPs are clutch Setting up a HA Proxmox cluster is a fantastic way of ensuring your containers and VMs are always available to users, but what about when you need to do administration tasks on the Proxmox nodes? If one is down, you need to know which one so you can use one of the other nodes, but it's my opinion that admin tasks should be set up so they're as frictionless as possible. Setting up Keepalived to access the cluster with a single virtual IP means less time wasted when I need to change something. It'll always log into the active node, which is nice and easy. It might only be a few seconds every time I have to log in, but that adds up over time, and I will be using this cluster for a long time. Related This is how you build a Proxmox cluster Why restrict yourself to a single node when you can build an entire cluster from your Proxmox servers? I'd run Keepalived on everything (if I could) I've also recently moved my firewall to OPNsense, and Keepalived doesn't quite work in that situation. That's only because OPNsense has CARP built in, so you can quickly make a cluster with failover, without any additional tools. If it didn't, I'd have to figure out how to set failover up, plus sync settings between the two firewalls. Ideally I'd love every service or server I run to have native clustering so that I didn't need additional installations, but Keepalived will do the job until then.",
  "image": "https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/12/network-cabinet-hardware.jpg",
  "html": "\u003cdiv id=\"readability-page-1\" class=\"page\"\u003e\u003cdiv id=\"article-body\" itemprop=\"articleBody\"\u003e\u003cp\u003eAs my \u003ca href=\"https://www.xda-developers.com/lessons-from-upgrading-to-home-network-prosumer-gear/\" target=\"_blank\"\u003ehome network has grown\u003c/a\u003e and the number of services I decide to self-host increases, so does the dependency on those services. It\u0026#39;s the trade-off between the privacy of having my data firmly on devices I own, and other companies\u0026#39; servers in the cloud, and it comes with a host of added responsibilities. I\u0026#39;m okay with that, but it does mean that I need to find ways to ensure high availability of those services because I\u0026#39;m not the only person in my household, and outages are now my problem.\u003c/p\u003e    \u003cp\u003eThis means I\u0026#39;ve now got a \u003ca href=\"https://www.xda-developers.com/high-availability-proxmox-cluster-at-home-useful/\" target=\"_blank\"\u003ehigh availability Proxmox cluster\u003c/a\u003e, so those VMs have less chance of going down, but it\u0026#39;s still a single point of failure in terms of network connectivity. And then I ran into Keepalived, which uses the virtual router redundancy protocol (VRRP) to share multiple servers or services on a single virtual IP address, and provides a failover method if one of them goes down.\u003c/p\u003e    \u003cp\u003eIt\u0026#39;s a fantastic tool for building a more resilient network and works almost seamlessly. And for the record, yes I \u003ca href=\"https://www.xda-developers.com/haproxy-still-rocks-my-world/\" target=\"_blank\"\u003ecould use HAProxy\u003c/a\u003e for a similar failover and get load balancing, but what keeps HAProxy from going down? Ah, right, another instance of Keepalived. I\u0026#39;ll stick to the simple fixes that I know, at least at this stage.\u003c/p\u003e            \n    \n                    \n                        \n    \n    \n                                        \n    \n        \n    \n        \n                \n        \n    \u003cdiv data-include-community-rating=\"false\" id=\"dc48-455e-9c9a0eab6155\" data-nosnippet=\"\"\u003e\n        \n        \n                        \t\n\t                \n\t\t\u003ca href=\"https://www.xda-developers.com/services-self-host-raspberry-pi-instead-main-home-server/\"\u003e\n\t\n\t\u003cdiv data-img-url=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/04/raspberry-pi-sd-cards.jpg\" data-modal-id=\"single-image-modal\" data-modal-container-id=\"single-image-modal-container\" data-img-caption=\"\u0026#34;\u0026#34;\"\u003e\n\n            \n\n\n\n\n\u003cfigure\u003e\n        \u003cpicture\u003e\n        \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 1024px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/04/raspberry-pi-sd-cards.jpg?q=49\u0026amp;fit=crop\u0026amp;w=422\u0026amp;h=268\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/04/raspberry-pi-sd-cards.jpg?q=49\u0026amp;fit=crop\u0026amp;w=422\u0026amp;h=268\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 768px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/04/raspberry-pi-sd-cards.jpg?q=49\u0026amp;fit=crop\u0026amp;w=310\u0026amp;h=220\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/04/raspberry-pi-sd-cards.jpg?q=49\u0026amp;fit=crop\u0026amp;w=310\u0026amp;h=220\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 481px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/04/raspberry-pi-sd-cards.jpg?q=49\u0026amp;fit=crop\u0026amp;w=720\u0026amp;h=400\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/04/raspberry-pi-sd-cards.jpg?q=49\u0026amp;fit=crop\u0026amp;w=720\u0026amp;h=400\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 0px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/04/raspberry-pi-sd-cards.jpg?q=49\u0026amp;fit=crop\u0026amp;w=432\u0026amp;h=260\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/04/raspberry-pi-sd-cards.jpg?q=49\u0026amp;fit=crop\u0026amp;w=432\u0026amp;h=260\u0026amp;dpr=2\"/\u003e\n                    \n                    \u003cimg width=\"2100\" height=\"1181\" loading=\"lazy\" decoding=\"async\" alt=\"raspberry pi sd cards\" data-img-url=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/04/raspberry-pi-sd-cards.jpg\" src=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/04/raspberry-pi-sd-cards.jpg\"/\u003e\n        \n    \u003c/picture\u003e\n                \n    \u003c/figure\u003e\n\n\n        \u003c/div\u003e\n\n\t\t\u003c/a\u003e\n\t\n\n        \n                    \u003cp\u003e\u003cspan data-field=\"label\"\u003eRelated\u003c/span\u003e\u003c/p\u003e\u003cdiv\u003e\n\n                \n                 \n                \t\n\t\n\u003ch5\u003e\n\t\n\n\t\t\t\t\t        \t\t\t\t\n\t\t\u003ca href=\"https://www.xda-developers.com/services-self-host-raspberry-pi-instead-main-home-server/\" title=\"5 services I self-host on my Raspberry Pi instead of my main home server\" target=\"_blank\"\u003e\n\t\t\t5 services I self-host on my Raspberry Pi instead of my main home server\n\t\t\u003c/a\u003e\n\t\u003c/h5\u003e\n\n                                                    \n                \t\t\t\t\t\t\t\t\t\u003cp\u003eMy primary home server handles a lot, so it\u0026#39;s important to delegate these tasks to my Raspberry Pi farm\u003c/p\u003e\n\t\t\t\n\n                    \n\n\n                \n                \n                \n                \n\n                \n                \n                \n                \t\n\n\n                \n\n                \n                \n                \n            \u003c/div\u003e\n                \n        \n        \n        \n            \u003c/div\u003e\n\u003ch2 id=\"for-my-dns-servers\"\u003e\n            \u003cspan\u003e5 \u003c/span\u003e\n        \u003cspan\u003e\n                            For my DNS servers\n                    \u003c/span\u003e\n       \u003c/h2\u003e\u003ch3 id=\"technitium-is-powerful-but-until-it-has-clustering-i-need-keepalived-as-well\"\u003e\n            Technitium is powerful, but until it has clustering, I need Keepalived as well\n    \u003c/h3\u003e\n\n\n\n\n    \n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                \n    \n\u003cp\u003eSelf-hosting a DNS server is a rewarding process that gives your devices, network, and personal information some much-needed privacy at a time when we should expect anything we do on the internet to be tracked and monetized in some way. I\u0026#39;m not saying we should accept that\u0026#39;s how it should be; it is what it is, and we should take preventative measures instead. My colleague Adam \u003ca href=\"https://www.xda-developers.com/two-pi-holes-spare-resources-recommend/\" target=\"_blank\"\u003ehas two Pi-hole servers\u003c/a\u003e for this very reason, so that if one goes down, the other takes over and his network is kept protected.\u003c/p\u003e    \u003cp\u003eI do something similar, but with Technitium, a fully featured DNS server that you can self-host. Its roadmap has clustering on the horizon, so at some point, I\u0026#39;ll be able to connect several instances together with the inbuilt settings, but that day is in the future. Until that happens, I\u0026#39;ve got Keepalived on my NAS and on a Proxmox-powered mini PC that lets me use one virtual IP to access both Technitium instances. The only thing different to get it working was to add the following on the servers, then bind Technitium to both host IP and VIP IP in Keepalived, and add the VIP IP to the \u003cstrong\u003eDNS Server Local End Points \u003c/strong\u003esetting in Technitium.\u003c/p\u003e        \u003cpre\u003e        \u003ccode\u003enet.ipv4.ip_nonlocal_bind=1\u003c/code\u003e\n    \u003c/pre\u003e\n        \n    \n                    \n                        \n    \n    \n                                        \n    \n        \n    \n        \n                \n        \n    \u003cdiv data-include-community-rating=\"false\" id=\"4075-4515-84fd88f8eac0\" data-nosnippet=\"\"\u003e\n        \n        \n                        \t\n\t                \n\t\t\u003ca href=\"https://www.xda-developers.com/dont-make-the-same-mistake-did-self-hosting-pi-hole/\"\u003e\n\t\n\t\u003cdiv data-img-url=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/06/pi-hole-on-laptop.jpg\" data-modal-id=\"single-image-modal\" data-modal-container-id=\"single-image-modal-container\" data-img-caption=\"\u0026#34;\u0026#34;\"\u003e\n\n            \n\n\n\n\n\u003cfigure\u003e\n        \u003cpicture\u003e\n        \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 1024px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/06/pi-hole-on-laptop.jpg?q=49\u0026amp;fit=crop\u0026amp;w=422\u0026amp;h=268\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/06/pi-hole-on-laptop.jpg?q=49\u0026amp;fit=crop\u0026amp;w=422\u0026amp;h=268\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 768px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/06/pi-hole-on-laptop.jpg?q=49\u0026amp;fit=crop\u0026amp;w=310\u0026amp;h=220\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/06/pi-hole-on-laptop.jpg?q=49\u0026amp;fit=crop\u0026amp;w=310\u0026amp;h=220\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 481px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/06/pi-hole-on-laptop.jpg?q=49\u0026amp;fit=crop\u0026amp;w=720\u0026amp;h=400\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/06/pi-hole-on-laptop.jpg?q=49\u0026amp;fit=crop\u0026amp;w=720\u0026amp;h=400\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 0px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/06/pi-hole-on-laptop.jpg?q=49\u0026amp;fit=crop\u0026amp;w=432\u0026amp;h=260\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/06/pi-hole-on-laptop.jpg?q=49\u0026amp;fit=crop\u0026amp;w=432\u0026amp;h=260\u0026amp;dpr=2\"/\u003e\n                    \n                    \u003cimg width=\"6000\" height=\"3376\" loading=\"lazy\" decoding=\"async\" alt=\"A Windows laptop showing the Pi-hole dashboard in a web browser\" data-img-url=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/06/pi-hole-on-laptop.jpg\" src=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/06/pi-hole-on-laptop.jpg\"/\u003e\n        \n    \u003c/picture\u003e\n                \n    \u003c/figure\u003e\n\n\n        \u003c/div\u003e\n\n\t\t\u003c/a\u003e\n\t\n\n        \n                    \u003cp\u003e\u003cspan data-field=\"label\"\u003eRelated\u003c/span\u003e\u003c/p\u003e\n                \n        \n        \n        \n            \u003c/div\u003e\n\u003ch2 id=\"because-my-smart-home-is-important\"\u003e\n            \u003cspan\u003e4 \u003c/span\u003e\n        \u003cspan\u003e\n                            Because my smart home is important\n                    \u003c/span\u003e\n       \u003c/h2\u003e\u003ch3 id=\"home-assistant-shouldn-39-t-have-a-single-point-of-failure\"\u003e\n            Home Assistant shouldn\u0026#39;t have a single point of failure\n    \u003c/h3\u003e\n\n\n\n\n    \n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                \n    \n\u003cp\u003eI use \u003ca href=\"https://www.xda-developers.com/install-home-assistant-add-ons-first/\" target=\"_blank\"\u003eHome Assistant to automate my smart home\u003c/a\u003e and bind the multiple ecosystems I\u0026#39;ve collected over the years into a cohesive mass. This works fantastically well when the VM living on my NAS is reachable by the rest of my network, but sometimes the connection to that device drops. You wouldn\u0026#39;t accept Google Home or HomeKit\u0026#39;s servers going down for any appreciable length of time, and I sure don\u0026#39;t accept my Home Assistant doing the same.\u003c/p\u003e    \u003cp\u003eBut with Keepalived, I don\u0026#39;t have to. I can keep that VM as the main server to route requests to and have a Docker container with HA on the device that has my Docker compose stack, which also has a Keepalived component to check if the VM is running. With a subscription to Home Assistant Cloud I get backups so I can easily keep parity between the two HA instances, and the few things that the Docker container can\u0026#39;t run aren\u0026#39;t essential services for me, so it\u0026#39;s okay if they\u0026#39;re unavailable for short periods until I can reboot the NAS or troubleshoot the connectivity.\u003c/p\u003e            \n    \n                    \n                        \n    \n    \n                                        \n    \n        \n    \n        \n                \n        \n    \u003cdiv data-include-community-rating=\"false\" id=\"0eeb-4602-890b8342fd49\" data-nosnippet=\"\"\u003e\n        \n        \n                        \t\n\t                \n\t\t\u003ca href=\"https://www.xda-developers.com/moved-home-assistant-from-truenas-mini-pc-proxmox/\"\u003e\n\t\n\t\u003cdiv data-img-url=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2025/05/homeassistant-jukebox-helpers.jpg\" data-modal-id=\"single-image-modal\" data-modal-container-id=\"single-image-modal-container\" data-img-caption=\"\u0026#34;\u0026#34;\"\u003e\n\n            \n\n\n\n\n\u003cfigure\u003e\n        \u003cpicture\u003e\n        \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 1024px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2025/05/homeassistant-jukebox-helpers.jpg?q=49\u0026amp;fit=crop\u0026amp;w=422\u0026amp;h=268\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2025/05/homeassistant-jukebox-helpers.jpg?q=49\u0026amp;fit=crop\u0026amp;w=422\u0026amp;h=268\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 768px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2025/05/homeassistant-jukebox-helpers.jpg?q=49\u0026amp;fit=crop\u0026amp;w=310\u0026amp;h=220\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2025/05/homeassistant-jukebox-helpers.jpg?q=49\u0026amp;fit=crop\u0026amp;w=310\u0026amp;h=220\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 481px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2025/05/homeassistant-jukebox-helpers.jpg?q=49\u0026amp;fit=crop\u0026amp;w=720\u0026amp;h=400\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2025/05/homeassistant-jukebox-helpers.jpg?q=49\u0026amp;fit=crop\u0026amp;w=720\u0026amp;h=400\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 0px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2025/05/homeassistant-jukebox-helpers.jpg?q=49\u0026amp;fit=crop\u0026amp;w=432\u0026amp;h=260\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2025/05/homeassistant-jukebox-helpers.jpg?q=49\u0026amp;fit=crop\u0026amp;w=432\u0026amp;h=260\u0026amp;dpr=2\"/\u003e\n                    \n                    \u003cimg width=\"2048\" height=\"1365\" loading=\"lazy\" decoding=\"async\" alt=\"HomeAssistant Jukebox Helpers\" data-img-url=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2025/05/homeassistant-jukebox-helpers.jpg\" src=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2025/05/homeassistant-jukebox-helpers.jpg\"/\u003e\n        \n    \u003c/picture\u003e\n                \n    \u003c/figure\u003e\n\n\n        \u003c/div\u003e\n\n\t\t\u003c/a\u003e\n\t\n\n        \n                    \u003cp\u003e\u003cspan data-field=\"label\"\u003eRelated\u003c/span\u003e\u003c/p\u003e\u003cdiv\u003e\n\n                \n                 \n                \t\n\t\n\u003ch5\u003e\n\t\n\n\t\t\t\t\t        \t\t\t\t\n\t\t\u003ca href=\"https://www.xda-developers.com/moved-home-assistant-from-truenas-mini-pc-proxmox/\" title=\"I moved my Home Assistant from TrueNAS to a mini PC running Proxmox, and I\u0026#39;m so glad I did\" target=\"_blank\"\u003e\n\t\t\tI moved my Home Assistant from TrueNAS to a mini PC running Proxmox, and I\u0026#39;m so glad I did\n\t\t\u003c/a\u003e\n\t\u003c/h5\u003e\n\n                                                    \n                \t\t\t\t\t\t\t\t\t\u003cp\u003eI moved my Home Assistant from TrueNAS to Proxmox, and it\u0026#39;s saving me energy, time, and it\u0026#39;s just all around better.\u003c/p\u003e\n\t\t\t\n\n                    \n\n\n                \n                \n                \n                \n\n                \n                \n                \n                \t\n\n\n                \n\n                \n                \n                \n            \u003c/div\u003e\n                \n        \n        \n        \n            \u003c/div\u003e\n\u003ch2 id=\"so-my-reverse-proxy-never-goes-down\"\u003e\n            \u003cspan\u003e3 \u003c/span\u003e\n        \u003cspan\u003e\n                            So my reverse proxy never goes down\n                    \u003c/span\u003e\n       \u003c/h2\u003e\u003ch3 id=\"access-is-everything-in-the-home-lab\"\u003e\n            Access is everything in the home lab\n    \u003c/h3\u003e\n\n\n\n\n    \n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                \n    \n\u003cp\u003eMy \u003ca href=\"https://www.xda-developers.com/reverse-proxies-you-should-check-out-for-your-home-network/\" target=\"_blank\"\u003ereverse proxy is the gateway\u003c/a\u003e to my stacks of self-hosted services, making it an essential part of my network architecture and a single point of failure if anything goes wrong. Most of my services are on Ubuntu or Debian-based servers, including Proxmox, because those are what I know and I want to keep the learning to the network architecture that I\u0026#39;m less familiar with. Whether I\u0026#39;m using Nginx or HAProxy as the reverse proxy, they\u0026#39;re both easy to link up with Keepalived, and all I need is three IP addresses, and to remember to change the \u003cstrong\u003epriority\u003c/strong\u003e of the two VRRP instances so that one is higher than the other.\u003c/p\u003e    \u003cpre\u003e$ sudo iptables -I INPUT -p 112 -d 224.0.0.18 -j ACCEPT\u003cbr/\u003e$ sudo iptables -I INPUT -p 51 -d 224.0.0.18 -j ACCEPT\u003c/pre\u003e    \u003cp\u003eThe first time I set this up, everything looked correct, so I couldn\u0026#39;t figure out what was going wrong. Then I found another tutorial that mentioned adding firewall rules for \u003cstrong\u003evrrp\u003c/strong\u003e and \u003cstrong\u003eah\u003c/strong\u003e (authentication) to pass through, which is trivial in Ubuntu.\u003c/p\u003e            \n    \n                    \n                        \n    \n    \n                                        \n    \n        \n    \n        \n                \n        \n    \u003cdiv data-include-community-rating=\"false\" id=\"faf0-4967-b26a13eb08d7\" data-nosnippet=\"\"\u003e\n        \n        \n                        \t\n\t                \n\t\t\u003ca href=\"https://www.xda-developers.com/how-to-set-up-nginx-reverse-proxies-in-your-home-lab/\"\u003e\n\t\n\t\u003cdiv data-img-url=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/10/proxmox-home-lab.jpg\" data-modal-id=\"single-image-modal\" data-modal-container-id=\"single-image-modal-container\" data-img-caption=\"\u0026#34;\u0026#34;\"\u003e\n\n            \n\n\n\n\n\u003cfigure\u003e\n        \u003cpicture\u003e\n        \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 1024px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/10/proxmox-home-lab.jpg?q=49\u0026amp;fit=crop\u0026amp;w=422\u0026amp;h=268\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/10/proxmox-home-lab.jpg?q=49\u0026amp;fit=crop\u0026amp;w=422\u0026amp;h=268\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 768px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/10/proxmox-home-lab.jpg?q=49\u0026amp;fit=crop\u0026amp;w=310\u0026amp;h=220\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/10/proxmox-home-lab.jpg?q=49\u0026amp;fit=crop\u0026amp;w=310\u0026amp;h=220\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 481px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/10/proxmox-home-lab.jpg?q=49\u0026amp;fit=crop\u0026amp;w=720\u0026amp;h=400\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/10/proxmox-home-lab.jpg?q=49\u0026amp;fit=crop\u0026amp;w=720\u0026amp;h=400\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 0px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/10/proxmox-home-lab.jpg?q=49\u0026amp;fit=crop\u0026amp;w=432\u0026amp;h=260\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/10/proxmox-home-lab.jpg?q=49\u0026amp;fit=crop\u0026amp;w=432\u0026amp;h=260\u0026amp;dpr=2\"/\u003e\n                    \n                    \u003cimg width=\"3840\" height=\"2160\" loading=\"lazy\" decoding=\"async\" alt=\"A Proxmox home lab setup\" data-img-url=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/10/proxmox-home-lab.jpg\" src=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/10/proxmox-home-lab.jpg\"/\u003e\n        \n    \u003c/picture\u003e\n                \n    \u003c/figure\u003e\n\n\n        \u003c/div\u003e\n\n\t\t\u003c/a\u003e\n\t\n\n        \n                    \u003cp\u003e\u003cspan data-field=\"label\"\u003eRelated\u003c/span\u003e\u003c/p\u003e\n                \n        \n        \n        \n            \u003c/div\u003e\n\u003ch2 id=\"so-my-vpn-never-goes-down\"\u003e\n            \u003cspan\u003e2 \u003c/span\u003e\n        \u003cspan\u003e\n                            So my VPN never goes down\n                    \u003c/span\u003e\n       \u003c/h2\u003e\u003ch3 id=\"having-your-services-go-down-when-you-39-re-at-home-is-bad-enough\"\u003e\n            Having your services go down when you\u0026#39;re at home is bad enough\n    \u003c/h3\u003e\n\n                \n    \n    \n    \n                \n    \n                \n        \n                                                            \n                                                                                                                        \n                                        \n    \n    \n    \n    \n    \u003cdiv data-img-url=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/05/enable-https-with-free-tls-certificates-from-tailscale.jpeg\" data-modal-id=\"single-image-modal\" data-modal-container-id=\"single-image-modal-container\" data-img-caption=\"\u0026#34;\u0026#34;\"\u003e\n\n            \n\n\n\n\n\u003cfigure\u003e\n        \u003cpicture\u003e\n        \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 1024px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/05/enable-https-with-free-tls-certificates-from-tailscale.jpeg?q=49\u0026amp;fit=crop\u0026amp;w=825\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/05/enable-https-with-free-tls-certificates-from-tailscale.jpeg?q=49\u0026amp;fit=crop\u0026amp;w=825\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 768px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/05/enable-https-with-free-tls-certificates-from-tailscale.jpeg?q=49\u0026amp;fit=crop\u0026amp;w=825\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/05/enable-https-with-free-tls-certificates-from-tailscale.jpeg?q=49\u0026amp;fit=crop\u0026amp;w=825\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 481px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/05/enable-https-with-free-tls-certificates-from-tailscale.jpeg?q=49\u0026amp;fit=crop\u0026amp;w=800\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/05/enable-https-with-free-tls-certificates-from-tailscale.jpeg?q=49\u0026amp;fit=crop\u0026amp;w=800\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 0px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/05/enable-https-with-free-tls-certificates-from-tailscale.jpeg?q=49\u0026amp;fit=crop\u0026amp;w=500\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/05/enable-https-with-free-tls-certificates-from-tailscale.jpeg?q=49\u0026amp;fit=crop\u0026amp;w=500\u0026amp;dpr=2\"/\u003e\n                    \n                    \u003cimg width=\"2489\" height=\"1400\" loading=\"lazy\" decoding=\"async\" alt=\"A person checking a website\u0026#39;s TLS certificate in a browser on a laptop\" data-img-url=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/05/enable-https-with-free-tls-certificates-from-tailscale.jpeg\" src=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2025/05/enable-https-with-free-tls-certificates-from-tailscale.jpeg\"/\u003e\n        \n    \u003c/picture\u003e\n                                    \n    \u003c/figure\u003e\n\n\n        \u003c/div\u003e\n\u003cp\u003e Remote access to my network and home lab is essential to my architecture. But that carefully crafted chain of connections is useless if the server running OpenVPN goes down. If I\u0026#39;m using OpenVPN for any reason, I have it running on two servers, with them bound to the VIP IP in Keepalived and their own IP, which makes the secondary server work as the main when the link goes down for any reason.\u003c/p\u003e    \u003cpre\u003e\u003cspan\u003eThat means my VPN server is always available. And if the worst happens and two servers on my home network go down, I have bigger issues than being unable to log in remotely. I could do something similar\u003c/span\u003e\u003ca href=\"https://www.xda-developers.com/alternative-to-tailscale-or-nginx-remote-access-home-lab/\" target=\"_blank\"\u003ewith Pangolin\u003c/a\u003e\u003cspan\u003e, but I\u0026#39;d still have the same issue with the IP addresses Pangolin is mapped to going down. At least, unless I run Keepalived on all of those services as well. I think eventually I\u0026#39;ll have synced app servers behind two HAProxy instances and Keepalived so that everything has the best chance of high uptime, but that\u0026#39;s a bit in the future as I plan future purchases.\u003c/span\u003e\u003c/pre\u003e            \n    \n                    \n                        \n    \n    \n                                        \n    \n        \n    \n        \n                \n        \n    \u003cdiv data-include-community-rating=\"false\" id=\"9bc1-4cc7-a88754e90235\" data-nosnippet=\"\"\u003e\n        \n        \n                        \t\n\t                \n\t\t\u003ca href=\"https://www.xda-developers.com/tailscale-pangolin-zerotier-netbird-remotely-access-home-lab/\"\u003e\n\t\n\t\u003cdiv data-img-url=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2024/09/server_cabinet_-25680506307.jpg\" data-modal-id=\"single-image-modal\" data-modal-container-id=\"single-image-modal-container\" data-img-caption=\"\u0026#34;\u0026#34;\"\u003e\n\n            \n\n\n\n\n\u003cfigure\u003e\n        \u003cpicture\u003e\n        \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 1024px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2024/09/server_cabinet_-25680506307.jpg?q=49\u0026amp;fit=crop\u0026amp;w=422\u0026amp;h=268\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2024/09/server_cabinet_-25680506307.jpg?q=49\u0026amp;fit=crop\u0026amp;w=422\u0026amp;h=268\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 768px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2024/09/server_cabinet_-25680506307.jpg?q=49\u0026amp;fit=crop\u0026amp;w=310\u0026amp;h=220\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2024/09/server_cabinet_-25680506307.jpg?q=49\u0026amp;fit=crop\u0026amp;w=310\u0026amp;h=220\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 481px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2024/09/server_cabinet_-25680506307.jpg?q=49\u0026amp;fit=crop\u0026amp;w=720\u0026amp;h=400\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2024/09/server_cabinet_-25680506307.jpg?q=49\u0026amp;fit=crop\u0026amp;w=720\u0026amp;h=400\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 0px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2024/09/server_cabinet_-25680506307.jpg?q=49\u0026amp;fit=crop\u0026amp;w=432\u0026amp;h=260\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2024/09/server_cabinet_-25680506307.jpg?q=49\u0026amp;fit=crop\u0026amp;w=432\u0026amp;h=260\u0026amp;dpr=2\"/\u003e\n                    \n                    \u003cimg width=\"5960\" height=\"3867\" loading=\"lazy\" decoding=\"async\" alt=\"A small homelab in a rack-mount chasis.\" data-img-url=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2024/09/server_cabinet_-25680506307.jpg\" src=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/2024/09/server_cabinet_-25680506307.jpg\"/\u003e\n        \n    \u003c/picture\u003e\n                \n    \u003c/figure\u003e\n\n\n        \u003c/div\u003e\n\n\t\t\u003c/a\u003e\n\t\n\n        \n                    \u003cp\u003e\u003cspan data-field=\"label\"\u003eRelated\u003c/span\u003e\u003c/p\u003e\n                \n        \n        \n        \n            \u003c/div\u003e\n\u003ch2 id=\"to-easily-manage-my-proxmox-cluster\"\u003e\n            \u003cspan\u003e1 \u003c/span\u003e\n        \u003cspan\u003e\n                            To easily manage my Proxmox cluster\n                    \u003c/span\u003e\n       \u003c/h2\u003e\u003ch3 id=\"ha-failover-is-too-slow-and-virtual-ips-are-clutch\"\u003e\n            HA failover is too slow, and virtual IPs are clutch\n    \u003c/h3\u003e\n\n\n\n\n    \n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                \n    \n\u003cp\u003eSetting up a HA Proxmox cluster is a fantastic way of ensuring your containers and VMs are always available to users, but what about when you need to do administration tasks on the Proxmox nodes? If one is down, you need to know which one so you can use one of the other nodes, but it\u0026#39;s my opinion that admin tasks should be set up so they\u0026#39;re as frictionless as possible.\u003c/p\u003e    \u003cp\u003e\u003ca href=\"https://forum.proxmox.com/threads/using-keepalived-to-access-the-cluster-wi-over-a-single-ip.154684/\" rel=\"noopener noreferrer\" target=\"_blank\"\u003eSetting up Keepalived\u003c/a\u003e to access the cluster with a single virtual IP means less time wasted when I need to change something. It\u0026#39;ll always log into the active node, which is nice and easy. It might only be a few seconds every time I have to log in, but that adds up over time, and I will be using this cluster for a long time.\u003c/p\u003e            \n    \n                    \n                        \n    \n    \n                                        \n    \n        \n    \n        \n                \n        \n    \u003cdiv data-include-community-rating=\"false\" id=\"a050-4fc5-b1473281c6a8\" data-nosnippet=\"\"\u003e\n        \n        \n                        \t\n\t                \n\t\t\u003ca href=\"https://www.xda-developers.com/proxmox-cluster-guide/\"\u003e\n\t\n\t\u003cdiv data-img-url=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/09/proxmox-cluster.jpg\" data-modal-id=\"single-image-modal\" data-modal-container-id=\"single-image-modal-container\" data-img-caption=\"\u0026#34;\u0026#34;\"\u003e\n\n            \n\n\n\n\n\u003cfigure\u003e\n        \u003cpicture\u003e\n        \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 1024px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/09/proxmox-cluster.jpg?q=49\u0026amp;fit=crop\u0026amp;w=422\u0026amp;h=268\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/09/proxmox-cluster.jpg?q=49\u0026amp;fit=crop\u0026amp;w=422\u0026amp;h=268\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 768px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/09/proxmox-cluster.jpg?q=49\u0026amp;fit=crop\u0026amp;w=310\u0026amp;h=220\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/09/proxmox-cluster.jpg?q=49\u0026amp;fit=crop\u0026amp;w=310\u0026amp;h=220\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 481px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/09/proxmox-cluster.jpg?q=49\u0026amp;fit=crop\u0026amp;w=720\u0026amp;h=400\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/09/proxmox-cluster.jpg?q=49\u0026amp;fit=crop\u0026amp;w=720\u0026amp;h=400\u0026amp;dpr=2\"/\u003e\n                    \n                                        \n                                    \n                                                                                                                                                                            \n            \n                                                \n                        \n            \n            \n                                        \n                                        \u003csource media=\"(min-width: 0px)\" data-srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/09/proxmox-cluster.jpg?q=49\u0026amp;fit=crop\u0026amp;w=432\u0026amp;h=260\u0026amp;dpr=2\" srcset=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/09/proxmox-cluster.jpg?q=49\u0026amp;fit=crop\u0026amp;w=432\u0026amp;h=260\u0026amp;dpr=2\"/\u003e\n                    \n                    \u003cimg width=\"2240\" height=\"1260\" loading=\"lazy\" decoding=\"async\" alt=\"A Proxmox cluster consisting of two nodes\" data-img-url=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/09/proxmox-cluster.jpg\" src=\"https://static1.xdaimages.com/wordpress/wp-content/uploads/wm/2024/09/proxmox-cluster.jpg\"/\u003e\n        \n    \u003c/picture\u003e\n                \n    \u003c/figure\u003e\n\n\n        \u003c/div\u003e\n\n\t\t\u003c/a\u003e\n\t\n\n        \n                    \u003cp\u003e\u003cspan data-field=\"label\"\u003eRelated\u003c/span\u003e\u003c/p\u003e\u003cdiv\u003e\n\n                \n                 \n                \t\n\t\n\u003ch5\u003e\n\t\n\n\t\t\t\t\t        \t\t\t\t\n\t\t\u003ca href=\"https://www.xda-developers.com/proxmox-cluster-guide/\" title=\"This is how you build a Proxmox cluster\" target=\"_blank\"\u003e\n\t\t\tThis is how you build a Proxmox cluster\n\t\t\u003c/a\u003e\n\t\u003c/h5\u003e\n\n                                                    \n                \t\t\t\t\t\t\t\t\t\u003cp\u003eWhy restrict yourself to a single node when you can build an entire cluster from your Proxmox servers?\u003c/p\u003e\n\t\t\t\n\n                    \n\n\n                \n                \n                \n                \n\n                \n                \n                \n                \t\n\n\n                \n\n                \n                \n                \n            \u003c/div\u003e\n                \n        \n        \n        \n            \u003c/div\u003e\n\u003ch3 id=\"i-39-d-run-keepalived-on-everything-if-i-could\"\u003e\n            I\u0026#39;d run Keepalived on everything (if I could)\n    \u003c/h3\u003e\n\u003cp\u003eI\u0026#39;ve also recently moved my firewall to OPNsense, and Keepalived doesn\u0026#39;t quite work in that situation. That\u0026#39;s only because OPNsense has CARP built in, so you can quickly make a cluster with failover, without any additional tools. If it didn\u0026#39;t, I\u0026#39;d have to figure out how to set failover up, plus sync settings between the two firewalls. Ideally I\u0026#39;d love every service or server I run to have native clustering so that I didn\u0026#39;t need additional installations, but Keepalived will do the job until then.\u003c/p\u003e    \u003c/div\u003e\u003c/div\u003e",
  "readingTime": "29 min read",
  "publishedTime": "2025-06-30T00:00:21Z",
  "modifiedTime": "2025-06-30T00:00:21Z"
}

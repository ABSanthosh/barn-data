{
  "id": "f9194ec1-57af-4b65-974b-2d3d422a21f1",
  "title": "Instant macOS install on Proxmox including AMD patches",
  "link": "https://github.com/luchina-gabriel/OSX-PROXMOX",
  "description": "Article URL: https://github.com/luchina-gabriel/OSX-PROXMOX Comments URL: https://news.ycombinator.com/item?id=42392660 Points: 80 # Comments: 20",
  "author": "goodburb",
  "published": "Wed, 11 Dec 2024 20:36:19 +0000",
  "source": "https://hnrss.org/frontpage",
  "categories": null,
  "byline": "luchina-gabriel",
  "length": 3929,
  "excerpt": "Voilà, install macOS on ANY Computer! This is really and magic easiest way! - luchina-gabriel/OSX-PROXMOX",
  "siteName": "GitHub",
  "favicon": "https://github.com/fluidicon.png",
  "text": "OSX-PROXMOX - Run macOS on ANY Computer - AMD \u0026 Intel Install ** FRESH/CLEAN ** Proxmox VE v7.0.XX ~ 8.2.XX - Next, Next \u0026 Finish (NNF). Open Proxmox Web Console -\u003e Datacenter \u003e NAME OF YOUR HOST \u003e Shell. Copy, paste and execute (code below). Voilà, install macOS! This is really and magic easiest way! COPY \u0026 PASTE - in shell of Proxmox (for Install or Update this solution) /bin/bash -c \"$(curl -fsSL https://install.osx-proxmox.com)\" For install EFI Package in macOS, first disable Gatekeeper sudo spctl --master-disable Versions of macOS Supported macOS High Sierra - 10.13 macOS Mojave - 10.14 macOS Catalina - 10.15 macOS Big Sur - 11 macOS Monterey - 12 macOS Ventura - 13 macOS Sonoma - 14 macOS Sequoia - 15 Versions of Proxmox VE Supported v7.0.XX ~ 8.2.XX Opencore version Oct/2024 - 1.0.2 Added support to macOS Sequoia Cloud Support (Yes, install your Hackintosh in Cloud Environment) VultR Vídeo/Tutorial, please activate captions! Disclaimer FOR DEV/STUDENT/TEST ONLY PURPOSES. I'm not responsible for any problem and/or equipment damage or loss of files. Always back up everything before any changes to your computer. Requirements Since Monterey, your host must have a working TSC (timestamp counter), because otherwise if you give the VM more than one core, macOS will observe the skew between cores and kernel/memory panic when it sees time ticking backwards. To check this, on Proxmox run: dmesg | grep -i -e tsc -e clocksource ... # for working host must be: ... clocksource: Switched to clocksource tsc ... # for broken host could be: tsc: Marking TSC unstable due to check_tsc_sync_source failed clocksource: Switched to clocksource hpet Below is a possible workaround from here: https://www.nicksherlock.com/2022/10/installing-macos-13-ventura-on-proxmox/comment-page-1/#comment-55532 Try to turn off “ErP mode” or any C state power saving modes your BIOS supports and poweroff/poweron device (including physical cable). It could help host OS to init TSC correctly, but no guarantee. Or try to activate TSC force in GRUB by adding boot flags clocksource=tsc tsc=reliable in the GRUB_CMDLINE_LINUX_DEFAULT and call update-grub. In this case host OS probably could work unstable in some cases. Check the current TSC by call cat /sys/devices/system/clocksource/clocksource0/current_clocksource must be tsc. Troubleshooting High Siearra and below installation issues To solve error The Recovery Server Could Not Be Contacted you need to change the protocol from https:// to http://. To do this, follow: start installation and get error The Recovery Server Could Not Be Contacted, hold the window with error opened open Window -\u003e Installer Log search for the line \"Failed to load catalog\" -\u003e select line in log windows -\u003e Edit -Copy close the error message and return to macOS Utilities window open Utilities -\u003e Terminal, right click -\u003e paste edit the pasted data, remove everything except URL, like https://blablabla.sucatalog change https -\u003e http adjust the command to be like: nvram IASUCatalogURL=\"\" press enter, quit Terminal and try to start installation again After this, no additional ISO needed, HighSierra must be installed well from recovey. Here a sample how need to change the error message to the final URL: nIUvram IASUCatalogURL=\"http://swscan.apple.com/content/catalogs/others/index-10.13-10.12-10.11-10.10-10.9-mountainlion-lion-snowleopard-leopard.merged-1.sucatalog\" The solution took from here: https://mrmacintosh.com/how-to-fix-the-recovery-server-could-not-be-contacted-error-high-sierra-recovery-is-still-online-but-broken/ Demonstration (in Portuguese/Brazil) https://youtu.be/dil6iRWiun0 * Please use CC with Auto Translate to English for your convenience. Credits Opencore/Acidanthera Team Corpnewt for Applications (ProperTree, genSMBIOS, etc) Apple for macOS Proxmox - Excelent and better documentation for Virtualization Discord - Universo Hackintosh Discord",
  "image": "https://opengraph.githubassets.com/5a96f93655896f20b4fc6681e5681426ceb086654f92ab839170d7db0d94192a/luchina-gabriel/OSX-PROXMOX",
  "html": "\u003cdiv id=\"readability-page-1\" class=\"page\"\u003e\u003cdiv data-hpc=\"true\"\u003e\u003carticle itemprop=\"text\"\u003e\u003cp dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" dir=\"auto\"\u003eOSX-PROXMOX - Run macOS on ANY Computer - AMD \u0026amp; Intel\u003c/h2\u003e\u003ca id=\"user-content-osx-proxmox---run-macos-on-any-computer---amd--intel\" aria-label=\"Permalink: OSX-PROXMOX - Run macOS on ANY Computer - AMD \u0026amp; Intel\" href=\"#osx-proxmox---run-macos-on-any-computer---amd--intel\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eInstall \u003ccode\u003e** FRESH/CLEAN **\u003c/code\u003e Proxmox VE v7.0.XX ~ 8.2.XX - Next, Next \u0026amp; Finish (NNF).\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eOpen Proxmox Web Console -\u0026gt; Datacenter \u0026gt; NAME OF YOUR HOST \u0026gt; Shell.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eCopy, paste and execute (code below).\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eVoilà, install macOS! This is really and magic \u003cstrong\u003eeasiest way\u003c/strong\u003e!\n\u003ca target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/luchina-gabriel/OSX-PROXMOX/blob/main/Artefacts/proxmox-screen.png\"\u003e\u003cimg src=\"https://github.com/luchina-gabriel/OSX-PROXMOX/raw/main/Artefacts/proxmox-screen.png\" alt=\"overview\"/\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" dir=\"auto\"\u003eCOPY \u0026amp; PASTE - in shell of Proxmox (for Install or Update this solution)\u003c/h2\u003e\u003ca id=\"user-content-copy--paste---in-shell-of-proxmox-for-install-or-update-this-solution\" aria-label=\"Permalink: COPY \u0026amp; PASTE - in shell of Proxmox (for Install or Update this solution)\" href=\"#copy--paste---in-shell-of-proxmox-for-install-or-update-this-solution\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv data-snippet-clipboard-copy-content=\"/bin/bash -c \u0026#34;$(curl -fsSL https://install.osx-proxmox.com)\u0026#34;\"\u003e\u003cpre\u003e\u003ccode\u003e/bin/bash -c \u0026#34;$(curl -fsSL https://install.osx-proxmox.com)\u0026#34;\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" dir=\"auto\"\u003eFor install EFI Package in macOS, first disable Gatekeeper\u003c/h2\u003e\u003ca id=\"user-content-for-install-efi-package-in-macos-first-disable-gatekeeper\" aria-label=\"Permalink: For install EFI Package in macOS, first disable Gatekeeper\" href=\"#for-install-efi-package-in-macos-first-disable-gatekeeper\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv data-snippet-clipboard-copy-content=\"sudo spctl --master-disable\"\u003e\u003cpre\u003e\u003ccode\u003esudo spctl --master-disable\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" dir=\"auto\"\u003eVersions of macOS Supported\u003c/h2\u003e\u003ca id=\"user-content-versions-of-macos-supported\" aria-label=\"Permalink: Versions of macOS Supported\" href=\"#versions-of-macos-supported\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003emacOS High Sierra - 10.13\u003c/li\u003e\n\u003cli\u003emacOS Mojave - 10.14\u003c/li\u003e\n\u003cli\u003emacOS Catalina - 10.15\u003c/li\u003e\n\u003cli\u003emacOS Big Sur - 11\u003c/li\u003e\n\u003cli\u003emacOS Monterey - 12\u003c/li\u003e\n\u003cli\u003emacOS Ventura - 13\u003c/li\u003e\n\u003cli\u003emacOS Sonoma - 14\u003c/li\u003e\n\u003cli\u003emacOS Sequoia - 15\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" dir=\"auto\"\u003eVersions of Proxmox VE Supported\u003c/h2\u003e\u003ca id=\"user-content-versions-of-proxmox-ve-supported\" aria-label=\"Permalink: Versions of Proxmox VE Supported\" href=\"#versions-of-proxmox-ve-supported\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003ev7.0.XX ~ 8.2.XX\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" dir=\"auto\"\u003eOpencore version\u003c/h2\u003e\u003ca id=\"user-content-opencore-version\" aria-label=\"Permalink: Opencore version\" href=\"#opencore-version\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eOct/2024 - 1.0.2 Added support to macOS Sequoia\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" dir=\"auto\"\u003eCloud Support (Yes, install your Hackintosh in Cloud Environment)\u003c/h2\u003e\u003ca id=\"user-content-cloud-support-yes-install-your-hackintosh-in-cloud-environment\" aria-label=\"Permalink: Cloud Support (Yes, install your Hackintosh in Cloud Environment)\" href=\"#cloud-support-yes-install-your-hackintosh-in-cloud-environment\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"https://www.vultr.com/?ref=9035565-8H\" rel=\"nofollow\"\u003eVultR\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://youtu.be/8QsMyL-PNrM\" rel=\"nofollow\"\u003eVídeo/Tutorial\u003c/a\u003e, please activate captions!\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" dir=\"auto\"\u003eDisclaimer\u003c/h2\u003e\u003ca id=\"user-content-disclaimer\" aria-label=\"Permalink: Disclaimer\" href=\"#disclaimer\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eFOR DEV/STUDENT/TEST ONLY PURPOSES.\u003c/li\u003e\n\u003cli\u003eI\u0026#39;m not responsible for any problem and/or equipment damage or loss of files.\u003c/li\u003e\n\u003cli\u003eAlways back up everything before any changes to your computer.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" dir=\"auto\"\u003eRequirements\u003c/h2\u003e\u003ca id=\"user-content-requirements\" aria-label=\"Permalink: Requirements\" href=\"#requirements\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eSince Monterey, your host must have a working TSC (timestamp counter), because otherwise if you give the VM more than one core, macOS will observe the skew between cores and \u003cstrong\u003ekernel/memory panic\u003c/strong\u003e when it sees time ticking backwards. To check this, on Proxmox run:\u003c/p\u003e\n\u003cdiv data-snippet-clipboard-copy-content=\"dmesg | grep -i -e tsc -e clocksource\n...\n# for working host must be:\n...\nclocksource: Switched to clocksource tsc\n...\n\n# for broken host could be:\ntsc: Marking TSC unstable due to check_tsc_sync_source failed\nclocksource: Switched to clocksource hpet\"\u003e\u003cpre\u003e\u003ccode\u003edmesg | grep -i -e tsc -e clocksource\n...\n# for working host must be:\n...\nclocksource: Switched to clocksource tsc\n...\n\n# for broken host could be:\ntsc: Marking TSC unstable due to check_tsc_sync_source failed\nclocksource: Switched to clocksource hpet\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eBelow is a possible workaround from here: \u003ca href=\"https://www.nicksherlock.com/2022/10/installing-macos-13-ventura-on-proxmox/comment-page-1/#comment-55532\" rel=\"nofollow\"\u003ehttps://www.nicksherlock.com/2022/10/installing-macos-13-ventura-on-proxmox/comment-page-1/#comment-55532\u003c/a\u003e\u003c/p\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003eTry to turn off “ErP mode” or any C state power saving modes your BIOS supports and poweroff/poweron device (including physical cable). It could help host OS to init TSC correctly, but no guarantee.\u003c/li\u003e\n\u003cli\u003eOr try to activate TSC force in GRUB by adding boot flags \u003ccode\u003eclocksource=tsc tsc=reliable\u003c/code\u003e in the \u003ccode\u003eGRUB_CMDLINE_LINUX_DEFAULT\u003c/code\u003e and call \u003ccode\u003eupdate-grub\u003c/code\u003e. In this case host OS probably could work unstable in some cases.\u003c/li\u003e\n\u003cli\u003eCheck the current TSC by call \u003ccode\u003ecat /sys/devices/system/clocksource/clocksource0/current_clocksource\u003c/code\u003e must be \u003ccode\u003etsc\u003c/code\u003e.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" dir=\"auto\"\u003eTroubleshooting\u003c/h2\u003e\u003ca id=\"user-content-troubleshooting\" aria-label=\"Permalink: Troubleshooting\" href=\"#troubleshooting\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" dir=\"auto\"\u003eHigh Siearra and below installation issues\u003c/h3\u003e\u003ca id=\"user-content-high-siearra-and-below-installation-issues\" aria-label=\"Permalink: High Siearra and below installation issues\" href=\"#high-siearra-and-below-installation-issues\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eTo solve error \u003cem\u003eThe Recovery Server Could Not Be Contacted\u003c/em\u003e you need to change the protocol from \u003ccode\u003ehttps://\u003c/code\u003e to \u003ccode\u003ehttp://\u003c/code\u003e. To do this, follow:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003estart installation and get error \u003cem\u003eThe Recovery Server Could Not Be Contacted\u003c/em\u003e, hold the window with error opened\u003c/li\u003e\n\u003cli\u003eopen Window -\u0026gt; Installer Log\u003c/li\u003e\n\u003cli\u003esearch for the line \u0026#34;Failed to load catalog\u0026#34; -\u0026gt; select line in log windows -\u0026gt; Edit -Copy\u003c/li\u003e\n\u003cli\u003eclose the error message and return to \u003ccode\u003emacOS Utilities\u003c/code\u003e window\u003c/li\u003e\n\u003cli\u003eopen Utilities -\u0026gt; Terminal, right click -\u0026gt; paste\u003c/li\u003e\n\u003cli\u003eedit the pasted data, remove everything except URL, like \u003ccode\u003ehttps://blablabla.sucatalog\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003echange https -\u0026gt; http\u003c/li\u003e\n\u003cli\u003eadjust the command to be like: nvram IASUCatalogURL=\u0026#34;\u0026#34;\u003c/li\u003e\n\u003cli\u003epress enter, quit Terminal and try to start installation again\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003eAfter this, no additional ISO needed, HighSierra must be installed well from recovey.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eHere a sample how need to change the error message to the final URL:\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003enIUvram IASUCatalogURL=\u0026#34;http://swscan.apple.com/content/catalogs/others/index-10.13-10.12-10.11-10.10-10.9-mountainlion-lion-snowleopard-leopard.merged-1.sucatalog\u0026#34;\u003c/code\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eThe solution took from here: \u003ca href=\"https://mrmacintosh.com/how-to-fix-the-recovery-server-could-not-be-contacted-error-high-sierra-recovery-is-still-online-but-broken/\" rel=\"nofollow\"\u003ehttps://mrmacintosh.com/how-to-fix-the-recovery-server-could-not-be-contacted-error-high-sierra-recovery-is-still-online-but-broken/\u003c/a\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" dir=\"auto\"\u003eDemonstration (in Portuguese/Brazil)\u003c/h2\u003e\u003ca id=\"user-content-demonstration-in-portuguesebrazil\" aria-label=\"Permalink: Demonstration (in Portuguese/Brazil)\" href=\"#demonstration-in-portuguesebrazil\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://youtu.be/dil6iRWiun0\" rel=\"nofollow\"\u003ehttps://youtu.be/dil6iRWiun0\u003c/a\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e* Please use CC with Auto Translate to English for your convenience.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" dir=\"auto\"\u003eCredits\u003c/h2\u003e\u003ca id=\"user-content-credits\" aria-label=\"Permalink: Credits\" href=\"#credits\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eOpencore/Acidanthera Team\u003c/li\u003e\n\u003cli\u003eCorpnewt for Applications (ProperTree, genSMBIOS, etc)\u003c/li\u003e\n\u003cli\u003eApple for macOS\u003c/li\u003e\n\u003cli\u003eProxmox - Excelent and better documentation for Virtualization\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" dir=\"auto\"\u003eDiscord - Universo Hackintosh\u003c/h2\u003e\u003ca id=\"user-content-discord---universo-hackintosh\" aria-label=\"Permalink: Discord - Universo Hackintosh\" href=\"#discord---universo-hackintosh\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"https://discord.universohackintosh.com.br\" rel=\"nofollow\"\u003eDiscord\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/article\u003e\u003c/div\u003e\u003c/div\u003e",
  "readingTime": "5 min read",
  "publishedTime": null,
  "modifiedTime": null
}

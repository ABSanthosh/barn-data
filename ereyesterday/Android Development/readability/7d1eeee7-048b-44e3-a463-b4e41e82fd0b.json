{
  "id": "7d1eeee7-048b-44e3-a463-b4e41e82fd0b",
  "title": "Widgets with Glance: Blending in",
  "link": "https://proandroiddev.com/widgets-with-glance-blending-in-ae1e52a6cb6f?source=rss----c72404660798---4",
  "description": "",
  "author": "Katie Barnett",
  "published": "Wed, 30 Oct 2024 23:03:05 GMT",
  "source": "https://proandroiddev.com/feed",
  "categories": [
    "android-development",
    "android",
    "jetpack-compose",
    "jetpack-glance",
    "androiddev"
  ],
  "byline": "Katie Barnett",
  "length": 2083,
  "excerpt": "Use dynamic colors from your wallpaper in your Widget GlanceTheme to make your widget look great on every home screen.",
  "siteName": "ProAndroidDev",
  "favicon": "https://miro.medium.com/v2/resize:fill:256:256/1*A8VytPZQhvUf_MG6hm_Dlw.png",
  "text": "If you haven’t looked into Glance theming, it is pretty easy to set up. It is just the same as Material Design 3 theming where you can provide a custom set of colors to style your widget to match your app branding.In this basic set up, we have the app color scheme lightScheme and darkScheme provided as ColorProviders (using androidx.glance:glance-material3) to GlanceTheme which will set the custom color scheme for the widget.To use this, wrap the content by the GlanceTheme and the widget will use the app branding.Just a little widget to motivate your every day.Now, this would look a lot better on this background with coordinating colors rather than the purple app branding which clashes with this particular wallpaper.For this, we need to use the dynamic system color theming available for some devices (manufacturer depending) with Android 12 and above. If you haven’t yet played with the system theming, you just need to long press on the wallpaper and select ‘Wallpaper \u0026 style’. Here you can select a color theme to match your wallpaper or personal preference.This is what sets the colors for your themed app icons!To use this color theme, just update your GlanceTheme definition to use GlanceTheme.colors for supported versions of Android:For non supported devices, the app branding will be used. Now the widget blends nicely with the background without the jarring purple theming.Not quite camouflage, but better.You may notice that it still doesn’t match the themed app icons. In the example above the background is using GlanceTheme.colors.background for the background and GlanceTheme.colors.onBackground for the foreground text and icon. If you want to match the themed app icons for your widget then use GlanceTheme.colors.widgetBackground for the background and GlanceTheme.colors.primary for the foreground.From standing out to blending in. Perfect!To see a full example, see my sample widget app:Do you want your widget to stand out from the background with custom colours depending on the wallpaper? Check out my other article Widgets with Glance: Standing out",
  "image": "https://miro.medium.com/v2/resize:fit:1200/1*1RKuGEZI9txSA9Vnjatzew.jpeg",
  "html": "\u003cdiv id=\"readability-page-1\" class=\"page\"\u003e\u003cdiv\u003e\u003cp id=\"f154\"\u003eIf you haven’t looked into \u003ca href=\"https://developer.android.com/develop/ui/compose/glance/theme\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eGlance theming\u003c/a\u003e, it is pretty easy to set up. It is just the same as \u003ca href=\"https://developer.android.com/develop/ui/compose/designsystems/material3\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eMaterial Design 3\u003c/a\u003e theming where you can provide a custom set of colors to style your widget to match your app branding.\u003c/p\u003e\u003cfigure\u003e\u003c/figure\u003e\u003cp id=\"1b09\"\u003eIn this basic set up, we have the app color scheme \u003ccode\u003elightScheme\u003c/code\u003e and \u003ccode\u003edarkScheme\u003c/code\u003e provided as \u003ccode\u003eColorProviders\u003c/code\u003e (using \u003ccode\u003eandroidx.glance:glance-material3\u003c/code\u003e) to \u003ccode\u003eGlanceTheme\u003c/code\u003e which will set the custom color scheme for the widget.\u003c/p\u003e\u003cp id=\"fbee\"\u003eTo use this, wrap the content by the \u003ccode\u003eGlanceTheme\u003c/code\u003e and the widget will use the app branding.\u003c/p\u003e\u003cfigure\u003e\u003cfigcaption\u003eJust a little widget to motivate your every day.\u003c/figcaption\u003e\u003c/figure\u003e\u003cp id=\"d2fd\"\u003eNow, this would look a lot better on this background with coordinating colors rather than the purple app branding which clashes with this particular wallpaper.\u003c/p\u003e\u003cp id=\"1a00\"\u003eFor this, we need to use the dynamic system color theming available for some devices (manufacturer depending) with \u003ca href=\"https://www.android.com/intl/en_au/android-12/#a12-color-reimagined\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eAndroid 12 and above\u003c/a\u003e. If you haven’t yet played with the system theming, you just need to long press on the wallpaper and select ‘Wallpaper \u0026amp; style’. Here you can select a color theme to match your wallpaper or personal preference.\u003c/p\u003e\u003cfigure\u003e\u003cfigcaption\u003eThis is what sets the colors for your \u003ca href=\"https://medium.com/proandroiddev/its-time-for-an-app-icon-makeover-107ccbb506eb\" rel=\"noopener\"\u003ethemed app icons\u003c/a\u003e!\u003c/figcaption\u003e\u003c/figure\u003e\u003cp id=\"eaa8\"\u003eTo use this color theme, just update your \u003ccode\u003eGlanceTheme\u003c/code\u003e definition to use \u003ccode\u003eGlanceTheme.colors\u003c/code\u003e for supported versions of Android:\u003c/p\u003e\u003cfigure\u003e\u003c/figure\u003e\u003cp id=\"7c2e\"\u003eFor non supported devices, the app branding will be used. Now the widget blends nicely with the background without the jarring purple theming.\u003c/p\u003e\u003cfigure\u003e\u003cfigcaption\u003eNot quite camouflage, but better.\u003c/figcaption\u003e\u003c/figure\u003e\u003cp id=\"c851\"\u003eYou may notice that it still doesn’t match the themed app icons. In the example above the background is using \u003ccode\u003eGlanceTheme.colors.background\u003c/code\u003e for the background and \u003ccode\u003eGlanceTheme.colors.onBackground\u003c/code\u003e for the foreground text and icon. If you want to match the themed app icons for your widget then use \u003ccode\u003eGlanceTheme.colors.widgetBackground\u003c/code\u003e for the background and \u003ccode\u003eGlanceTheme.colors.primary\u003c/code\u003e for the foreground.\u003c/p\u003e\u003cfigure\u003e\u003cfigcaption\u003eFrom standing out to blending in. Perfect!\u003c/figcaption\u003e\u003c/figure\u003e\u003cp id=\"de36\"\u003eTo see a full example, see my \u003ca href=\"https://github.com/KatieBarnett/MotivateMe/tree/workshop/Activity-11\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003esample widget app\u003c/a\u003e:\u003c/p\u003e\u003cp id=\"5cb2\"\u003eDo you want your widget to stand out from the background with custom colours depending on the wallpaper? Check out my other article \u003ca rel=\"noopener ugc nofollow\" target=\"_blank\" href=\"https://proandroiddev.com/widgets-with-glance-standing-out-33834eee2dee\"\u003eWidgets with Glance: Standing out\u003c/a\u003e\u003c/p\u003e\u003c/div\u003e\u003c/div\u003e",
  "readingTime": "3 min read",
  "publishedTime": "2024-10-30T23:03:05.876Z",
  "modifiedTime": null
}

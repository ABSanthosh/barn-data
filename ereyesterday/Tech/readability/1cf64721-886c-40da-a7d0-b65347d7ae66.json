{
  "id": "1cf64721-886c-40da-a7d0-b65347d7ae66",
  "title": "Decoding the telephony signals in Pink Floyd's 'The Wall'",
  "link": "https://corelatus.com/blog/Decoding_the_telephony_signals_in_Pink_Floyd_s__The_Wall_.html",
  "description": "Comments",
  "author": "",
  "published": "Sun, 22 Dec 2024 11:49:12 +0000",
  "source": "https://news.ycombinator.com/rss",
  "categories": null,
  "byline": "",
  "length": 6944,
  "excerpt": "Posted December 4th 2024",
  "siteName": "",
  "favicon": "",
  "text": "Decoding the telephony signals in Pink Floyd's 'The Wall' Posted December 4th 2024 I like puzzles. Recently, someone asked me to identify the telephone network signalling in The Wall, a 1982 film featuring Pink Floyd. The signalling is audible when the main character, Pink, calls London from a payphone in Los Angeles, in this scene (Youtube). Here's a five second audio clip from when Pink calls: (HTML5 audio player isn't supported by your browser) What's in the clip? The clip starts with some speech overlapping a dial-tone which in turn overlaps some rapid tone combinations, a ring tone and some pops, clicks and music. It ends with an answer tone. The most characteristic part is the telephone number encoded in the rapid tone combinations. Around 1980, when the film was made, different parts of the world used similar, but incompatible, tone-based signalling schemes. They were all based on the same idea: there are six or eight possible tones, and each digit is represented by a combination of two tones. Let's examine a spectrogram SoX, an audio editing tool for PCs, can make charts that show the spectral components of the audio over time. The horizontal axis represents time, the vertical axis frequency, and darker sections show more audio power, and lighter sections less. Signalling tones appear as dark horizontal lines in the spectrogram, with the digit signalling visible from 0.7 to 1.8 seconds. That part of the signalling has tones at roughly 700, 900, 1100, 1300, 1500 and 1700 Hz. Which signalling standards were in common use? DTMF (ITU-T Q.23 and Q.24) Everyone's heard DTMF (Dual Tone Multi Frequency). It's the sound your phone makes when you interact with one of those \"Press 1 if you are a new customer. Press 2 if you have a billing enquiry. Press 3...\" systems. DTMF is still used by many fixed-line telephones to set up a call. In DTMF, each digit is encoded by playing a \"high\" tone and a \"low\" tone. The low ones can be 697, 770, 852 or 941 Hz. The high ones 1209, 1336, 1477 and 1633 Hz. None of the pairs in the audio match this, so it's not DTMF. Here's an audio clip of what it would sound like if we used DTMF signalling for the same number, with about the same speed of tones: (HTML5 audio player isn't supported by your browser) CAS R2 (ITU-T Q.400—490) CAS R2 uses a two-out-of-six tone scheme with the frequencies 1380, 1500, 1620, 1740, 1860 and 1980 Hz for one call direction and 1140, 1020, 900, 780, 660 and 540 Hz for the other. None of these are a good match for the tones we heard. Besides, Pink is in the USA, and the USA did not use CAS R2, so it's not CAS. This is what the digit signalling would have sounded like if CAS were used: SS5 (ITU-T Q.153 and Q.154) SS5 also uses a two-out-of-six scheme with the frequencies 700, 900, 1100, 1300, 1500 and 1700 Hz. This matches most of what we can hear, and SS5 is the signalling system most likely used for a call from the USA to the UK in the early 1980s. This is what the digit signalling sounds like in SS5, when re-generated to get rid of all the other sounds: (HTML5 audio player isn't supported by your browser) SS7 (ITU-T Q.703—) It can't be SS7. Signalling system No. 7 (SS7) doesn't use tones at all; it's all digital. SS7 is carried separately from the audio channel, so it can't be heard by callers. SS7 wasn't in common use until later in the 1980s. Comparing spectrograms I made a spectrogram which combines all three signalling types on the same chart. The difference between DTMF and SS5 is subtle, but recognisable. CAS is obviously different. Let's feed the audio to some telecom hardware I injected the audio file into a timeslot of an E1 line, connected it to Corelatus' hardware and started an ss5_registersig_monitor. The input audio has a lot of noise in addition to the signalling, but these protocols are robust enough for the digital filters in the hardware to be able to decode and timestamp the dialled digits anyway. Now, we know that the number signalling we hear was 044 1831. The next step is to analyse the frequencies present at the start time for each tone. I re-analysed the audio file with SoX, which did an FFT on snippets of the audio to find the actual tone frequencies at the times there were tones, like this: sox input.wav -n trim 0.700 0.060 stat -freq The results are: TimeFrequenciesInterpretation 0—1200 ms483 Hzdial tone 729 1105 + 1710KP1 (start) 8911304 + 15070 9991306 + 7034 11071306 + 7014 1215703 + 8881 1269902 + 15038 1377902 + 11013 1566701 + 9001 16741501 + 1705ST (stop) 38002418 Answer tone At this point, I'm certain the signalling is SS5. It uses the correct frequencies to transmit digits. It uses the correct digit timing. It obeys the SS5 rules for having KP1 before the digits and ST after the digits. It uses a tone close to 2400 Hz to indicate that the call was answered. I've also listed the dial tone at the beginning, and the 2400 Hz seizing tone at the end. SS5 also uses a 2600 Hz tone, which is infamous for its use in blue box phreaking (telephone fraud) in the 1980s. How was the film's audio made? My best guess is that, at the time the film was made, callers could hear the inter-exchange signalling during operator-assisted calls in the US. That would have allowed the sound engineer to record a real telephone in the US and accurately capture the feeling of a long-distance call. The number itself was probably made-up: it's too short and the area code doesn't seem valid. The audio was then cut and mixed to make the dial tone overlap the signalling. It sounds better that way and fits the scene's timing. Addendum, 18. December 2024: the audio also appears in 'Young Lust' It turns out that an extended version of the same phone call appears near the end of 'Young Lust', a track on the album 'The Wall'. Other engineers with actual experience of 1970s telephone networks have also analysed the signalling in an interesting article with a host of details and background I didn't know about, including the likely names of the people in the call. It's nice to know that I got the digit decoding right, we both concluded it was 044 1831. One surprise is that the number called is probably a shortened real number in London, rather than a completely fabricated one as I suspected earlier. Most likely, several digits between the '1' and the '8' are cut out. Keith Monahan's analysis noted a very ugly splice point there, whereas I only briefly wondered why the digit start times are fairly regular for all digits except that the '8' starts early and the final '1' starts late.",
  "image": "",
  "html": "\u003cdiv id=\"readability-page-1\" class=\"page\"\u003e\u003cdiv id=\"articles\"\u003e\n\n\u003ch2\u003e\nDecoding the telephony signals in Pink Floyd\u0026#39;s \u0026#39;The Wall\u0026#39;\u003c/h2\u003e\n\u003cp\u003e\n\u003cem\u003ePosted December 4th 2024\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003e\n  I like puzzles. Recently, someone asked me to identify the telephone\n  network signalling in \u003cem\u003eThe Wall\u003c/em\u003e, a 1982 film featuring Pink\n  Floyd. The signalling is audible when the main character, Pink,\n  calls London from a payphone in Los Angeles,\n  in \u003ca href=\"https://youtu.be/yvG3WPYAXHM?si=ISfv0O_w2BC3v2ZI\u0026amp;t=2162\"\u003ethis\n    scene\u003c/a\u003e (Youtube).\n\u003c/p\u003e\n\n\u003cp\u003eHere\u0026#39;s a five second audio clip from when Pink calls:\u003c/p\u003e\n\n\u003cp\u003e\n  \u003caudio src=\"https://corelatus.com/blog/static/2024_12_pinkfloyd.wav\" controls=\"\"\u003e\n    (HTML5 audio player isn\u0026#39;t supported by your browser)\n  \u003c/audio\u003e\n\u003c/p\u003e\n\n\n\u003ch2\u003eWhat\u0026#39;s in the clip?\u003c/h2\u003e\n\n\u003cp\u003e\n  The clip starts with some speech overlapping a dial-tone which in\n  turn overlaps some rapid tone combinations, a ring tone and some\n  pops, clicks and music. It ends with an answer tone.\n\u003c/p\u003e\n\n\u003cp\u003e\n  The most characteristic part is the telephone number encoded in the\n  rapid tone combinations. Around 1980, when the film was made,\n  different parts of the world used similar, but incompatible,\n  tone-based signalling schemes. They were all based on the same idea:\n  there are six or eight possible tones, and each digit is represented\n  by a combination of two tones.\n\u003c/p\u003e\n\n\u003ch2\u003eLet\u0026#39;s examine a spectrogram\u003c/h2\u003e\n\n\u003cp\u003e\n  \u003cem\u003eSoX\u003c/em\u003e, an audio editing tool for PCs, can make charts that\n  show the spectral components of the audio over time. The horizontal\n  axis represents time, the vertical axis frequency, and darker\n  sections show more audio power, and lighter sections less.\n\u003c/p\u003e\n\n\u003cp\u003e\u003cimg src=\"https://corelatus.com/blog/static/2024_12_spectrogram.png\" alt=\"spectrogram of signalling\"/\u003e\n\u003c/p\u003e\n\n\u003cp\u003e\n  Signalling tones appear as dark horizontal lines in the spectrogram,\n  with the digit signalling visible from 0.7 to 1.8 seconds. That part\n  of the signalling has tones at roughly \u003cb\u003e700, 900, 1100, 1300, 1500\n  and 1700 Hz\u003c/b\u003e.\n\u003c/p\u003e\n\n\u003ch2\u003eWhich signalling standards were in common use?\u003c/h2\u003e\n\n\u003ch3\u003eDTMF (ITU-T Q.23 and Q.24)\u003c/h3\u003e\n\u003cp\u003e\n  Everyone\u0026#39;s heard DTMF (Dual Tone Multi Frequency). It\u0026#39;s the sound\n  your phone makes when you interact with one of those \u0026#34;\u003cem\u003ePress 1 if\n  you are a new customer. Press 2 if you have a billing enquiry. Press\n  3...\u003c/em\u003e\u0026#34; systems. DTMF is still used by many fixed-line telephones\n  to set up a call.\n\u003c/p\u003e\n\n\u003cp\u003e\n  In DTMF, each digit is encoded by playing a \u0026#34;high\u0026#34; tone and a \u0026#34;low\u0026#34;\n  tone. The low ones can be 697, 770, 852 or 941 Hz.  The high ones\n  1209, 1336, 1477 and 1633 Hz.\n\u003c/p\u003e\n\n\u003cp\u003eNone of the pairs in the audio match this, so \u003cb\u003eit\u0026#39;s not\n    DTMF\u003c/b\u003e. Here\u0026#39;s an audio clip of what it \u003cem\u003ewould\u003c/em\u003e sound like\n  if we used DTMF signalling for the same number, with about the same\n  speed of tones:\n\u003c/p\u003e\n\n\u003cp\u003e\n  \u003caudio src=\"https://corelatus.com/blog/static/2024_12_dtmf.wav\" controls=\"\"\u003e\n    (HTML5 audio player isn\u0026#39;t supported by your browser)\n  \u003c/audio\u003e\n\u003c/p\u003e\n\n\u003ch3\u003eCAS R2 (ITU-T Q.400—490)\u003c/h3\u003e\n\n\u003cp\u003e\n  CAS R2 uses a two-out-of-six tone scheme with the frequencies 1380,\n  1500, 1620, 1740, 1860 and 1980 Hz for one call direction and 1140,\n  1020, 900, 780, 660 and 540 Hz for the other.  None of these are a\n  good match for the tones we heard. Besides, Pink is in the USA, and\n  the USA did not use CAS R2, so \u003cb\u003eit\u0026#39;s not CAS\u003c/b\u003e.\n\u003c/p\u003e\n\n\u003cp\u003eThis is what the digit signalling would have sounded like if\n  CAS were used:\u003c/p\u003e\n\n\n\n\u003ch3\u003eSS5 (ITU-T Q.153 and Q.154)\u003c/h3\u003e\n\u003cp\u003e\n  SS5 also uses a two-out-of-six scheme with the frequencies 700, 900,\n  1100, 1300, 1500 and 1700 Hz.  This matches most of what we can\n  hear, and SS5 is the signalling system most likely used for a call\n  from the USA to the UK in the early 1980s.\n\u003c/p\u003e\n\n\u003cp\u003eThis is what the digit signalling sounds like in SS5, when\nre-generated to get rid of all the other sounds:\u003c/p\u003e\n\n\u003cp\u003e\n  \u003caudio src=\"https://corelatus.com/blog/static/2024_12_ss5.wav\" controls=\"true\"\u003e\n    (HTML5 audio player isn\u0026#39;t supported by your browser)\n  \u003c/audio\u003e\n  \u003cbr/\u003e\n\u003c/p\u003e\n\n\u003ch3\u003eSS7 (ITU-T Q.703—)\u003c/h3\u003e\n\n\u003cp\u003e\n  \u003cb\u003eIt can\u0026#39;t be SS7\u003c/b\u003e. Signalling system No. 7 (SS7) doesn\u0026#39;t use\n  tones at all; it\u0026#39;s all digital. SS7 is carried separately from the\n  audio channel, so it can\u0026#39;t be heard by callers. SS7 wasn\u0026#39;t in\n  common use until later in the 1980s.\n\u003c/p\u003e\n\n\u003ch3\u003eComparing spectrograms\u003c/h3\u003e\n\n\u003cp\u003e\n  I made a spectrogram which combines all three signalling types on\n  the same chart. The difference between DTMF and SS5 is subtle, but\n  recognisable. CAS is obviously different.\n\u003c/p\u003e\n\n\u003cp\u003e\u003cimg src=\"https://corelatus.com/blog/static/2024_12_synthetic_spectrogram.png\" alt=\"spectrogram of signalling\"/\u003e\n\u003c/p\u003e\n\n\u003ch2\u003eLet\u0026#39;s feed the audio to some telecom hardware\u003c/h2\u003e\n\n  \u003cp\u003e\n    I injected the audio file into a timeslot of an E1 line, connected\n    it to Corelatus\u0026#39; hardware and started an \u003cem\u003ess5_registersig_monitor\u003c/em\u003e.\n  \u003c/p\u003e\n\n\u003cp\u003e\n  The input audio has a lot of noise in addition to the signalling,\n  but these protocols are robust enough for the digital filters in the\n  hardware to be able to decode and timestamp the dialled digits\n  anyway. Now, we know that the number signalling we hear was \u003cb\u003e044\n  1831\u003c/b\u003e. The next step is to analyse the frequencies present at the\n  start time for each tone. I re-analysed the audio file\n  with \u003cem\u003eSoX\u003c/em\u003e, which did an FFT on snippets of the audio to find\n  the actual tone frequencies at the times there were tones, like\n  this:\n\u003c/p\u003e\n\n\u003cpre\u003e    sox input.wav -n trim 0.700 0.060 stat -freq\n\u003c/pre\u003e\n\n\u003cp\u003eThe results are:\u003c/p\u003e\n\n  \u003ctable\u003e\n    \u003ctbody\u003e\u003ctr\u003e\u003cth\u003eTime\u003c/th\u003e\u003cth\u003eFrequencies\u003c/th\u003e\u003cth\u003eInterpretation\u003c/th\u003e\u003c/tr\u003e\n    \u003ctr\u003e\u003ctd\u003e0—1200 ms\u003c/td\u003e\u003ctd\u003e483 Hz\u003c/td\u003e\u003ctd\u003edial tone\u003c/td\u003e\n    \u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e729 \u003c/td\u003e\u003ctd\u003e1105 + 1710\u003c/td\u003e\u003ctd\u003eKP1 (start)\u003c/td\u003e\n    \u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e891\u003c/td\u003e\u003ctd\u003e1304 + 1507\u003c/td\u003e\u003ctd\u003e0\u003c/td\u003e\n    \u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e999\u003c/td\u003e\u003ctd\u003e1306 + 703\u003c/td\u003e\u003ctd\u003e4\u003c/td\u003e\n    \u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e1107\u003c/td\u003e\u003ctd\u003e1306 + 701\u003c/td\u003e\u003ctd\u003e4\u003c/td\u003e\n    \u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e1215\u003c/td\u003e\u003ctd\u003e703 + 888\u003c/td\u003e\u003ctd\u003e1\u003c/td\u003e\n    \u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e1269\u003c/td\u003e\u003ctd\u003e902 + 1503\u003c/td\u003e\u003ctd\u003e8\u003c/td\u003e\n    \u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e1377\u003c/td\u003e\u003ctd\u003e902 + 1101\u003c/td\u003e\u003ctd\u003e3\u003c/td\u003e\n    \u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e1566\u003c/td\u003e\u003ctd\u003e701 + 900\u003c/td\u003e\u003ctd\u003e1\u003c/td\u003e\n    \u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e1674\u003c/td\u003e\u003ctd\u003e1501 + 1705\u003c/td\u003e\u003ctd\u003eST (stop)\u003c/td\u003e\n    \u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e3800\u003c/td\u003e\u003ctd\u003e2418 \u003c/td\u003e\u003ctd\u003eAnswer tone\u003c/td\u003e\n  \u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\n\n\u003cp\u003e\n  At this point, I\u0026#39;m certain \u003cb\u003ethe signalling is SS5\u003c/b\u003e. It uses the\n  correct frequencies to transmit digits. It uses the correct digit\n  timing. It obeys the SS5 rules for having KP1 before the digits and\n  ST after the digits. It uses a tone close to 2400 Hz to indicate\n  that the call was answered.\n\u003c/p\u003e\n\n\n\u003cp\u003e\n  I\u0026#39;ve also listed the dial tone at the beginning, and the 2400 Hz\n  \u003cem\u003eseizing\u003c/em\u003e tone at the end. SS5 also uses a 2600 Hz tone,\n  which is infamous for its use in blue box phreaking (telephone\n  fraud) in the 1980s.\n\u003c/p\u003e\n\n\u003ch2\u003eHow was the film\u0026#39;s audio made?\u003c/h2\u003e\n\n\u003cp\u003e\n  My best guess is that, at the time the film was made, callers could\n  hear the inter-exchange signalling during operator-assisted calls in\n  the US. That would have allowed the sound engineer to record a real\n  telephone in the US and accurately capture the feeling of a\n  long-distance call. The number itself was probably made-up: it\u0026#39;s too\n  short and the area code doesn\u0026#39;t seem valid.\n\u003c/p\u003e\n\n\u003cp\u003eThe audio was then cut and mixed to make the dial tone overlap the\n  signalling. It sounds better that way and fits the scene\u0026#39;s timing.\n\u003c/p\u003e\n\n\n\u003ch2\u003eAddendum, 18. December 2024: the audio also appears in \u0026#39;Young Lust\u0026#39;\u003c/h2\u003e\n\n\u003cp\u003e\n  It turns out that an extended version of the same phone call appears\n  near the end of \u0026#39;Young Lust\u0026#39;, a track on the album \u0026#39;The Wall\u0026#39;. Other\n  engineers with actual experience of 1970s telephone networks have\n  \u003ca href=\"https://telephoneworld.org/landline-telephone-history/pink-floyds-young-lust-explained-and-demystified/\"\u003e also analysed the signalling\n  \u003c/a\u003e in an interesting article with a host of details and background\n  I didn\u0026#39;t know about, including the likely names of the people in the\n  call.\n\u003c/p\u003e\n\n\u003cp\u003e\n  It\u0026#39;s nice to know that I got the digit decoding right, we both\n  concluded it was 044 1831. One surprise is that the number called is\n  probably a shortened real number in London, rather than a completely\n  fabricated one as I suspected earlier. Most likely, several digits\n  between the \u0026#39;1\u0026#39; and the \u0026#39;8\u0026#39; are cut out. Keith Monahan\u0026#39;s analysis\n  noted a \u003cem\u003every ugly splice point\u003c/em\u003e there, whereas I only\n  briefly wondered why the digit start times are fairly regular for\n  all digits except that the \u0026#39;8\u0026#39; starts early and the final \u0026#39;1\u0026#39; starts\n  late.\n\u003c/p\u003e\n\u003c/div\u003e\u003c/div\u003e",
  "readingTime": "8 min read",
  "publishedTime": null,
  "modifiedTime": null
}
